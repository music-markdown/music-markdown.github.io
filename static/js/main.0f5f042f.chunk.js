(this["webpackJsonpmusic-markdown"]=this["webpackJsonpmusic-markdown"]||[]).push([[0],{190:function(e,t,n){"use strict";(function(e,c,a){const{isChord:o}=n(91),s=1,r=2,i=3;function l(e){return e.endsWith(":")?"## ".concat(e.slice(0,-1)):e.startsWith("[")&&e.endsWith("]")?"## ".concat(e.slice(1,-1)):null}function j(e){const t=e.trim().split(/\s+/);for(const n of t)if(!o(n))return null;return"c1: ".concat(e)}function d(e){let t=s,n=1;const c=e.split(/\n/),a=[];for(const o of c)if(o.startsWith(":::"))t=i,a.push(o);else if(t!==s)if(t!==r)t!==i||(":::"===o&&(t=s),a.push(o));else{const e=l(o);if(e){t=s,a.push(""),a.push(e);continue}const c=j(o);if(c){a.push(""),a.push(c),n=1;continue}if(""===o.trim())continue;a.push("l".concat(n,": ").concat(o)),n+=1}else{const e=l(o);if(e){a.push(e);continue}const c=j(o);if(c){t=r,a.push(c),n=1;continue}a.push(o)}return a.join("\n")}n.c[n.s]===a&&async function(){console.log(d(await async function(t){let n=e.alloc(0);for await(const c of t)n=e.concat([n,c]);return n.toString("utf8")}(c.stdin)))}(),t.a=d}).call(this,n(165).Buffer,n(373),n(374)(e))},385:function(e,t,n){"use strict";n.r(t);const c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}var o=n(1),s=n.n(o),r=n(133);const i="columns",l="music-markdown",j="/repos/:repo([^/]+/[^/]+)",d="transpose",b="".concat(l,":github_token"),h="".concat(l,":repositories");"".concat(l,":indexed-contents");async function u(e,t,n){void 0!==t&&0!==t.length||(t="");const c=await g("/repos/".concat(e,"/contents/").concat(t),{cache:"no-cache"},n),a=await c.json();return a.content=a.content?r.a.decode(a.content):"",a}async function p(e,t,n,c,a){const o={message:"Music Markdown published ".concat(t),content:r.a.encode(n),branch:a};return c&&(o.sha=c),g("/repos/".concat(e,"/contents/").concat(t),{method:"PUT",mode:"cors",body:JSON.stringify(o)})}function m(){const e=localStorage.getItem(h);return e?JSON.parse(e):[]}async function O(e){!function(e){for(const t of m())if(t===e)throw new Error('"'.concat(e,'" is already registered.'))}(e),await async function(e){if(404===(await g("/repos/".concat(e))).status)throw new Error('"'.concat(e,'" not found on GitHub.'))}(e);const t=m();t.push(e),localStorage.setItem(h,JSON.stringify(t))}async function x(e){return(await g("/repos/".concat(e,"/branches"))).json()}async function g(e,t,n){const c=new URL(e,"https://api.github.com");n&&c.searchParams.set("ref",n);const a=f();return a&&(t={...t,headers:{Authorization:"token ".concat(a)}}),fetch(new Request(c,t))}function f(){return localStorage.getItem(b)}function w(e=f()){return!!e&&(!!e.match(/^[0-9a-f]{40}$/)||!!e.match(/^ghp_[a-zA-Z0-9]{36}$/))}var y=n(0);const v={palette:{mode:"light"}},k={palette:{mode:"dark"}},C="dark"===window.localStorage.getItem("".concat(l,":palette-type"))?k:v,S=Object(o.createContext)(),T=()=>Object(o.useContext)(S),N=e=>{const[t,n]=Object(o.useState)({githubToken:f(),theme:C,youTubeId:null});return Object(y.jsx)(S.Provider,{value:{data:t,isValidGithubToken:()=>w(t.githubToken),setGithubToken:e=>{e!==t.githubToken&&(n({...t,githubToken:e}),function(e){e?localStorage.setItem(b,e):localStorage.removeItem(b)}(e))},isDarkTheme:()=>"dark"===t.theme.palette.mode,toggleTheme:()=>{const e="dark"===t.theme.palette.mode?v:k;window.localStorage.setItem("".concat(l,":palette-type"),e.palette.mode),n({...t,theme:e})},setYouTubeId:e=>{e!==t.youTubeId&&n({...t,youTubeId:e})}},children:e.children})};function A(){const e=T();return{youTubeId:e.data.youTubeId,setYouTubeId:e.setYouTubeId}}var E=n(460),G=n(503),I=n(208),F=n(14),R=n(18),H=n(474),P=n(184),M=n.n(P),D=n(470),W=n(492),z=n(480),B=n(82),V=n(463);const L=Object(V.a)((e=>({paper:{padding:e.spacing(1)},reactRouterHoverInherit:e.reactRouterHoverInherit})));function _({pathname:e}){const t=L(),n=e.split("/").filter((e=>!!e));n[3]="browser";const c=function(e,t){const n=[],c=[0,3],a="breadcrumb-item-";let o="";for(let s=0;s<e.length;s++){const r=e[s];o=o.concat("/",r),-1===c.indexOf(s)&&(s===e.length-1?n.push(Object(y.jsx)(B.a,{role:"breadcrumb",color:"textPrimary",children:r},"".concat(a).concat(s))):n.push(Object(y.jsx)(W.a,{role:"breadcrumb",component:F.b,to:"".concat(o,"/"),color:"inherit",className:t.reactRouterHoverInherit,children:r},"".concat(a).concat(s))))}return n}(n,t);return Object(y.jsx)(z.a,{className:t.paper,children:Object(y.jsxs)(D.a,{children:[Object(y.jsx)(W.a,{role:"breadcrumb",component:F.b,to:"/",color:"inherit",className:t.reactRouterHoverInherit,children:"Home"},"".concat("breadcrumb-item-","Home")),c]})})}var $=n(481),U=n(482),J=n(473),Y=n(484),q=n(453);const K=Object(V.a)({root:{flexGrow:1,padding:8}});function X({location:e,match:t}){const n=K(),[c,a]=Object(o.useState)([]),[s,r]=Object(o.useState)(!1);return Object(o.useEffect)((()=>{!async function(){const e=await x(t.params.repo);a(e),r(!0)}()}),[t.params.repo]),s?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_,{pathname:e.pathname}),Object(y.jsx)("div",{className:n.root,children:Object(y.jsx)(U.a,{children:c.map((e=>Object(y.jsxs)(J.a,{button:!0,component:F.b,to:"/repos/".concat(t.params.repo,"/browser/").concat(e.name,"/"),children:[Object(y.jsx)(Y.a,{children:Object(y.jsx)(H.a,{children:Object(y.jsx)(M.a,{})})}),Object(y.jsx)(q.a,{primary:e.name})]},"list-group-item-".concat(e.name))))})})]}):Object(y.jsx)($.a,{})}var Z=n(461),Q=n(22),ee=n(185),te=n.n(ee),ne=n(191),ce=n.n(ne),ae=n(487),oe=n(98),se=n.n(oe),re=n(486),ie=n(194),le=n.n(ie),je=n(475),de=n(187),be=n.n(de),he=n(186),ue=n.n(he),pe=n(485),me=n(504),Oe=n(505),xe=n(97),ge=n.n(xe);const fe=Object(V.a)((e=>({error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing(1)}})));function we({open:e,handleClose:t,message:n}){const c=fe();return Object(y.jsx)(me.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e,autoHideDuration:6e3,onClose:t,children:Object(y.jsx)(Oe.a,{className:c.error,"aria-describedby":"client-snackbar",message:Object(y.jsxs)("span",{id:"client-snackbar",className:c.message,children:[Object(y.jsx)(ue.a,{className:ge()(c.icon,c.iconVariant)}),n]}),action:[Object(y.jsx)(pe.a,{"aria-label":"Close",color:"inherit",className:c.close,onClick:t,size:"large",children:Object(y.jsx)(be.a,{className:c.icon})},"close")]})})}var ye=n(188),ve=n.n(ye),ke=n(189),Ce=n.n(ke);const Se=Object(V.a)((e=>({columns:{columnGap:"".concat(20,"px"),columnRuleWidth:"1px",columnRuleStyle:"dashed",columnRuleColor:e.palette.text.secondary}}))),Te=({source:e,width:t,columnCount:n,transposeAmount:c})=>{const a=Object(Q.a)(),{setYouTubeId:s}=A(),[r,i]=Object(o.useState)(""),[l,j]=Object(o.useState)(),[d,b]=Object(o.useState)(!1);Object(o.useEffect)((()=>{const o=new ve.a({html:!0}).use(Ce.a);o.setTranspose(c),o.setTheme(a.palette.mode),o.setMaxWidth((t-20*(n-1))/n);try{i(o.render(e)),b(!1),s(o.meta.youTubeId)}catch(r){console.log(r),i("<pre>".concat(e,"</pre>")),j(r.message),b(!0)}}),[s,e,t,n,c,a.palette.mode]);var h=/<script>([.\s\S]*)<\/script>/gm.exec(r);return h&&window.eval(h[1]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"mmd-".concat(a.palette.mode),dangerouslySetInnerHTML:{__html:r}}),Object(y.jsx)(we,{message:l,open:d,handleClose:(e,t)=>{"clickaway"!==t&&b(!1)}})]})};function Ne(e){const t=Se(),n=Object(o.useRef)(),{width:c}=function(e){const[t,n]=Object(o.useState)({width:0,height:0});return Object(o.useEffect)((()=>{const t=()=>{n({width:e.current.offsetWidth,height:e.current.offsetHeight})};return(null===e||void 0===e?void 0:e.current)&&t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[e]),t}(n);return Object(y.jsx)("div",{className:t.columns,style:{columnCount:e.columnCount},ref:n,children:Object(y.jsx)(Te,{width:c,...e})})}var Ae=n(193),Ee=n.n(Ae),Ge=n(192),Ie=n.n(Ge),Fe=n(476),Re=n(190),He=n(38),Pe=n.n(He),Me=(n(379),n(380),n(381),n(63));const De=Object(V.a)((e=>({root:{flexGrow:1,padding:8},fabProgress:{color:Me.a[500],position:"absolute",top:-6,left:-6,zIndex:1},editor:{marginLeft:e.spacing(1),marginRight:e.spacing(1),height:"100%",width:"100%"},fab:{margin:e.spacing(1)},toolbar:{display:"flex",padding:e.spacing(1)},paper:{padding:e.spacing(2),height:"100%"},buttonSuccess:{backgroundColor:Me.a[500],"&:hover":{backgroundColor:Me.a[700]}}})));function We({match:e,location:t}){const n=De(),c=Object(Q.a)(),a=T(),[s,r]=Object(o.useState)(""),i=function(e,t){const[n,c]=Object(o.useState)("");return Object(o.useEffect)((()=>{const n=setTimeout((()=>c(e)),t);return()=>clearTimeout(n)}),[e,t]),n}(s,250),[l,j]=Object(o.useState)(),[d,b]=Object(o.useState)(!1),[h,m]=Object(o.useState)(!1),[O,x]=Object(o.useState)(!1),[g,f]=Object(o.useState)(!1),{repo:w,path:v,branch:k}=e.params;Object(o.useEffect)((()=>{!async function(){const e=await u(w,v,k);f(!0),r(e.content),j(e.sha)}()}),[w,v,k]);const C=Pe.a.parse(t.search),S=C.columns||"1",N=Number(C.transpose)||0,A=ge()({[n.buttonSuccess]:h}),E=t.pathname.split("/");E[4]="viewer";const G=E.join("/"),I=[E[2],E[3],"blob"].concat(E.slice(5)),R="https://github.com/".concat(I.join("/"));return g?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_,{pathname:t.pathname}),Object(y.jsx)("div",{className:n.root,children:Object(y.jsxs)(je.a,{container:!0,spacing:1,children:[Object(y.jsx)(je.a,{item:!0,xs:12,children:Object(y.jsxs)(z.a,{className:n.toolbar,children:[Object(y.jsx)(Fe.a,{title:a.isValidGithubToken()?"Save":"Add a GitHub Token to Enable Saving",children:Object(y.jsx)("span",{children:Object(y.jsxs)(re.a,{disabled:!O||!a.isValidGithubToken(),className:"".concat(A," ").concat(n.fab),onClick:async()=>{if(!d){m(!1),b(!0);const e=await p(w,v,s,l,k),t=await e.json();200===e.status?(m(!0),b(!1),j(t.content.sha)):(m(!1),b(!1))}},children:[h?Object(y.jsx)(ce.a,{}):Object(y.jsx)(Ie.a,{}),d&&Object(y.jsx)(ae.a,{size:68,className:n.fabProgress})]})})}),Object(y.jsx)(Fe.a,{title:"Auto Format",children:Object(y.jsx)(re.a,{className:n.fab,onClick:()=>{r(Object(Re.a)(s))},children:Object(y.jsx)(Ee.a,{})})}),Object(y.jsx)(Fe.a,{title:"Return to Markdown View",children:Object(y.jsx)(re.a,{component:F.b,to:G,className:n.fab,children:Object(y.jsx)(se.a,{})})}),Object(y.jsx)(Fe.a,{title:"Open in GitHub",children:Object(y.jsx)(re.a,{href:R,target:"_blank",className:n.fab,children:Object(y.jsx)(le.a,{})})})]})}),Object(y.jsx)(je.a,{item:!0,xs:6,children:Object(y.jsx)(z.a,{className:n.paper,children:Object(y.jsx)(te.a,{mode:"markdown",theme:"dark"===c.palette.mode?"twilight":"textmate",width:"100%",maxLines:1/0,className:n.editor,onChange:e=>{r(e),x(!0),m(!1)},value:s,editorProps:{$blockScrolling:!0}})})}),Object(y.jsx)(je.a,{item:!0,xs:6,children:Object(y.jsx)(z.a,{className:n.paper,children:Object(y.jsx)(Ne,{source:i,columnCount:S,transposeAmount:N})})})]})})]}):Object(y.jsx)($.a,{})}const ze=Object(V.a)({root:{flexGrow:1,padding:8}});function Be({location:e,match:t}){const n=ze(),[c,a]=Object(o.useState)(),[s,r]=Object(o.useState)(!1);Object(o.useEffect)((()=>{!async function(){const{repo:e,path:n,branch:c}=t.params,o=await u(e,n,c);a(o.content),r(!0)}()}),[t.params]);const i=Pe.a.parse(e.search),l=i.columns||"1",j=Number(i.transpose)||0;return s?Object(y.jsx)("div",{className:n.root,children:Object(y.jsx)(Ne,{source:c,columnCount:l,transposeAmount:j})}):Object(y.jsx)($.a,{})}var Ve=n(489),Le=n(477),_e=n(455),$e=n(201),Ue=n.n($e),Je=n(491),Ye=n(471),qe=n(494),Ke=n(495),Xe=n(496),Ze=n(498),Qe=n(497),et=n(459),tt=n(195),nt=n.n(tt),ct=n(464),at=n(493);const ot=Object(at.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)"}})(qe.a),st=()=>Object(y.jsxs)(Ye.a,{children:[Object(y.jsx)(Ke.a,{expandIcon:Object(y.jsx)(nt.a,{}),children:Object(y.jsxs)(B.a,{children:["Set a ",Object(y.jsx)("b",{children:"GitHub Token"})," to create or change Music Markdown files in GitHub."]})}),Object(y.jsx)(ot,{children:Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"How to Create a New Token"}),Object(y.jsx)("p",{children:"These instructions will help you create a new GitHub token, and add it to Music Markdown so that you can use the Music Markdown editor."}),Object(y.jsxs)("ol",{children:[Object(y.jsxs)("li",{children:["Open your"," ",Object(y.jsx)("a",{href:"https://github.com/settings/tokens",rel:"noreferrer",target:"_blank",children:"Personal access tokens"})," ","page in GitHub."]}),Object(y.jsxs)("li",{children:["Click ",Object(y.jsx)("b",{children:"Generate new token"}),"."]}),Object(y.jsxs)("li",{children:["Under ",Object(y.jsx)("b",{children:"Note"})," type ",Object(y.jsx)("b",{children:"Music Markdown"}),"."]}),Object(y.jsxs)("li",{children:["Under ",Object(y.jsx)("b",{children:"scopes"})," grant ",Object(y.jsx)("b",{children:"repo"})," permissions."]}),Object(y.jsxs)("li",{children:["Scroll to the bottom and click ",Object(y.jsx)("b",{children:"Generate token"}),"."]}),Object(y.jsx)("li",{children:"Copy the newly generated token and paste it below."})]})]})})]});function rt({open:e,handleClose:t}){const n=T(),[c,a]=Object(o.useState)(n.data.githubToken),s=e=>""===e||w(e),r=()=>{a(n.data.githubToken),t()};return Object(y.jsxs)(Xe.a,{open:e,onClose:r,children:[Object(y.jsx)(et.a,{id:"set-github-api-key",children:"Set GitHub Token"}),Object(y.jsx)(Qe.a,{children:Object(y.jsx)(st,{})}),Object(y.jsx)(Qe.a,{children:Object(y.jsx)(ct.a,{autoFocus:!0,margin:"dense",label:"GitHub Token",fullWidth:!0,value:c||"",onChange:e=>a(e.target.value),error:!s(c),helperText:"Warning: GitHub tokens are very sensitive. Anyone who  gains access to this token will have access to your GitHub account. Please proceed with caution."})}),Object(y.jsxs)(Ze.a,{children:[Object(y.jsx)(Le.a,{onClick:r,color:"secondary",children:"Cancel"}),Object(y.jsx)(Le.a,{onClick:()=>{s(c)&&(n.setGithubToken(c),t())},color:"primary",disabled:!s(c),children:""===c?"Clear":"Save"})]})]})}var it=n(26),lt=n(468),jt=n(488),dt=n(472),bt=n(199),ht=n.n(bt),ut=n(462),pt=n(466),mt=n(499),Ot=n(478),xt=n(198),gt=n.n(xt),ft=n(197),wt=n.n(ft),yt=n(196),vt=n.n(yt);const kt=Object(V.a)((e=>({paper:{position:"fixed",bottom:e.spacing(1),right:e.spacing(1),padding:e.spacing(2),cursor:"move"}})));function Ct({youTubeId:e,visible:t}){const n=kt(),c=Object(o.useRef)();return t&&e?Object(y.jsx)(vt.a,{nodeRef:c,children:Object(y.jsx)(z.a,{ref:c,className:n.paper,children:Object(y.jsx)("iframe",{title:"YouTube",style:{border:0},src:"https://www.youtube.com/embed/".concat(e,"?autoplay=1&modestbranding=1"),allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}):null}function St({youTubeId:e}){const[t,n]=Object(o.useState)(!1);Object(o.useEffect)((()=>{n(!e)}),[e]);return e?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Fe.a,{title:"Show / Hide YouTube Player",children:Object(y.jsx)(pe.a,{color:t?"secondary":"default",onClick:()=>{n(!t)},size:"large",children:Object(y.jsx)(wt.a,{})})}),Object(y.jsx)(Ct,{visible:t,youTubeId:e})]}):null}const Tt=Object(V.a)((e=>({popper:{zIndex:9999},paper:{padding:e.spacing(2)},slider:{width:300}}))),Nt=(e,t,n,c)=>{const a=Pe.a.parse(e.location.search);n===c?delete a[t]:a[t]=n,e.history.push({search:Pe.a.stringify(a)})},At=e=>{const t=Tt(),[n,c]=Object(o.useState)(),a=Pe.a.parse(e.location.search).columns||"1";return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Fe.a,{title:"Set Number of Columns",children:Object(y.jsx)(pe.a,{onClick:e=>{c(n?void 0:e.currentTarget)},size:"large",children:Object(y.jsx)(dt.a,{badgeContent:a,invisible:"1"===a,color:"secondary",children:Object(y.jsx)(gt.a,{})})})}),Object(y.jsx)(ut.a,{className:t.popper,open:!!n,anchorEl:n,children:Object(y.jsx)(_e.a,{onClickAway:e=>{n.contains(e.target)||c(void 0)},children:Object(y.jsx)(z.a,{className:t.paper,children:Object(y.jsx)(Ot.a,{value:a,exclusive:!0,onChange:(t,n)=>Nt(e,i,n,"1"),children:["1","2","3","4","5","6","7","8"].map((e=>Object(y.jsx)(mt.a,{value:e,children:e},e)))})})})})]})},Et=e=>{const t=Tt(),[n,c]=Object(o.useState)(),a=Pe.a.parse(e.location.search).transpose||"0";return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Fe.a,{title:"Transpose Up / Down",children:Object(y.jsx)(pe.a,{onClick:e=>{c(n?void 0:e.currentTarget)},size:"large",children:Object(y.jsx)(dt.a,{badgeContent:a,invisible:"0"===a,color:"secondary",children:Object(y.jsx)(ht.a,{})})})}),Object(y.jsx)(ut.a,{className:t.popper,open:!!n,anchorEl:n,children:Object(y.jsx)(_e.a,{onClickAway:e=>{n.contains(e.target)||c(void 0)},children:Object(y.jsx)(z.a,{className:t.paper,children:Object(y.jsx)(pt.a,{className:t.slider,value:Number(a),min:-12,max:12,step:1,marks:!0,onChange:(t,n)=>Nt(e,d,String(n),"0")})})})})]})};function Gt(e){const{youTubeId:t}=A();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(St,{youTubeId:t}),Object(y.jsx)(Et,{...e}),Object(y.jsx)(At,{...e})]})}var It=n(202),Ft=n.n(It),Rt=n(203),Ht=n.n(Rt),Pt=n(469),Mt=n(490),Dt=n(200),Wt=n.n(Dt),zt=n(450);const Bt=Object(V.a)((e=>({reactRouterHoverInherit:e.reactRouterHoverInherit,paper:{padding:e.spacing(1)},grow:{flexGrow:1},filter:{filter:"dark"===e.palette.mode?"invert(100%)":""},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(zt.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(zt.a)(e.palette.common.white,.25)},marginTop:e.spacing(1),marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(1),width:"auto"}},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,7),width:"100%"}}))),Vt=({match:e})=>Object(y.jsx)(Fe.a,{title:"Song List View",children:Object(y.jsx)(pe.a,{component:F.b,to:"/repos/".concat(e.params.repo,"/browser/").concat(e.params.branch,"/"),size:"large",children:Object(y.jsx)(Wt.a,{})})}),Lt=({match:e})=>Object(y.jsx)(Fe.a,{title:"Edit Song",children:Object(y.jsx)("span",{children:Object(y.jsx)(pe.a,{component:F.b,to:"/repos/".concat(e.params.repo,"/editor/").concat(e.params.branch,"/").concat(e.params.path),size:"large",children:Object(y.jsx)(Ue.a,{})})})}),_t=({match:e})=>Object(y.jsx)(Fe.a,{title:"Markdown View",children:Object(y.jsx)(pe.a,{component:F.b,to:"/repos/".concat(e.params.repo,"/viewer/").concat(e.params.branch,"/").concat(e.params.path),size:"large",children:Object(y.jsx)(se.a,{})})}),$t=()=>{const e=Bt(),[t,n]=Object(o.useState)(),[c,a]=Object(o.useState)(!1),s=e=>{c||n(e.currentTarget),a(!c)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(pe.a,{variant:"contained",onClick:s,size:"large",children:Object(y.jsx)(Ft.a,{})}),c?Object(y.jsx)(_e.a,{onClickAway:s,children:Object(y.jsx)(ut.a,{id:"search-popper",anchorEl:t,placement:"bottom-end",open:c,children:Object(y.jsx)(z.a,{className:e.paper,children:Object(y.jsx)(it.c,{className:e.search,placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})})})}):null]})};function Ut(){const e=Bt(),t=T(),[n,c]=Object(o.useState)(!1),[a,s]=Object(o.useState)(!1),[r,i]=Object(o.useState)(),l=e=>{a||i(e.currentTarget),s(!a)};return Object(y.jsxs)(Ve.a,{position:"sticky",children:[Object(y.jsxs)(Mt.a,{children:[Object(y.jsx)(Le.a,{className:e.reactRouterHoverInherit,component:F.b,to:"/",children:Object(y.jsx)("img",{className:e.filter,src:"music-markdown.svg",width:50,alt:"Music Markdown"})}),Object(y.jsx)("div",{className:e.grow}),Object(y.jsx)(R.b,{path:"".concat(j,"/:mode/:branch/:path*"),component:$t}),Object(y.jsx)(R.b,{path:["/sandbox","".concat(j,"/:mode(viewer|editor)/:branch/:path*")],component:Gt}),Object(y.jsx)(R.b,{path:"".concat(j,"/:mode(viewer|editor)/:branch/:path*"),component:Vt}),Object(y.jsx)(R.b,{path:"".concat(j,"/viewer/:branch/:path*"),component:Lt}),Object(y.jsx)(R.b,{path:"".concat(j,"/editor/:branch/:path*"),component:_t}),Object(y.jsx)(pe.a,{onClick:l,size:"large",children:Object(y.jsx)(Ht.a,{})}),Object(y.jsx)(ut.a,{id:"settings-popper",open:a,anchorEl:r,placement:"bottom-end",children:Object(y.jsx)(z.a,{className:e.paper,children:Object(y.jsx)(_e.a,{onClickAway:l,children:Object(y.jsxs)(jt.a,{children:[Object(y.jsx)(lt.a,{children:Object(y.jsx)(Je.a,{control:Object(y.jsx)(Pt.a,{onChange:()=>{t.toggleTheme()},checked:t.isDarkTheme()}),label:"Toggle Dark Mode?"})}),Object(y.jsx)(lt.a,{onClick:()=>{c(!0),s(!1)},children:"Set GitHub Token"})]})})})})]}),Object(y.jsx)(rt,{open:n,handleClose:()=>{c(!1),s(!1)}})]},"top-navbar")}var Jt=n(102),Yt=n.n(Jt);const qt=Object(V.a)((e=>({grid:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})));function Kt({handleAddRepository:e}){const t=qt(),[n,c]=Object(o.useState)(!1),[a,s]=Object(o.useState)(""),[r,i]=Object(o.useState)(""),[l,j]=Object(o.useState)(null),[d,b]=Object(o.useState)(!1),h=()=>{c(!1),s(""),i(""),b(!1)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(je.a,{container:!0,className:t.grid,direction:"row",justifyContent:"flex-end",alignItems:"flex-end",children:[Object(y.jsx)(re.a,{"aria-label":"Add",onClick:()=>{c(!0)},children:Object(y.jsx)(Yt.a,{})}),Object(y.jsxs)(Xe.a,{open:n,"aria-labelledby":"add-repository-dialog",children:[Object(y.jsx)(et.a,{id:"add-repository-dialog-title",children:"Add Repository"}),Object(y.jsxs)(Qe.a,{children:[Object(y.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"owner",label:"Repository Owner",value:r,onChange:e=>{i(e.target.value)},fullWidth:!0}),Object(y.jsx)(ct.a,{margin:"dense",id:"name",label:"Repository Name",value:a,onChange:e=>{s(e.target.value)},fullWidth:!0})]}),Object(y.jsxs)(Ze.a,{children:[Object(y.jsx)(Le.a,{onClick:h,children:"Cancel"}),Object(y.jsx)(Le.a,{onClick:async()=>{try{await e("".concat(r,"/").concat(a)),h()}catch(t){(e=>{j(e),b(!0)})(t.message)}},children:"Add"})]})]})]}),Object(y.jsx)(we,{message:l,open:d,handleClose:(e,t)=>{"clickaway"!==t&&b(!1)}})]})}var Xt=n(204),Zt=n.n(Xt),Qt=n(205),en=n.n(Qt),tn=n(483);const nn=Object(V.a)({root:{flexGrow:1,padding:8}});function cn(){const e=nn(),[t,n]=Object(o.useState)([]),c=JSON.stringify(t);Object(o.useEffect)((()=>{s()}),[c]);const a=e=>{!function(e){const t=m().filter((t=>t!==e));localStorage.setItem(h,JSON.stringify(t))}(e),s()},s=()=>{n(m())};return Object(y.jsxs)("div",{className:e.root,children:[Object(y.jsx)(U.a,{children:t.map((e=>Object(y.jsxs)(J.a,{button:!0,component:F.b,to:"/repos/".concat(e,"/"),children:[Object(y.jsx)(Y.a,{children:Object(y.jsx)(H.a,{children:Object(y.jsx)(Zt.a,{})})}),Object(y.jsx)(q.a,{primary:e}),Object(y.jsx)(tn.a,{children:Object(y.jsx)(pe.a,{"aria-label":"Delete",onClick:()=>a(e),size:"large",children:Object(y.jsx)(en.a,{})})})]},"repo-item-".concat(e))))}),Object(y.jsx)(Kt,{handleAddRepository:async e=>{await O(e),s()}})]})}var an=n(500),on=n(501),sn=n(502);const rn=Object(V.a)((e=>({whitespacePre:{whiteSpace:"pre-line",fontFamily:"monospace"},grid:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})));function ln({match:e}){const t=rn(),n=T(),[c,a]=Object(o.useState)(""),[s,r]=Object(o.useState)(!1),[i,l]=Object(o.useState)(!1),[j,d]=Object(o.useState)(""),[b,h]=Object(o.useState)(!1),u=e=>{d(e),h(!0)},m=()=>!!c.match(/^[^<>:"/\\|?*]+$/),O=()=>"---\n---\n\n# ".concat(c),x=()=>e.params.path?"".concat(e.params.path,"/").concat(c,".md"):"".concat(c,".md"),{repo:g,branch:f}=e.params;return i?Object(y.jsx)(R.a,{to:"/repos/".concat(g,"/editor/").concat(f,"/").concat(x())}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(je.a,{container:!0,className:t.grid,direction:"row",justifyContent:"flex-end",alignItems:"flex-end",children:[Object(y.jsx)(Fe.a,{title:n.isValidGithubToken()?"Add Song":"Add a GitHub Token to Enable Editing",children:Object(y.jsx)("span",{children:Object(y.jsx)(re.a,{"aria-label":"Add",disabled:!n.isValidGithubToken(),onClick:()=>{r(!0)},children:Object(y.jsx)(Yt.a,{})})})}),Object(y.jsxs)(Xe.a,{open:s,"aria-labelledby":"add-new-file-dialog",fullWidth:!0,children:[Object(y.jsx)(et.a,{id:"add-new-file-dialog-title",children:"Create New Music Markdown File"}),Object(y.jsxs)(Qe.a,{children:[Object(y.jsx)(an.a,{className:t.previewCard,children:Object(y.jsxs)(on.a,{children:[Object(y.jsx)(B.a,{variant:"caption",color:"textSecondary",gutterBottom:!0,children:"Preview"}),Object(y.jsx)(B.a,{variant:"body1",color:"textPrimary",className:t.whitespacePre,children:O()})]})}),Object(y.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"owner",label:"Music Markdown File Name",value:c,onChange:e=>{a(e.target.value)},fullWidth:!0,error:!m(),helperText:m()?Object(y.jsxs)(y.Fragment,{children:[g,"/",f,"/",x()]}):"Invalid file name",InputProps:{endAdornment:Object(y.jsx)(sn.a,{position:"end",children:".md"})}})]}),Object(y.jsxs)(Ze.a,{children:[Object(y.jsx)(Le.a,{onClick:()=>{r(!1),a("")},color:"secondary",children:"Cancel"}),Object(y.jsx)(Le.a,{onClick:async()=>{const{repo:t,branch:n}=e.params,c=x(),a=O(),o=await p(t,c,a,void 0,n);201===o.status?l(!0):u("".concat(o.status,": ").concat(o.statusText))},color:"primary",disabled:!m(),children:"Create"})]})]})]}),Object(y.jsx)(we,{message:j,open:b,handleClose:(e,t)=>{"clickaway"!==t&&h(!1)}})]})}var jn=n(207),dn=n.n(jn),bn=n(206),hn=n.n(bn);const un=Object(V.a)({root:{flexGrow:1,padding:8}});function pn({match:e,location:t}){const n=un(),[c,a]=Object(o.useState)([]),[s,r]=Object(o.useState)(!1);Object(o.useEffect)((()=>{!async function(){const{repo:t,path:n,branch:c}=e.params,o=await u(t,n,c);!function(e){e.sort(((e,t)=>"file"===e.type?"file"===t.type?e.name-t.name:1:"file"===t.type?-1:e.name-t.name))}(o),a(o),r(!0)}()}),[e.params]);const{repo:i,branch:l}=e.params;return s?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_,{pathname:t.pathname}),Object(y.jsxs)("div",{className:n.root,children:[Object(y.jsx)(U.a,{children:c.map((e=>Object(y.jsxs)(J.a,{button:!0,component:F.b,to:"dir"===e.type?"/repos/".concat(i,"/browser/").concat(l,"/").concat(e.path,"/"):"/repos/".concat(i,"/viewer/").concat(l,"/").concat(e.path),children:[Object(y.jsx)(Y.a,{children:Object(y.jsx)(H.a,{children:"dir"===e.type?Object(y.jsx)(hn.a,{}):Object(y.jsx)(dn.a,{})})}),"dir"===e.type?Object(y.jsx)(q.a,{secondary:e.name}):Object(y.jsx)(q.a,{primary:e.name})]},"list-group-item-".concat(e.name))))},"repo-navigation-list"),Object(y.jsx)(ln,{location:t,match:e})]})]}):Object(y.jsx)($.a,{})}function mn(e){return Object(y.jsx)(je.a,{children:e.children},"app-container")}var On=n(76),xn=n(131);const gn=Object(V.a)((e=>({root:{flexGrow:1,padding:8},chordSourcePaper:{margin:e.spacing(1),padding:e.spacing(2)},chordCategoryPaper:{margin:e.spacing(1),textAlign:"center"},chordCategoryTypography:{color:e.palette.text.primary,textAlign:"center"},chordVariantPaper:{display:"inline-block",margin:e.spacing(1),textAlign:"center"},chordVariantTypography:{color:e.palette.text.secondary},chordDiagram:{filter:"dark"===e.palette.mode?"invert(100%)":""}})));function fn({location:e,match:t}){const n=gn();return Object(y.jsxs)("div",{className:n.root,children:[Object(y.jsx)(B.a,{variant:"h2",children:"Sandbox"}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(y.jsx)(F.b,{to:"".concat(t.url,"/all-features-in-one-place"),children:"All the Features in One Place"})}),Object(y.jsx)("li",{children:Object(y.jsx)(F.b,{to:"".concat(t.url,"/guitar-chordbook"),children:"Guitar Chordbook"})})]}),Object(y.jsx)(R.b,{path:"".concat(t.path,"/all-features-in-one-place"),component:()=>Object(y.jsx)(wn,{location:e,source:Tn})}),Object(y.jsx)(R.b,{path:"".concat(t.path,"/guitar-chordbook"),component:kn})]})}const wn=({source:e,location:t})=>{const n=Pe.a.parse(t.search),c=n.columns||"1",a=Number(n.transpose)||0;return Object(y.jsx)(Ne,{source:e,columnCount:c,transposeAmount:a})},yn=["C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb","B"],vn=["","m","6","m6","7","maj7","m7","9","dim","aug","sus2","7sus2","sus4","7sus4","5","dim5","dim7","7b5","m7b5","7#5","7b9","7#9","7b9#5","7/6","9b5","9#5","maj9","m9","9/6","m9/6","add9","11","m11","11aug","13","13b9","13b9b5"],kn=({location:e})=>{const t=gn();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B.a,{variant:"h3",children:"Guitar Chordbook"}),Object(y.jsx)(z.a,{className:t.chordSourcePaper,children:Object(y.jsx)(wn,{source:Sn,location:e})}),yn.map(((e,n)=>Object(y.jsxs)(z.a,{className:t.chordCategoryPaper,children:[Object(y.jsxs)(B.a,{className:t.chordCategoryTypography,variant:"h4",children:[e," Chords"]}),Object(y.jsx)(Cn,{category:e})]},"category-".concat(n))))]})},Cn=({category:e})=>{const t=gn();return Array.from(On.guitarChordbook.keys()).filter((t=>t.match(/^[CDEFGAB](?:#|b)?|N\.C\./)[0]===e)).map(((e,n)=>Object(y.jsxs)(z.a,{className:t.chordVariantPaper,children:[On.guitarChordbook.get(e).map(((e,n)=>Object(y.jsx)("span",{className:t.chordDiagram,dangerouslySetInnerHTML:{__html:Object(xn.renderChordDiagram)(e)}},"variant-".concat(n)))),Object(y.jsx)(B.a,{className:t.chordVariantTypography,variant:"h5",children:e})]},"chord-".concat(n))))},Sn="---\n---\n".concat(yn.map((e=>"## ".concat(e," Chords\nc1: ").concat(vn.map((t=>e+t)).join(" ")))).join("\n\n"),"\n"),Tn='---\nyouTubeId: dN3GbF9Bx6E\n---\n\n# All the Features in One Place\n\n## Chord and Lyrics\nc1: Em               D           Em\nl1: Are you goin\' to Scarborough Fair?\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\n\nc1: Em       G                   D\nl1: Remember me to one who lives there\n\nc1: Em       D                  Em\nl1: She once was a true love of mine\n\n## Multiple Overlapping Voices\nc1: Em                         D         Em\nl1: Tell her to make me a      cambric   shirt\nl2:                     On the side of a hill in the deep forest green\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\nl2:                              Tracing a sparrow on snow-crested ground\n\nc1: Em         G               D\nl1: Without no seams nor needlework\nl2:                      Blankets and bedclothes the child of the mountain\n\nc1: Em          D                 Em\nl1: Then she\'ll be a true love of mine\nl2:                               Sleeps unaware of the clarion call\n\n## VexTab\n\n:::vextab\noptions space=20\n\ntabstave\n  notation=true\n  key=A time=4/4\n\n  notes :q =|: (5/2.5/3.7/4) :8 7-5h6/3 ^3^ 5h6-7/5 ^3^ :q 7V/4 |\n  notes :8 t12p7/4 s5s3/4 :8 3s:16:5-7/5 :h p5/4\n  text :w, |#segno, ,|, :hd, , #tr\n\n\noptions space=25\n\ntabstave\n  notation=true\n\n  notes :q (5/4.5/5) (7/4.7/5)s(5/4.5/5) ^3^\n  notes :8 7-5/4 $.a./b.$ (5/4.5/5)h(7/5) =:|\n  notes :8 (12/5.12/4)ds(5/5.5/4)u 3b4/5\n  notes :h (5V/6.5/4.6/3.7/2) $.italic.let ring$ =|=\n\n  text :h, ,.font=Times-12-italic, D.S. al coda, |#coda\n  text :h, ,.-1, .font=Arial-14-bold,A13\n  text ++, .23, #f\n :::\n\n## ABC\n\n:::abc\nX: 1\nM: 4/4\nL: 1/16\nK: Amin\n"Am" (C16 | C4) B,2C2 D6 CB, | (C16 | C4) B,2C2 "F" D6 CA, |\n"C" G,8 "E" _A,8 | "Am" =A,8 "F" (3F4 F4 F4 | "E" F2 (E6 E8) | z6 ^A2 B4 e4 |\n"Am" e2d2c2(d2 "G" d4) .=A4 | "F" e2d2c2(d2 "G" d4) .A4 |\n"Esus4" e4 e4 e2d2B2d2 | "E" e4 e4 e2g2e2d2 |\n"Am" .e4 c2 "G" .d4 c2 e4 | "F" z2 c2 e2 "G" d6 c2d2 |\n"Esus4" e2e2e2d2 d2B2B2_A2 | "E" _A2F2F2E2 =A2B2A2G2 |\n:::\n\n',Nn=()=>{const e=T();return Object(y.jsx)(E.a,{injectFirst:!0,children:Object(y.jsxs)(G.a,{theme:Object(I.a)(e.data.theme),children:[Object(y.jsx)(Z.a,{}),Object(y.jsx)(mn,{children:[An()]})]})})},An=()=>Object(y.jsx)(F.a,{children:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(R.b,{component:Ut}),Object(y.jsxs)(R.d,{children:[Object(y.jsx)(R.b,{path:"".concat(j,"/viewer/:branch/:path+"),component:Be}),Object(y.jsx)(R.b,{path:"".concat(j,"/browser/:branch/:path*"),component:pn}),Object(y.jsx)(R.b,{path:"".concat(j,"/editor/:branch/:path*"),component:We}),Object(y.jsx)(R.b,{path:j,component:X}),Object(y.jsx)(R.b,{path:"/sandbox",component:fn}),Object(y.jsx)(R.b,{path:"/",component:cn})]})]})},"home-router");var En=()=>Object(y.jsx)(N,{children:Object(y.jsx)(Nn,{})}),Gn=n(44);n.n(Gn).a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(En,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("","/service-worker.js");c?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((n=>{const c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):a(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):a(t,e)}))}}()}},[[385,1,2]]]);
//# sourceMappingURL=main.0f5f042f.chunk.js.map