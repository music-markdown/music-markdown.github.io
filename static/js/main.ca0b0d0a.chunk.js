(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,a){"use strict";(function(e,n,r){var o=a(13),c=a.n(o),i=a(23),s=a(196),l=a(173).isChord,u={DEFAULT:1,VERSE:2};function m(e){return e.endsWith(":")?"## ".concat(e.slice(0,-1)):e.startsWith("[")&&e.endsWith("]")?"## ".concat(e.slice(1,-1)):null}function p(e){var t=e.trim().split(/\s+/),a=!0,n=!1,r=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var i=o.value;if(!l(i))return null}}catch(s){n=!0,r=s}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return"c1: ".concat(e)}function h(e){var t=u.DEFAULT,a=1,n=e.split(/\n/),r=[],o=!0,c=!1,i=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var h=s.value;if(t!==u.DEFAULT)if(t!==u.VERSE);else{var d=m(h);if(d){t=u.DEFAULT,r.push("```"),r.push(""),r.push(d);continue}var f=p(h);if(f){r.push(""),r.push(f),a=1;continue}if(""===h.trim())continue;r.push("l".concat(a,": ").concat(h)),a+=1}else{var b=m(h);if(b){r.push(b);continue}var v=p(h);if(v){t=u.VERSE,r.push("```chords"),r.push(v),a=1;continue}r.push(h)}}}catch(E){c=!0,i=E}finally{try{o||null==l.return||l.return()}finally{if(c)throw i}}return t===u.VERSE&&r.push("```"),r.join("\n")}function d(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(c.a.mark(function t(a){var n,r,o,i,l,u,m,p;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.alloc(0),r=!0,o=!1,t.prev=3,l=Object(s.a)(a);case 5:return t.next=7,l.next();case 7:return u=t.sent,r=u.done,t.next=11,u.value;case 11:if(m=t.sent,r){t.next=18;break}p=m,n=e.concat([n,p]);case 15:r=!0,t.next=5;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(3),o=!0,i=t.t0;case 24:if(t.prev=24,t.prev=25,r||null==l.return){t.next=29;break}return t.next=29,l.return();case 29:if(t.prev=29,!o){t.next=32;break}throw i;case 32:return t.finish(29);case 33:return t.finish(24);case 34:return t.abrupt("return",n.toString("utf8"));case 35:case"end":return t.stop()}},t,null,[[3,20,24,34],[25,,29,33]])}))).apply(this,arguments)}function b(){return(b=Object(i.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.t1=h,e.next=4,d(n.stdin);case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.log.call(e.t0,e.t3);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}a.c[a.s]===r&&function(){b.apply(this,arguments)}(),t.a=h}).call(this,a(167).Buffer,a(451),a(130)(e))},218:function(e,t,a){e.exports=a(531)},219:function(e,t,a){},531:function(e,t,a){"use strict";a.r(t);a(219);var n=a(31),r=a(537),o=a(538),c=a(539),i=a(13),s=a.n(i),l=a(23),u=a(3),m=a(7),p=a(5),h=a(4),d=a(6),f=a(65),b=a.n(f),v=a(187),E=a.n(v),g=a(186),y=a.n(g),w=a(128),k=a.n(w),O=a(34),C=a.n(O),j=a(0),S=a.n(j),x=a(535),T=a(24),N=a.n(T),A=a(10),D=a.n(A);var F=D()(function(e){return{paper:{padding:"".concat(e.spacing.unit,"px")},reactRouterHoverInherit:e.reactRouterHoverInherit}})(function(e){var t=e.pathname,a=e.classes,n=function(e,t){for(var a=[],n=[0,3],r="",o=0;o<e.length;o++){var c=e[o];r=r.concat("/",c),-1===n.indexOf(o)&&(o===e.length-1?a.push(S.a.createElement(N.a,{color:"textPrimary",key:"".concat("breadcrumb-item-").concat(o)},c)):a.push(S.a.createElement(k.a,{component:x.a,to:"".concat(r,"/"),key:"".concat("breadcrumb-item-").concat(o),color:"inherit",className:t.reactRouterHoverInherit},c)))}return a}(t.split("/").filter(function(e){return!!e}),a);return S.a.createElement(C.a,{className:a.paper},S.a.createElement(y.a,null,S.a.createElement(k.a,{component:x.a,to:"/",key:"".concat("breadcrumb-item-","Home"),color:"inherit",className:a.reactRouterHoverInherit},"Home"),n))}),I=a(44),R=a.n(I),U=a(50),L=a.n(U),_=a(63),z=a.n(_),M=a(64),P=a.n(M),H=a(66),G=a.n(H),W="".concat("music-markdown",":repositories"),V="".concat("music-markdown",":github_token"),B="https://api.github.com";function J(e,t,a){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(s.a.mark(function e(t,a,n){var r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&0!==a.length||(a=""),r=re("/repos/".concat(t,"/contents/").concat(a),n),e.next=4,fetch(r,{cache:"no-cache"});case 4:return o=e.sent,e.abrupt("return",o.json());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e,t,a,n,r){return Z.apply(this,arguments)}function Z(){return(Z=Object(l.a)(s.a.mark(function e(t,a,n,r,o){var c,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=re("/repos/".concat(t,"/contents/").concat(a)),i={message:"Music Markdown published ".concat(a),content:n,branch:o},r&&(i.sha=r),e.abrupt("return",fetch(c,{method:"PUT",mode:"cors",body:JSON.stringify(i)}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function K(){var e=localStorage.getItem(W);return e?JSON.parse(e):[]}function $(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(l.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=re("/repos/".concat(t)),e.next=3,fetch(a);case 3:if(404!==e.sent.status){e.next=6;break}throw new Error('"'.concat(t,'" not found on GitHub.'));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function X(e){var t=!0,a=!1,n=void 0;try{for(var r,o=K()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){if(r.value===e)throw new Error('"'.concat(e,'" is already registered.'))}}catch(c){a=!0,n=c}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(l.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return X(t),e.next=3,$(t);case 3:(a=K()).push(t),localStorage.setItem(W,JSON.stringify(a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(l.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=re("/repos/".concat(t,"/branches")),e.next=3,fetch(a);case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function re(e,t){e=new URL(e,B);var a=localStorage.getItem(V);return a&&e.searchParams.set("access_token",a),t&&e.searchParams.set("ref",t),e}var oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={isLoaded:!1,branches:[]},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(this.props.match.params.repo);case 2:t=e.sent,this.setState({isLoaded:!0,branches:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.match.params.repo===this.props.match.params.repo){e.next=5;break}return e.next=3,ae(this.props.match.params.repo);case 3:a=e.sent,this.setState({isLoaded:!0,branches:a});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoaded,n=t.branches,r=this.props.classes;return a?S.a.createElement(S.a.Fragment,null,S.a.createElement(F,{pathname:this.props.location.pathname}),S.a.createElement("div",{className:r.root},S.a.createElement(L.a,null,n.map(function(t){return S.a.createElement(z.a,{button:!0,component:x.a,key:"list-group-item-".concat(t.name),to:"/repos/".concat(e.props.match.params.repo,"/browser/").concat(t.name,"/")},S.a.createElement(P.a,null,S.a.createElement(b.a,null,S.a.createElement(E.a,null))),S.a.createElement(G.a,{primary:t.name}))})))):S.a.createElement(R.a,null)}}]),t}(S.a.Component),ce=D()(function(){return{root:{flexGrow:1,padding:8}}},{withTheme:!0})(oe),ie=a(217),se=a.n(ie),le=a(92),ue=a(188),me=a.n(ue),pe=a(197),he=a.n(pe),de=a(199),fe=a.n(de),be=a(201),ve=a.n(be),Ee=a(45),ge=a.n(Ee),ye=a(30),we=a.n(ye),ke=a(189),Oe=a.n(ke),Ce=a(192),je=a.n(Ce),Se=a(191),xe=a.n(Se),Te=a(38),Ne=a.n(Te),Ae=a(190),De=a.n(Ae),Fe=a(126),Ie=a.n(Fe),Re=a(11),Ue=a.n(Re),Le=a(49),_e=Object(Le.withStyles)(function(e){return{error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing.unit}}})(function(e){var t=e.open,a=e.handleClose,n=e.classes,r=e.message;return S.a.createElement(De.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:6e3,onClose:a},S.a.createElement(Ie.a,{className:n.error,"aria-describedby":"client-snackbar",message:S.a.createElement("span",{id:"client-snackbar",className:n.message},S.a.createElement(xe.a,{className:Ue()(n.icon,n.iconVariant)}),r),action:[S.a.createElement(Ne.a,{key:"close","aria-label":"Close",color:"inherit",className:n.close,onClick:a},S.a.createElement(je.a,{className:n.icon}))]}))}),ze=a(193),Me=a.n(ze),Pe=a(194),He=a.n(Pe),Ge=0,We=1,Ve=13,Be=20,Je=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleClearError=function(e,t){"clickaway"!==t&&a.setState({error:!1})},a.update=function(){var e=a.props,t=e.source,n=e.width,r=e.columnCount,o=e.transposeAmount,c=e.fontSize;a.props.updateYouTubeId(a.md.meta.youTubeId),a.md.setTranspose(o).setFontSize(c).setMaxWidth((n-Be*(r-1))/r);try{a.setState({html:a.md.render(t),error:!1})}catch(i){a.setState({html:"<pre>".concat(t,"</pre>"),message:i.message,error:!0})}},a.componentDidMount=function(){a.update()},a.componentDidUpdate=function(e){var t=a.props,n=t.source,r=t.width,o=t.columnCount,c=t.transposeAmount,i=t.fontSize;e.source===n&&e.width===r&&e.columnCount===o&&e.transposeAmount===c&&e.fontSize===i||a.update()},a.render=function(){var e=a.props,t=e.classes,n=e.theme;return S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.state.html},className:"".concat("dark"===n.palette.type?t.markdownBody:"")}),S.a.createElement(_e,{message:a.state.message,open:a.state.error,handleClose:a.handleClearError}))},a.md=(new Me.a).use(He.a),a.state={html:"",message:null,error:!1},a}return Object(d.a)(t,e),t}(S.a.Component);var qe=Object(n.b)(function(e){return{transposeAmount:e.transposeAmount,columnCount:e.columnCount,fontSize:e.fontSize}},{updateYouTubeId:function(e){return{type:"UPDATE_YOUTUBE_ID",payload:{youtubeId:e}}}})(D()(function(e){return{markdownBody:{filter:"invert(100%)"},columns:{columnGap:"".concat(Be,"px"),columnRuleWidth:"1px",columnRuleStyle:"dashed",columnRuleColor:e.palette.text.secondary}}},{withTheme:!0})(function(e){return S.a.createElement("div",{className:e.classes.columns,style:{columnCount:e.columnCount}},S.a.createElement(Oe.a,null,S.a.createElement(Je,e)))})),Ye=a(200),Ze=a.n(Ye),Ke=a(198),$e=a.n(Ke),Qe=a(195),Xe=a(104),et=a.n(Xe),tt=(a(452),a(457),a(458),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={filename:void 0,markdown:"",sha:null,saving:!1,success:!1,isDirty:!1},a.handleChange=function(e){a.setState({markdown:e,isDirty:!0,success:!1})},a.handleSave=Object(l.a)(s.a.mark(function e(){var t,n,r,o,c,i,l,u,m,p;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.saving){e.next=12;break}return a.setState({success:!1,saving:!0}),t=a.props.match.params,n=t.repo,r=t.path,o=t.branch,c=a.state,i=c.markdown,l=c.sha,u=btoa(i),e.next=7,Y(n,r,u,l,o);case 7:return m=e.sent,e.next=10,m.json();case 10:p=e.sent,200===m.status?a.setState({success:!0,saving:!1,sha:p.content.sha}):a.setState({success:!1,saving:!1});case 12:case"end":return e.stop()}},e)})),a.handleFileNameChange=function(e){a.setState({filename:e.target.value})},a.handleAutoFormat=function(){a.setState(function(e){return{markdown:Object(Qe.a)(e.markdown)}})},a.componentDidMount=Object(l.a)(s.a.mark(function e(){var t,n,r,o,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,n=t.repo,r=t.path,o=t.branch,e.next=3,J(n,r,o);case 3:c=e.sent,a.setState({isLoaded:!0,markdown:c.content?atob(c.content):"",sha:c.sha});case 5:case"end":return e.stop()}},e)})),a.render=function(){var e=a.state,t=e.saving,n=e.success,r=e.isLoaded,o=e.isDirty,c=a.props,i=c.classes,s=c.theme,l=c.location,u=Ue()(Object(le.a)({},i.buttonSuccess,n)),m=l.pathname.split("/");m[4]="viewer";var p=m.join("/");return r?S.a.createElement(S.a.Fragment,null,S.a.createElement(F,{pathname:a.props.location.pathname}),S.a.createElement("div",{className:i.root},S.a.createElement(we.a,{container:!0,spacing:8},S.a.createElement(we.a,{item:!0,xs:12},S.a.createElement(C.a,{className:i.toolbar},S.a.createElement(ge.a,{disabled:!o,className:"".concat(u," ").concat(i.fab),onClick:a.handleSave},n?S.a.createElement(he.a,null):S.a.createElement($e.a,null),t&&S.a.createElement(fe.a,{size:68,className:i.fabProgress})),S.a.createElement(ge.a,{className:i.fab,onClick:a.handleAutoFormat},S.a.createElement(Ze.a,null)),S.a.createElement(ge.a,{component:x.a,to:p,className:i.fab},S.a.createElement(ve.a,null)))),S.a.createElement(we.a,{item:!0,xs:6},S.a.createElement(C.a,{className:i.paper},S.a.createElement(me.a,{name:"brace-editor",mode:"markdown",theme:"dark"===s.palette.type?"monokai":"github",width:"100%",maxLines:1/0,className:i.editor,onChange:a.handleChange,value:a.state.markdown,editorProps:{$blockScrolling:!0}}))),S.a.createElement(we.a,{item:!0,xs:6},S.a.createElement(C.a,{className:i.paper},S.a.createElement(qe,{source:a.state.markdown})))))):S.a.createElement(R.a,null)},a}return Object(d.a)(t,e),t}(S.a.Component)),at=D()(function(e){return{root:{flexGrow:1,padding:8},fabProgress:{color:et.a[500],position:"absolute",top:-6,left:-6,zIndex:1},editor:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,height:"100%",width:"100%"},fab:{margin:e.spacing.unit},filename:{flexGrow:1,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},toolbar:{display:"flex",padding:e.spacing.unit},paper:{padding:2*e.spacing.unit,height:"100%"},buttonSuccess:{backgroundColor:et.a[500],"&:hover":{backgroundColor:et.a[700]}}}},{withTheme:!0})(tt),nt=a(202),rt=a.n(nt),ot=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).queryParams=rt.a.parse(a.props.location.search),a.props.setTranspose(parseInt(a.queryParams.transpose,10)||0),a.props.setColumnCount(parseInt(a.queryParams.columnCount,10)||1),a.props.setFontSize(parseInt(a.queryParams.fontSize,10)||13),a.state={isLoaded:!1,markdown:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t,a,n,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.repo,n=t.path,r=t.branch,e.next=3,J(a,n,r);case 3:o=e.sent,this.setState({isLoaded:!0,markdown:o.content?atob(o.content):""});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.markdown,n=this.props.classes;return t?S.a.createElement("div",{className:n.root},S.a.createElement(qe,{source:a})):S.a.createElement(R.a,null)}}]),t}(S.a.Component),ct=Object(n.b)(void 0,{setTranspose:function(e){return{type:"TRANSPOSE",payload:{transposeAmount:Ge=e}}},setColumnCount:function(e){return{type:"UPDATE_COLUMN_COUNT",payload:{columnCount:We=e}}},setFontSize:function(e){return{type:"UPDATE_FONT_SIZE",payload:{fontSize:Ve=e}}}})(D()(function(e){return{root:{flexGrow:1,padding:8},paper:{padding:2*e.spacing.unit}}},{withTheme:!0})(ot)),it=a(125),st=a.n(it),lt=a(19),ut=a(207),mt=a.n(ut),pt=a(33),ht=a.n(pt),dt=a(93),ft=a.n(dt),bt=a(205),vt=a.n(bt),Et=a(209),gt=a.n(Et),yt=a(204),wt=a.n(yt),kt=a(96),Ot=a.n(kt),Ct=a(203),jt=a.n(Ct),St=a(76),xt=a.n(St),Tt=function(e){var t=e.youTubeId;return S.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},S.a.createElement("iframe",{title:t,className:"embed-responsive-item",src:"https://www.youtube.com/embed/".concat(t),allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))},Nt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={visible:!1},a.anchorEl=void 0,a.handleToggle=a.handleToggle.bind(Object(lt.a)(Object(lt.a)(a))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleToggle",value:function(){this.setState(function(e){return{visible:!e.visible}})}},{key:"render",value:function(){var e=this;return this.props.youTubeId?S.a.createElement(S.a.Fragment,null,S.a.createElement(Ne.a,{onClick:this.handleToggle,buttonRef:function(t){e.anchorEl=t}},S.a.createElement(jt.a,null)),S.a.createElement(xt.a,{id:"youtube-player",open:this.state.visible,anchorEl:this.anchorEl,placement:"top",disablePortal:!1,modifiers:{flip:{enabled:!0}}},S.a.createElement(Tt,{youTubeId:this.props.youTubeId}))):S.a.createElement("div",null)}}]),t}(S.a.Component),At=Object(n.b)(function(e){return{youTubeId:e.youTubeId}})(Nt),Dt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleTransposeClick=a.handleTransposeClick.bind(Object(lt.a)(Object(lt.a)(a))),a.handleColumnClick=a.handleColumnClick.bind(Object(lt.a)(Object(lt.a)(a))),a.handleFontClick=a.handleFontClick.bind(Object(lt.a)(Object(lt.a)(a))),a.increase="+1",a.decrease="-1",a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleTransposeClick",value:function(e){this.props.transpose(e.target.textContent===this.increase)}},{key:"handleColumnClick",value:function(e){this.props.updateColumnCount(e.target.textContent===this.increase)}},{key:"handleFontClick",value:function(e){this.props.updateFontSize(e.target.textContent===this.increase)}},{key:"render",value:function(){var e=this,t=this.props,a=t.transposeAmount,n=t.columnCount,r=t.fontSize,o=t.classes;return S.a.createElement(Ot.a,null,S.a.createElement(we.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:16},[{name:"Transpose",clickCallback:this.handleTransposeClick,value:a},{name:"Column Count",clickCallback:this.handleColumnClick,value:n},{name:"Font Size",clickCallback:this.handleFontClick,value:r}].map(function(t){var a=t.name,n=t.clickCallback,r=t.value;return S.a.createElement(S.a.Fragment,{key:a},S.a.createElement(we.a,{item:!0},S.a.createElement(wt.a,{color:"primary",badgeContent:r},S.a.createElement(N.a,{variant:"body1",className:o.padding},a))),S.a.createElement(we.a,{item:!0},S.a.createElement(ht.a,{onClick:n},S.a.createElement(N.a,{variant:"body2"},e.decrease))),S.a.createElement(we.a,{item:!0},S.a.createElement(ht.a,{onClick:n},S.a.createElement(N.a,{variant:"body2"},e.increase))))}),S.a.createElement(we.a,{item:!0},S.a.createElement(At,{youTubeId:this.props.youTubeId}))))}}]),t}(S.a.Component);var Ft=Object(n.b)(function(e){return{youtubeId:e.youtubeId,transposeAmount:e.transposeAmount,columnCount:e.columnCount,fontSize:e.fontSize}},{transpose:function(e){return{type:"TRANSPOSE",payload:{transposeAmount:e?++Ge:--Ge}}},updateColumnCount:function(e){return{type:"UPDATE_COLUMN_COUNT",payload:{columnCount:e?++We:--We}}},updateFontSize:function(e){return{type:"UPDATE_FONT_SIZE",payload:{fontSize:e?++Ve:--Ve}}}})(D()(function(e){return{padding:{padding:"0 ".concat(e.spacing.unit,"px")}}})(Dt)),It=a(206),Rt=a.n(It),Ut=a(208),Lt=a.n(Ut),_t=a(210),zt=a.n(_t),Mt=function(e){var t=e.location.pathname.split("/");return"viewer"===t[4]?(t[4]="editor",S.a.createElement(Ne.a,{component:x.a,to:t.join("/")},S.a.createElement(vt.a,null))):null},Pt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={toolbarOpen:!1,settingsOpen:!1,isDarkTheme:"dark"===e.theme.palette.type},a.settingsAnchorEl=void 0,a.toolbarAnchorEl=void 0,a.handleDrawerOpen=a.handleDrawerOpen.bind(Object(lt.a)(Object(lt.a)(a))),a.handleSettingsClick=a.handleSettingsClick.bind(Object(lt.a)(Object(lt.a)(a))),a.handleDarkThemeSwitch=a.handleDarkThemeSwitch.bind(Object(lt.a)(Object(lt.a)(a))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleDrawerOpen",value:function(){this.setState({toolbarOpen:!this.state.toolbarOpen})}},{key:"handleSettingsClick",value:function(){this.setState({settingsOpen:!this.state.settingsOpen})}},{key:"handleDarkThemeSwitch",value:function(){this.props.setDarkTheme(!this.state.isDarkTheme),this.setState({isDarkTheme:!this.state.isDarkTheme})}},{key:"render",value:function(){var e=this,t=this.state,a=t.toolbarOpen,n=t.settingsOpen,r=t.isDarkTheme,o=this.props,c=o.classes,i=o.location,s=function(t){return S.a.createElement(S.a.Fragment,null,S.a.createElement(mt.a,{position:"sticky",key:"top-navbar"},S.a.createElement(Ot.a,null,S.a.createElement(ht.a,{className:c.reactRouterHoverInherit,component:x.a,to:"/"},S.a.createElement("img",{className:r?c.filter:"",src:"music-markdown.svg",width:50,alt:"Music Markdown"})),S.a.createElement("div",{className:c.grow}),t?S.a.createElement(S.a.Fragment,null,S.a.createElement(ht.a,null,S.a.createElement(Rt.a,null)),S.a.createElement(ht.a,{onClick:e.handleDrawerOpen,buttonRef:function(t){e.toolbarAnchorEl=t}},"Toolbar"),S.a.createElement(xt.a,{id:"music-toolbar-popper",open:a,anchorEl:e.toolbarAnchorEl,placement:"bottom-end"},S.a.createElement(C.a,{className:c.paper},S.a.createElement(ft.a,{onClickAway:e.handleDrawerOpen},S.a.createElement(Ft,null)))),S.a.createElement(Mt,{location:i})):null,S.a.createElement(Ne.a,{onClick:e.handleSettingsClick,buttonRef:function(t){e.settingsAnchorEl=t}},S.a.createElement(Lt.a,null)),S.a.createElement(xt.a,{id:"settings-popper",open:n,anchorEl:e.settingsAnchorEl,placement:"bottom-end"},S.a.createElement(C.a,{className:c.paper},S.a.createElement(ft.a,{onClickAway:e.handleSettingsClick},S.a.createElement(gt.a,{control:S.a.createElement(zt.a,{defaultChecked:r,onChange:e.handleDarkThemeSwitch,value:"darkTheme"}),label:"Toggle Dark Mode?"})))))))};switch(this.props.location.pathname.split("/")[4]){case"viewer":case"editor":case"sandbox":return s(!0);default:return s(!1)}}}]),t}(S.a.Component),Ht=Object(n.b)(void 0,{setDarkTheme:function(e){return{type:"SET_DARK_THEME",payload:{isDarkTheme:e}}}})(D()(function(e){return{reactRouterHoverInherit:e.reactRouterHoverInherit,paper:{padding:"".concat(e.spacing.unit,"px")},grow:{flexGrow:1},filter:{filter:"invert(100%)"}}},{withTheme:!0})(Pt)),Gt=a(97),Wt=a.n(Gt),Vt=a(98),Bt=a.n(Vt),Jt=a(101),qt=a.n(Jt),Yt=a(100),Zt=a.n(Yt),Kt=a(99),$t=a.n(Kt),Qt=a(77),Xt=a.n(Qt),ea=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,name:"",owner:"",message:null,error:!1},a.handleDialogOpen=function(){a.setState({open:!0})},a.handleDialogClose=function(){a.setState({open:!1,name:"",owner:"",error:!1})},a.handleShowError=function(e){a.setState({message:e,error:!0})},a.handleClearError=function(e,t){"clickaway"!==t&&a.setState({error:!1})},a.handleDialogAdd=Object(l.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.props.handleAddRepository("".concat(a.state.owner,"/").concat(a.state.name));case 3:a.handleDialogClose(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a.handleShowError(e.t0.message);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),a.handleUpdateOwner=function(e){a.setState({owner:e.target.value})},a.handleUpdateName=function(e){a.setState({name:e.target.value})},a.render=function(){return S.a.createElement(S.a.Fragment,null,S.a.createElement(we.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},S.a.createElement(ge.a,{"aria-label":"Add",onClick:a.handleDialogOpen},S.a.createElement(Wt.a,null)),S.a.createElement(Bt.a,{open:a.state.open,"aria-labelledby":"add-repository-dialog"},S.a.createElement($t.a,{id:"add-repository-dialog-title"},"Add Repository"),S.a.createElement(Zt.a,null,S.a.createElement(Xt.a,{autoFocus:!0,margin:"dense",id:"owner",label:"Repository Owner",value:a.state.owner,onChange:function(e){return a.handleUpdateOwner(e)},fullWidth:!0}),S.a.createElement(Xt.a,{margin:"dense",id:"name",label:"Repository Name",value:a.state.name,onChange:function(e){return a.handleUpdateName(e)},fullWidth:!0})),S.a.createElement(qt.a,null,S.a.createElement(ht.a,{onClick:a.handleDialogClose},"Cancel"),S.a.createElement(ht.a,{onClick:a.handleDialogAdd},"Add")))),S.a.createElement(_e,{message:a.state.message,open:a.state.error,handleClose:a.handleClearError}))},a}return Object(d.a)(t,e),t}(S.a.Component),ta=a(212),aa=a.n(ta),na=a(214),ra=a.n(na),oa=a(211),ca=a.n(oa),ia=a(213),sa=a.n(ia),la=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={repos:[]},a.handleAddRepository=function(){var e=Object(l.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t);case 2:a.loadRepositories();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleDeleteRepository=function(e){!function(e){var t=K().filter(function(t){return t!==e});localStorage.setItem(W,JSON.stringify(t))}(e),a.loadRepositories()},a.loadRepositories=function(){a.setState({repos:K()})},a.componentDidMount=function(){a.loadRepositories()},a.render=function(){var e=a.props.classes;return S.a.createElement("div",{className:e.root},S.a.createElement(L.a,null,a.state.repos.map(function(e){return S.a.createElement(z.a,{button:!0,key:"repo-item-".concat(e),component:ca.a,to:"/repos/".concat(e,"/")},S.a.createElement(P.a,null,S.a.createElement(b.a,null,S.a.createElement(aa.a,null))),S.a.createElement(G.a,{primary:e}),S.a.createElement(sa.a,null,S.a.createElement(Ne.a,{"aria-label":"Delete",onClick:function(){return a.handleDeleteRepository(e)}},S.a.createElement(ra.a,null))))})),S.a.createElement(ea,{handleAddRepository:a.handleAddRepository}))},a}return Object(d.a)(t,e),t}(S.a.Component),ua=D()(function(){return{root:{flexGrow:1,padding:8}}})(function(e){var t=e.classes;return S.a.createElement(la,{classes:t})}),ma=a(536),pa=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={newFileName:"",newFileOpen:!1,toEditor:!1,message:"",error:!1},a.handleAddNewFileOpen=function(){a.setState({newFileOpen:!0})},a.handleAddNewFileClose=function(){a.setState({newFileOpen:!1,newFileName:""})},a.handleUpdateFileName=function(e){a.setState({newFileName:e.target.value})},a.handleAddNewFile=Object(l.a)(s.a.mark(function e(){var t,n,r,o,c,i,l,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,n=t.repo,r=t.branch,o=t.path,c=a.state.newFileName,i=o?"".concat(o,"/").concat(c,".md"):"".concat(c,".md"),l=btoa("---\n---\n\n# ".concat(c)),e.next=6,Y(n,i,l,void 0,r);case 6:if(201===(u=e.sent).status){e.next=10;break}return a.handleShowError("".concat(u.status,": ").concat(u.statusText)),e.abrupt("return");case 10:a.setState({toEditor:!0});case 11:case"end":return e.stop()}},e)})),a.handleShowError=function(e){a.setState({message:e,error:!0})},a.handleClearError=function(e,t){"clickaway"!==t&&a.setState({error:!1})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.newFileOpen,n=t.toEditor,r=t.newFileName;if(n){var o=this.props.location.pathname.split("/");return o[4]="editor",S.a.createElement(ma.a,{to:"".concat(o.join("/")).concat(r,".md/")})}return S.a.createElement(S.a.Fragment,null,S.a.createElement(we.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end"},S.a.createElement(ge.a,{"aria-label":"Add",onClick:this.handleAddNewFileOpen},S.a.createElement(Wt.a,null)),S.a.createElement(Bt.a,{open:a,"aria-labelledby":"add-new-file-dialog"},S.a.createElement($t.a,{id:"add-new-file-dialog-title"},"New File"),S.a.createElement(Zt.a,null,S.a.createElement(Xt.a,{autoFocus:!0,margin:"dense",id:"owner",label:"File Name",value:this.state.newFileName,onChange:function(t){return e.handleUpdateFileName(t)},fullWidth:!0})),S.a.createElement(qt.a,null,S.a.createElement(ht.a,{onClick:this.handleAddNewFileClose},"Cancel"),S.a.createElement(ht.a,{onClick:this.handleAddNewFile},"Create")))),S.a.createElement(_e,{message:this.state.message,open:this.state.error,handleClose:this.handleClearError}))}}]),t}(S.a.Component),ha=a(216),da=a.n(ha),fa=a(215),ba=a.n(fa),va=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1,contents:[]},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark(function e(){var t,a,n,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.repo,n=t.path,r=t.branch,e.next=3,J(a,n,r);case 3:o=e.sent,this.sortDir(o),this.setState({isLoaded:!0,contents:o});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(l.a)(s.a.mark(function e(t){var a,n,r,o,c,i,l,u,m;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.match.params,n=a.repo,r=a.path,o=a.branch,c=this.props.match.params,i=c.repo,l=c.path,u=c.branch,n===i&&r===l&&o===u){e.next=8;break}return e.next=5,J(i,l,u);case 5:m=e.sent,this.sortDir(m),this.setState({isLoaded:!0,contents:m});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"sortDir",value:function(e){e.sort(function(e,t){return"file"===e.type?"file"===t.type?e.name-t.name:1:"file"===t.type?-1:e.name-t.name})}},{key:"render",value:function(){var e=this.props.match.params,t=e.repo,a=e.branch,n=this.state,r=n.isLoaded,o=n.contents,c=this.props.classes;return r?S.a.createElement(S.a.Fragment,null,S.a.createElement(F,{pathname:this.props.location.pathname}),S.a.createElement("div",{className:c.root},S.a.createElement(L.a,{key:"repo-navigation-list"},o.map(function(e){return S.a.createElement(z.a,{button:!0,component:x.a,key:"list-group-item-".concat(e.name),to:"/repos/".concat(t,"/").concat("dir"===e.type?"browser":"viewer","/").concat(a,"/").concat(e.path,"/")},S.a.createElement(P.a,null,S.a.createElement(b.a,null,"dir"===e.type?S.a.createElement(ba.a,null):S.a.createElement(da.a,null))),S.a.createElement(G.a,{primary:"dir"===e.type?S.a.createElement("i",null,e.name):e.name}))})),S.a.createElement(pa,this.props))):S.a.createElement(R.a,null)}}]),t}(S.a.Component),Ea=D()(function(){return{root:{flexGrow:1,padding:8}}},{withTheme:!0})(va),ga="app-container";var ya=function(e){return S.a.createElement(we.a,{key:ga},e.children)},wa=a(95),ka=a(127),Oa=a(94),Ca=function(e){function t(e){var a;Object(u.a)(this,t);return(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={value:"```chords\nc1:                    Am     G  F          G      Esus4  E\nv1: All the leaves are brown        and the sky is gray\n\nc1: F               C     E  Am       F        Esus4  E\nv1: I've been for a walk         on a winter's day\n\nc1:                 Am    G  F       G      Esus4  E\nv1: I'd be safe and warm        if I was in L.A.\n\nc1:            Am        G  F     G               Esus4  E\nv1: California dreamin'        on such a winter's day\n```"},a.handleChange=a.handleChange.bind(Object(lt.a)(Object(lt.a)(a))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e={minHeight:"500px",width:"50%",marginRight:"20px"};return S.a.createElement("div",{style:{display:"flex",width:"100%"}},S.a.createElement("textarea",{value:this.state.value,onChange:this.handleChange,style:e}),S.a.createElement("div",{style:e},S.a.createElement(qe,{source:this.state.value})))}}]),t}(S.a.Component),ja=function(){return Array.from(wa.guitarChordLibrary.keys()).map(function(e,t){return S.a.createElement("div",{key:t,align:"center",style:{display:"inline-block"}},wa.guitarChordLibrary.get(e).map(function(e,t){return S.a.createElement("span",{key:t,dangerouslySetInnerHTML:{__html:Object(Oa.renderChordDiagram)(e)}})}),S.a.createElement("h5",null,e))})},Sa=function(){return S.a.createElement("div",null,S.a.createElement(N.a,{variant:"h2"},"Music Markdown Sandbox"),S.a.createElement(N.a,null,"This page exercises various subcomponents of music-markdown and markdown-it-music."),S.a.createElement(N.a,{variant:"h3"},"Markdown Editor"),S.a.createElement(Ca,null),S.a.createElement(N.a,{variant:"h3"},"Chord Diagram Renderer"),S.a.createElement(N.a,null,"This section exercises the Chord Diagram Renderer."),S.a.createElement(N.a,{variant:"h4"},"Esus4 (200x200)"),S.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(Oa.renderChordDiagram)(Object(ka.parseVoicing)("o2 m1 m2 n3,2 n4,4 b5,6,5"),200,200)}}),S.a.createElement("h2",null,"Entire Chord Library"),S.a.createElement(ja,null))},xa=a(74),Ta=a.n(xa),Na=a(62),Aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_COLUMN_COUNT":return t.payload.columnCount;default:return e}},Da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:13,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FONT_SIZE":return t.payload.fontSize;default:return e}},Fa={typography:{useNextVariants:!0},reactRouterHoverInherit:{"&:hover":{color:"inherit"}},palette:{type:"light"}},Ia={typography:{useNextVariants:!0},reactRouterHoverInherit:{"&:hover":{color:"inherit"}},palette:{type:"dark"}},Ra="dark"===window.localStorage.getItem("".concat("music-markdown",":palette-type"))?Ia:Fa,Ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DARK_THEME":return window.localStorage.setItem("".concat("music-markdown",":palette-type"),t.payload.isDarkTheme?"dark":"light"),t.payload.isDarkTheme?Ia:Fa;default:return e}},La=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TRANSPOSE":return t.payload.transposeAmount;default:return e}},_a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_YOUTUBE_ID":return t.payload.youtubeId||"";default:return e}},za=Object(Na.b)({transposeAmount:La,columnCount:Aa,fontSize:Da,youTubeId:_a,theme:Ua}),Ma=Object(Na.c)(za),Pa="/repos/:repo([^/]+/[^/]+)";var Ha=Object(n.b)(function(e){return{theme:e.theme}})(function(e){var t=e.theme;return S.a.createElement(st.a,{theme:Ta()(t)},S.a.createElement(se.a,null),S.a.createElement(ya,{children:[Ga()]}))}),Ga=function(){return S.a.createElement(n.a,{key:"home-provider",store:Ma},S.a.createElement(r.a,{key:"home-router"},S.a.createElement(S.a.Fragment,null,S.a.createElement(o.a,{component:Ht}),S.a.createElement(c.a,null,S.a.createElement(o.a,{path:"".concat(Pa,"/viewer/:branch/:path+"),component:ct}),S.a.createElement(o.a,{path:"".concat(Pa,"/browser/:branch/:path*"),component:Ea}),S.a.createElement(o.a,{path:"".concat(Pa,"/editor/:branch/:path*"),component:at}),S.a.createElement(o.a,{path:Pa,component:ce}),S.a.createElement(o.a,{path:"/sandbox",component:Sa}),S.a.createElement(o.a,{path:"/",component:ua})))))},Wa=function(){return S.a.createElement(n.a,{key:"home-provider",store:Ma},S.a.createElement(Ha,null))},Va=a(29),Ba=a.n(Va),Ja=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function qa(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}Ba.a.render(S.a.createElement(Wa,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ja?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):qa(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):qa(e)})}}()}},[[218,1,2]]]);
//# sourceMappingURL=main.ca0b0d0a.chunk.js.map