{"version":3,"sources":["tools/asciitab.js","lib/github.js","lib/hooks.js","context/GitHubApiProvider.js","context/ReposProvider.js","context/SnackbarProvider.js","context/ThemeProvider.js","context/YouTubeIdProvider.js","lib/constants.js","components/AppBar/LogoAppBarItem.js","components/MoreMenu/ColumnCountMenuItem.js","components/MoreMenu/GithubTokenDialog.js","components/MoreMenu/GithubTokenMenuItem.js","components/MoreMenu/SongActionsMenuItem.js","components/MoreMenu/ThemeMenuItem.js","components/MoreMenu/TransposeMenuItem.js","components/MoreMenu/index.js","components/AppBar/MoreAppBarItem.js","components/AppBar/SearchAppBarItem.js","components/AppBar/YouTubePlayer.js","components/AppBar/YouTubeAppBarItem.js","components/AppBar/index.js","components/RouterBreadcrumbs.js","components/BranchView/index.js","components/ErrorSnackbar.js","components/FileView/AddNewFile.js","components/FileView/index.js","components/MusicMd/Render.js","components/MusicMd/Edit.js","components/MusicMd/View.js","components/RepoView/AddRepository.js","components/RepoView/index.js","components/Sandbox.js","components/App.js","serviceWorkerRegistration.js","index.js"],"names":["isChord","require","State","getMaybeHeading","line","endsWith","slice","startsWith","getMaybeChords","tokens","trim","split","token","asciiTabConvert","input","state","voiceIndex","lines","output","push","maybeHeading","maybeChords","join","read","stream","a","buffer","Buffer","alloc","chunk","concat","toString","console","process","stdin","log","module","main","GITHUB_API_URL","putContents","repo","path","content","sha","branch","gitHubToken","body","message","Base64","encode","gitHubApiFetch","method","mode","JSON","stringify","getRepoMetadata","repos","Promise","all","map","json","verifyRepoExists","status","Error","isValidGithubToken","match","init","URL","headers","Authorization","fetch","Request","useLocalStorage","key","initialValue","useState","item","localStorage","getItem","parse","error","storedValue","setStoredValue","value","valueToStore","Function","setItem","removeItem","GitHubApiContext","createContext","useGitHubApi","useContext","GitHubApiProvider","children","setGitHubToken","Provider","useGitHubFetch","defaultValue","loading","setLoading","setValue","useEffect","doFetch","cache","response","useContents","decode","ReposContext","useRepos","ReposProvider","setRepos","addRepo","includes","deleteRepo","filter","r","SnackbarContext","SnackbarProvider","open","setOpen","setMessage","handleClose","showSnackbar","newMessage","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","Alert","severity","THEMES","light","palette","dark","ThemeContext","ThemeProvider","prefersDarkTheme","useMediaQuery","themeName","setThemeName","getTheme","StyledEngineProvider","injectFirst","theme","createTheme","CssBaseline","YouTubeIdContext","useYouTubeId","YouTubeIdProvider","youTubeId","setYouTubeId","COLUMN_COUNT_QUERY_KEY","REPO_REGEX","ThemeAwareLogo","styled","LogoAppBarItem","Button","component","Link","to","src","width","alt","ColumnCountMenuItem","location","useLocation","history","useHistory","columnCount","queryString","search","Box","Typography","variant","ToggleButtonGroup","fullWidth","exclusive","onChange","event","name","params","replace","handleUpdateQuery","ToggleButton","AccordionDetails","withStyles","root","backgroundColor","AccordionActions","GithubTokenInstructions","Accordion","AccordionSummary","expandIcon","href","rel","target","GithubTokenDialog","setToken","isValidToken","handleCloseDialog","Dialog","DialogTitle","id","DialogContent","TextField","autoFocus","margin","label","e","helperText","DialogActions","onClick","color","disabled","GithubTokenMenuItem","apiKeyDialogOpen","setApiKeyDialogOpen","startIcon","ShareButton","close","navigator","clipboard","writeText","window","EditViewButton","useParams","SongListButton","folder","ShowOnGitHubButton","githubLink","SongActionsMenuItem","Stack","direction","spacing","ThemeMenuItem","newThemeName","TransposeMenuItem","transpose","Number","setTranspose","String","alignItems","justifyContent","IconButton","Divider","orientation","MoreMenu","anchorEl","Popper","anchor","Paper","maxHeight","overflow","sx","padding","render","MoreAppBarItem","setAnchorEl","Boolean","ClickAwayListener","onClickAway","Tooltip","title","currentTarget","size","SearchAppBarItem","tree","files","Autocomplete","options","renderInput","reason","useStyles","makeStyles","paper","position","bottom","right","cursor","YouTubePlayer","visible","classes","nodeRef","useRef","ref","className","style","border","allow","allowFullScreen","YouTubeAppBarItem","setVisible","AppBar","Toolbar","flexGrow","reactRouterHoverInherit","DirectoryBreadcrumbs","pathname","subDirectoriesArr","breadcrumbItems","previousPath","ignoreIndex","keyBase","currDir","i","length","directory","indexOf","role","RouterLink","buildBreadcrumb","Breadcrumbs","BranchViewer","branches","LinearProgress","List","ListItem","button","ListItemAvatar","Avatar","ListItemText","primary","icon","fontSize","iconVariant","opacity","marginRight","display","ErrorSnackbar","SnackbarContent","classNames","action","whitespacePre","whiteSpace","fontFamily","grid","AddNewFile","newFileName","setNewFileName","newFileOpen","setNewFileOpen","toEditor","setToEditor","setError","handleAddNewFile","newPath","getNewFilePath","getTemplateContents","undefined","handleShowError","statusText","isValidFileName","Grid","container","Fab","Card","previewCard","CardContent","gutterBottom","InputProps","endAdornment","InputAdornment","FileViewer","contents","sort","b","type","sortDir","secondary","columns","columnGap","columnRuleWidth","columnRuleStyle","columnRuleColor","text","MusicMarkdownRender","source","transposeAmount","useTheme","html","setHtml","md","MarkdownIt","use","MarkdownItMusic","setTheme","setMaxWidth","meta","err","script","exec","eval","dangerouslySetInnerHTML","__html","Render","props","componentRef","height","dimensions","setDimensions","handleResize","current","offsetWidth","offsetHeight","addEventListener","removeEventListener","useContainerDimensions","fabProgress","green","top","left","zIndex","editor","marginLeft","fab","toolbar","buttonSuccess","Edit","markdown","setMarkdown","debouncedMarkdown","delay","debounced","setDebounced","timer","setTimeout","clearTimeout","useDebounce","setSha","saving","setSaving","success","setSuccess","isDirty","setIsDirty","handleSave","buttonClassname","parts","viewerLink","githubParts","xs","CircularProgress","maxLines","Infinity","editorProps","$blockScrolling","View","AddRepository","handleAddRepository","setName","owner","setOwner","handleDialogClose","handleDialogAdd","RepoViewer","repoMetadata","setRepoMetadata","useRepoMetadata","full_name","default_branch","ListItemSecondaryAction","chordSourcePaper","chordCategoryPaper","textAlign","chordCategoryTypography","chordVariantPaper","chordVariantTypography","chordDiagram","Sandbox","url","allFeaturesSource","AllGuitarChords","MarkdownViewer","roots","qualities","allChordsSource","category","index","ChordCategory","Array","from","guitarChordbook","keys","chord","get","renderChordDiagram","quality","HomeRouter","App","isLocalhost","hostname","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","StrictMode","document","getElementById","origin","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.619e7516.chunk.js","sourcesContent":["const { isChord } = require(\"markdown-it-music/lib/chord\");\n\nconst State = {\n  DEFAULT: 1,\n  VERSE: 2,\n  FENCE: 3,\n};\n\nfunction getMaybeHeading(line) {\n  if (line.endsWith(\":\")) {\n    return `## ${line.slice(0, -1)}`;\n  }\n\n  if (line.startsWith(\"[\") && line.endsWith(\"]\")) {\n    return `## ${line.slice(1, -1)}`;\n  }\n\n  return null;\n}\n\nfunction getMaybeChords(line) {\n  const tokens = line.trim().split(/\\s+/);\n\n  for (const token of tokens) {\n    if (!isChord(token)) {\n      return null;\n    }\n  }\n\n  return `c1: ${line}`;\n}\n\nfunction asciiTabConvert(input) {\n  let state = State.DEFAULT;\n  let voiceIndex = 1;\n  const lines = input.split(/\\n/);\n  const output = [];\n\n  for (const line of lines) {\n    if (line.startsWith(\":::\")) {\n      state = State.FENCE;\n      output.push(line);\n      continue;\n    }\n\n    if (state === State.DEFAULT) {\n      const maybeHeading = getMaybeHeading(line);\n      if (maybeHeading) {\n        output.push(maybeHeading);\n        continue;\n      }\n\n      const maybeChords = getMaybeChords(line);\n      if (maybeChords) {\n        state = State.VERSE;\n        output.push(maybeChords);\n        voiceIndex = 1;\n        continue;\n      }\n\n      output.push(line);\n      continue;\n    }\n\n    if (state === State.VERSE) {\n      const maybeHeading = getMaybeHeading(line);\n      if (maybeHeading) {\n        state = State.DEFAULT;\n        output.push(\"\");\n        output.push(maybeHeading);\n        continue;\n      }\n\n      const maybeChords = getMaybeChords(line);\n      if (maybeChords) {\n        output.push(\"\");\n        output.push(maybeChords);\n        voiceIndex = 1;\n        continue;\n      }\n\n      if (line.trim() === \"\") {\n        continue;\n      }\n\n      output.push(`l${voiceIndex}: ${line}`);\n      voiceIndex += 1;\n      continue;\n    }\n\n    if (state === State.FENCE) {\n      if (line === \":::\") {\n        state = State.DEFAULT;\n      }\n\n      output.push(line);\n      continue;\n    }\n  }\n\n  return output.join(\"\\n\");\n}\n\nasync function read(stream) {\n  let buffer = Buffer.alloc(0);\n  for await (const chunk of stream) {\n    buffer = Buffer.concat([buffer, chunk]);\n  }\n  return buffer.toString(\"utf8\");\n}\n\nasync function main() {\n  console.log(asciiTabConvert(await read(process.stdin)));\n}\n\nif (typeof require !== \"undefined\" && require.main === module) {\n  main();\n}\n\nexport default asciiTabConvert;\n","import { Base64 } from \"js-base64\";\n\nconst GITHUB_API_URL = \"https://api.github.com\";\n\nexport async function putContents(\n  repo,\n  path,\n  content,\n  sha,\n  branch,\n  gitHubToken\n) {\n  const body = {\n    message: `Music Markdown published ${path}`,\n    content: Base64.encode(content),\n    branch,\n  };\n\n  if (sha) {\n    body.sha = sha;\n  }\n\n  return gitHubApiFetch(`/repos/${repo}/contents/${path}`, {\n    method: \"PUT\",\n    mode: \"cors\",\n    body: JSON.stringify(body),\n    gitHubToken,\n  });\n}\n\n/**\n * Returns the list of repo names and corresponding GitHub metadata.\n * @returns {Array} Array of JSON dictionaries of repos\n */\nexport async function getRepoMetadata(repos, { gitHubToken }) {\n  return Promise.all(\n    repos.map(async (repo) =>\n      (await gitHubApiFetch(`/repos/${repo}`, { gitHubToken })).json()\n    )\n  );\n}\n\nexport async function verifyRepoExists(repo, { gitHubToken }) {\n  const response = await gitHubApiFetch(`/repos/${repo}`, { gitHubToken });\n  if (response.status === 404) {\n    throw new Error(`\"${repo}\" not found on GitHub.`);\n  }\n}\n\nexport function isValidGithubToken(gitHubToken) {\n  return (\n    !!gitHubToken &&\n    (!!gitHubToken.match(/^[0-9a-f]{40}$/) ||\n      !!gitHubToken.match(/^ghp_[a-zA-Z0-9]{36}$/))\n  );\n}\n\n/**\n * Performs a fetch to the GitHub API.\n */\nexport async function gitHubApiFetch(path, { gitHubToken, ...init }) {\n  const input = new URL(path, GITHUB_API_URL);\n\n  if (gitHubToken) {\n    init = {\n      ...init,\n      ...{ headers: { Authorization: `token ${gitHubToken}` } },\n    };\n  }\n\n  return fetch(new Request(input, init));\n}\n","import { useEffect, useState } from \"react\";\n\nexport function useDebounce(value, delay) {\n  const [debounced, setDebounced] = useState(\"\");\n  useEffect(() => {\n    const timer = setTimeout(() => setDebounced(value), delay);\n    return () => clearTimeout(timer);\n  }, [value, delay]);\n  return debounced;\n}\n\nexport function useContainerDimensions(ref) {\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\n\n  useEffect(() => {\n    const handleResize = () => {\n      setDimensions({\n        width: ref.current.offsetWidth,\n        height: ref.current.offsetHeight,\n      });\n    };\n\n    if (ref?.current) {\n      handleResize();\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, [ref]);\n\n  return dimensions;\n}\n\nexport function useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by key\n      const item = localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value) => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      if (value) {\n        localStorage.setItem(key, JSON.stringify(valueToStore));\n      } else {\n        localStorage.removeItem(key);\n      }\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n","import { Base64 } from \"js-base64\";\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport { gitHubApiFetch, isValidGithubToken } from \"../lib/github\";\nimport { useLocalStorage } from \"../lib/hooks\";\n\nconst GitHubApiContext = createContext();\n\nexport const useGitHubApi = () => useContext(GitHubApiContext);\n\nexport function GitHubApiProvider({ children }) {\n  const [gitHubToken, setGitHubToken] = useLocalStorage(\"gitHubToken\", \"\");\n\n  const validateAndSetToken = (token) => {\n    if (token && !isValidGithubToken(token)) {\n      throw new Error(`\"${token}\" is not valid.`);\n    }\n    setGitHubToken(token);\n  };\n\n  return (\n    <GitHubApiContext.Provider\n      value={{ gitHubToken, setGitHubToken: validateAndSetToken }}\n    >\n      {children}\n    </GitHubApiContext.Provider>\n  );\n}\n\nexport function useGitHubFetch(path, defaultValue) {\n  const { gitHubToken } = useGitHubApi();\n  const [loading, setLoading] = useState(true);\n  const [value, setValue] = useState(defaultValue);\n\n  useEffect(() => {\n    setLoading(true);\n\n    const doFetch = async () => {\n      const response = await gitHubApiFetch(path, {\n        gitHubToken,\n        cache: \"no-cache\",\n      });\n      setValue(await response.json());\n      setLoading(false);\n    };\n    doFetch();\n  }, [path, gitHubToken]);\n\n  return { loading, value };\n}\n\nexport function useContents(repo, path, branch) {\n  const { loading, value } = useGitHubFetch(\n    `/repos/${repo}/contents/${path || \"\"}?ref=${branch}`\n  );\n  const content = value?.content ? Base64.decode(value.content) : \"\";\n  return { loading, value, content };\n}\n","import { createContext, useContext, useEffect, useState } from \"react\";\nimport { getRepoMetadata, verifyRepoExists } from \"../lib/github\";\nimport { useLocalStorage } from \"../lib/hooks\";\nimport { useGitHubApi } from \"./GitHubApiProvider\";\n\nconst ReposContext = createContext();\n\nexport const useRepos = () => useContext(ReposContext);\n\nexport function useRepoMetadata() {\n  const [repoMetadata, setRepoMetadata] = useState([]);\n  const { repos } = useRepos();\n  const { gitHubToken } = useGitHubApi();\n\n  useEffect(() => {\n    (async () =>\n      setRepoMetadata(await getRepoMetadata(repos, { gitHubToken })))();\n  }, [repos, gitHubToken]);\n\n  return repoMetadata;\n}\n\nexport function ReposProvider({ children }) {\n  const [repos, setRepos] = useLocalStorage(\"repos\", []);\n  const { gitHubToken } = useGitHubApi();\n\n  const addRepo = async (repo) => {\n    if (repos.includes(repo)) {\n      throw new Error(`\"${repo}\" is already registered.`);\n    }\n    await verifyRepoExists(repo, { gitHubToken });\n    setRepos([...repos, repo]);\n  };\n\n  const deleteRepo = (repo) => {\n    setRepos(repos.filter((r) => r !== repo));\n  };\n\n  return (\n    <ReposContext.Provider value={{ repos, setRepos, addRepo, deleteRepo }}>\n      {children}\n    </ReposContext.Provider>\n  );\n}\n","import { Alert, Snackbar } from \"@mui/material\";\nimport { createContext, useContext, useState } from \"react\";\n\nconst SnackbarContext = createContext();\n\nexport const useSnackbar = () => useContext(SnackbarContext);\n\nexport default function SnackbarProvider({ children }) {\n  const [open, setOpen] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const handleClose = () => setOpen(false);\n\n  const showSnackbar = (newMessage) => {\n    setMessage(newMessage);\n    setOpen(true);\n  };\n\n  return (\n    <SnackbarContext.Provider value={{ showSnackbar }}>\n      {children}\n      <Snackbar\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n      >\n        <Alert onClose={handleClose} severity=\"success\">\n          {message}\n        </Alert>\n      </Snackbar>\n    </SnackbarContext.Provider>\n  );\n}\n","import { CssBaseline, useMediaQuery } from \"@mui/material\";\nimport {\n  createTheme,\n  StyledEngineProvider,\n  ThemeProvider as MuiThemeProvider,\n} from \"@mui/material/styles\";\nimport { createContext, useContext } from \"react\";\nimport { useLocalStorage } from \"../lib/hooks\";\n\nconst THEMES = {\n  light: {\n    palette: {\n      mode: \"light\",\n    },\n  },\n  dark: {\n    palette: {\n      mode: \"dark\",\n    },\n  },\n};\n\nconst ThemeContext = createContext();\n\nexport const useTheme = () => useContext(ThemeContext);\n\nexport function ThemeProvider({ children }) {\n  const prefersDarkTheme = useMediaQuery(\"(prefers-color-scheme: dark)\");\n  const [themeName, setThemeName] = useLocalStorage(\"themeName\", \"system\");\n\n  const getEffectiveThemeName = () => {\n    if (themeName === \"system\") {\n      return prefersDarkTheme ? \"dark\" : \"light\";\n    }\n    return themeName;\n  };\n\n  const getTheme = () => THEMES[getEffectiveThemeName()];\n\n  return (\n    <ThemeContext.Provider value={{ themeName, setThemeName, getTheme }}>\n      <StyledEngineProvider injectFirst>\n        <MuiThemeProvider theme={createTheme(getTheme())}>\n          <CssBaseline />\n          {children}\n        </MuiThemeProvider>\n      </StyledEngineProvider>\n    </ThemeContext.Provider>\n  );\n}\n","import { createContext, useContext, useState } from \"react\";\n\nconst YouTubeIdContext = createContext();\n\nexport const useYouTubeId = () => useContext(YouTubeIdContext);\n\nexport function YouTubeIdProvider({ children }) {\n  const [youTubeId, setYouTubeId] = useState(null);\n  return (\n    <YouTubeIdContext.Provider value={{ youTubeId, setYouTubeId }}>\n      {children}\n    </YouTubeIdContext.Provider>\n  );\n}\n","export const COLUMN_COUNT_QUERY_KEY = \"columns\";\nexport const REPO_REGEX = \"/repos/:repo([^/]+/[^/]+)\";\nexport const TRANSPOSE_QUERY_KEY = \"transpose\";\n","import { Button } from \"@mui/material\";\nimport { styled } from \"@mui/system\";\nimport { Link } from \"react-router-dom\";\n\nconst ThemeAwareLogo = styled(\"img\")(({ theme }) => ({\n  filter: theme.palette.mode === \"dark\" ? \"invert(100%)\" : \"\",\n}));\n\nexport default function LogoAppBarItem() {\n  return (\n    <Button component={Link} to=\"/\">\n      <ThemeAwareLogo\n        src=\"music-markdown.svg\"\n        width={50}\n        alt=\"Music Markdown\"\n      />\n    </Button>\n  );\n}\n","import { Typography } from \"@mui/material\";\nimport ToggleButton from \"@mui/material/ToggleButton\";\nimport ToggleButtonGroup from \"@mui/material/ToggleButtonGroup\";\nimport { Box } from \"@mui/system\";\nimport queryString from \"query-string\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { COLUMN_COUNT_QUERY_KEY } from \"../../lib/constants\";\n\nexport default function ColumnCountMenuItem() {\n  const location = useLocation();\n  const history = useHistory();\n\n  const params = queryString.parse(location.search);\n  const columnCount = params[COLUMN_COUNT_QUERY_KEY] || \"1\";\n\n  const handleUpdateQuery = (name, value, defaultValue) => {\n    const params = queryString.parse(location.search);\n    if (value === defaultValue) {\n      delete params[name];\n    } else {\n      params[name] = value;\n    }\n    history.replace({ search: queryString.stringify(params) });\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"subtitle1\">Columns</Typography>\n      <ToggleButtonGroup\n        fullWidth\n        value={columnCount}\n        exclusive\n        onChange={(event, value) =>\n          handleUpdateQuery(COLUMN_COUNT_QUERY_KEY, value, \"1\")\n        }\n      >\n        {[\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"].map((columnCount) => (\n          <ToggleButton value={columnCount} key={columnCount}>\n            {columnCount}\n          </ToggleButton>\n        ))}\n      </ToggleButtonGroup>\n    </Box>\n  );\n}\n","import ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport Accordion from \"@mui/material/Accordion\";\nimport AccordionActions from \"@mui/material/AccordionActions\";\nimport AccordionSummary from \"@mui/material/AccordionSummary\";\nimport Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport TextField from \"@mui/material/TextField\";\nimport Typography from \"@mui/material/Typography\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { useState } from \"react\";\nimport { useGitHubApi } from \"../../context/GitHubApiProvider\";\nimport { isValidGithubToken } from \"../../lib/github\";\n\nconst AccordionDetails = withStyles({\n  root: {\n    backgroundColor: \"rgba(0, 0, 0, .03)\",\n  },\n})(AccordionActions);\n\nconst GithubTokenInstructions = () => (\n  <Accordion>\n    <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n      <Typography>\n        Set a <b>GitHub Token</b> to create or change Music Markdown files in\n        GitHub.\n      </Typography>\n    </AccordionSummary>\n    <AccordionDetails>\n      <div>\n        <h1>How to Create a New Token</h1>\n\n        <p>\n          These instructions will help you create a new GitHub token, and add it\n          to Music Markdown so that you can use the Music Markdown editor.\n        </p>\n\n        <ol>\n          <li>\n            Open your{\" \"}\n            <a\n              href=\"https://github.com/settings/tokens\"\n              rel=\"noreferrer\"\n              target=\"_blank\"\n            >\n              Personal access tokens\n            </a>{\" \"}\n            page in GitHub.\n          </li>\n          <li>\n            Click <b>Generate new token</b>.\n          </li>\n          <li>\n            Under <b>Note</b> type <b>Music Markdown</b>.\n          </li>\n          <li>\n            Under <b>scopes</b> grant <b>repo</b> permissions.\n          </li>\n          <li>\n            Scroll to the bottom and click <b>Generate token</b>.\n          </li>\n          <li>Copy the newly generated token and paste it below.</li>\n        </ol>\n      </div>\n    </AccordionDetails>\n  </Accordion>\n);\n\nexport default function GithubTokenDialog({ open, handleClose }) {\n  const { gitHubToken, setGitHubToken } = useGitHubApi();\n  const [token, setToken] = useState(gitHubToken);\n\n  const isValidToken = (token) => {\n    return token === \"\" || isValidGithubToken(token);\n  };\n\n  const handleSaveToken = () => {\n    if (isValidToken(token)) {\n      setGitHubToken(token);\n      handleClose();\n    }\n  };\n\n  const handleCloseDialog = () => {\n    setToken(gitHubToken);\n    handleClose();\n  };\n\n  return (\n    <Dialog open={open} onClose={handleCloseDialog}>\n      <DialogTitle id=\"set-github-api-key\">Set GitHub Token</DialogTitle>\n      <DialogContent>\n        <GithubTokenInstructions />\n      </DialogContent>\n      <DialogContent>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          label=\"GitHub Token\"\n          fullWidth\n          value={token || \"\"}\n          onChange={(e) => setToken(e.target.value)}\n          error={!isValidToken(token)}\n          helperText=\"Warning: GitHub tokens are very sensitive. Anyone who \n          gains access to this token will have access to your GitHub account.\n          Please proceed with caution.\"\n        ></TextField>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleCloseDialog} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button\n          onClick={handleSaveToken}\n          color=\"primary\"\n          disabled={!isValidToken(token)}\n        >\n          {token === \"\" ? \"Clear\" : \"Save\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import GitHubIcon from \"@mui/icons-material/GitHub\";\nimport { Button, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useState } from \"react\";\nimport GithubTokenDialog from \"./GithubTokenDialog\";\n\nexport default function GithubTokenMenuItem() {\n  const [apiKeyDialogOpen, setApiKeyDialogOpen] = useState(false);\n\n  const handleApiKeyDialogOpen = () => {\n    setApiKeyDialogOpen(true);\n  };\n\n  const handleApiKeyDialogClose = () => {\n    setApiKeyDialogOpen(false);\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"subtitle1\">GitHub Token</Typography>\n      <Button\n        fullWidth\n        variant=\"outlined\"\n        onClick={handleApiKeyDialogOpen}\n        startIcon={<GitHubIcon />}\n      >\n        Set GitHub Token\n      </Button>\n\n      <GithubTokenDialog\n        open={apiKeyDialogOpen}\n        handleClose={handleApiKeyDialogClose}\n      ></GithubTokenDialog>\n    </Box>\n  );\n}\n","import EditIcon from \"@mui/icons-material/Edit\";\nimport ExitToAppIcon from \"@mui/icons-material/ExitToApp\";\nimport GitHubIcon from \"@mui/icons-material/GitHub\";\nimport ShareIcon from \"@mui/icons-material/Share\";\nimport ViewListIcon from \"@mui/icons-material/ViewList\";\nimport { Button, Stack, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useHistory, useParams } from \"react-router\";\nimport { useSnackbar } from \"../../context/SnackbarProvider\";\n\nconst ShareButton = ({ close }) => {\n  const { showSnackbar } = useSnackbar();\n\n  const share = () => {\n    navigator.clipboard.writeText(window.location.href);\n    showSnackbar(\"Song URL copied to the clipboard!\");\n    close();\n  };\n\n  return (\n    <Button variant=\"outlined\" startIcon={<ShareIcon />} onClick={share}>\n      Share song URL\n    </Button>\n  );\n};\n\nconst EditViewButton = ({ close }) => {\n  const history = useHistory();\n  const { repo, mode, branch, path } = useParams();\n\n  const edit = () => {\n    close();\n    history.push(`/repos/${repo}/editor/${branch}/${path}`);\n  };\n\n  const view = () => {\n    close();\n    history.push(`/repos/${repo}/viewer/${branch}/${path}`);\n  };\n\n  if (mode === \"viewer\") {\n    return (\n      <Button variant=\"outlined\" startIcon={<EditIcon />} onClick={edit}>\n        Edit inline\n      </Button>\n    );\n  }\n  if (mode === \"editor\") {\n    return (\n      <Button variant=\"outlined\" startIcon={<ExitToAppIcon />} onClick={view}>\n        Exit to viewer\n      </Button>\n    );\n  }\n  return null;\n};\n\nconst SongListButton = ({ close }) => {\n  const history = useHistory();\n  const { repo, branch, path } = useParams();\n  const folder = path.split(\"/\").slice(0, -1).join(\"/\");\n\n  const back = () => {\n    close();\n    history.push(`/repos/${repo}/browser/${branch}/${folder}`);\n  };\n\n  return (\n    <Button variant=\"outlined\" startIcon={<ViewListIcon />} onClick={back}>\n      Back to song list\n    </Button>\n  );\n};\n\nconst ShowOnGitHubButton = () => {\n  const { repo, branch, path } = useParams();\n  const githubLink = `https://github.com/${repo}/blob/${branch}/${path}`;\n\n  return (\n    <Button href={githubLink} variant=\"outlined\" startIcon={<GitHubIcon />}>\n      Show on GitHub\n    </Button>\n  );\n};\n\nexport default function SongActionsMenuItem({ close }) {\n  return (\n    <Box>\n      <Typography variant=\"subtitle1\">Song Actions</Typography>\n      <Stack direction=\"column\" spacing={1}>\n        <ShareButton close={close} />\n        <EditViewButton close={close} />\n        <SongListButton close={close} />\n        <ShowOnGitHubButton />\n      </Stack>\n    </Box>\n  );\n}\n","import DarkModeIcon from \"@mui/icons-material/DarkMode\";\nimport LightModeIcon from \"@mui/icons-material/LightMode\";\nimport SettingsBrightnessIcon from \"@mui/icons-material/SettingsBrightness\";\nimport { Stack, Typography } from \"@mui/material\";\nimport ToggleButton from \"@mui/material/ToggleButton\";\nimport ToggleButtonGroup from \"@mui/material/ToggleButtonGroup\";\nimport { Box } from \"@mui/system\";\nimport { useTheme } from \"../../context/ThemeProvider\";\n\nexport default function ThemeMenuItem() {\n  const { themeName, setThemeName } = useTheme();\n\n  return (\n    <Box>\n      <Typography variant=\"subtitle1\">Theme</Typography>\n      <ToggleButtonGroup\n        value={themeName}\n        fullWidth\n        exclusive\n        onChange={(event, newThemeName) => setThemeName(newThemeName)}\n      >\n        <ToggleButton value=\"light\">\n          <Stack spacing={1} direction=\"row\">\n            <LightModeIcon />\n            <Typography variant=\"button\">Light</Typography>\n          </Stack>\n        </ToggleButton>\n        <ToggleButton value=\"system\">\n          <Stack spacing={1} direction=\"row\">\n            <SettingsBrightnessIcon />\n            <Typography variant=\"button\">System</Typography>\n          </Stack>\n        </ToggleButton>\n        <ToggleButton value=\"dark\">\n          <Stack spacing={1} direction=\"row\">\n            <DarkModeIcon />\n            <Typography variant=\"button\">Dark</Typography>\n          </Stack>\n        </ToggleButton>\n      </ToggleButtonGroup>\n    </Box>\n  );\n}\n","import ArrowCircleDownIcon from \"@mui/icons-material/ArrowCircleDown\";\nimport ArrowCircleUpIcon from \"@mui/icons-material/ArrowCircleUp\";\nimport SettingsBackupRestoreIcon from \"@mui/icons-material/SettingsBackupRestore\";\nimport { Button, Divider, IconButton, Stack, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport queryString from \"query-string\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { TRANSPOSE_QUERY_KEY } from \"../../lib/constants\";\n\nexport default function TransposeMenuItem() {\n  const location = useLocation();\n  const history = useHistory();\n\n  const params = queryString.parse(location.search);\n  const transpose = Number(params[TRANSPOSE_QUERY_KEY] || \"0\");\n\n  const setTranspose = (transpose) => {\n    const params = queryString.parse(location.search);\n    if (transpose === 0) {\n      delete params[TRANSPOSE_QUERY_KEY];\n    } else {\n      params[TRANSPOSE_QUERY_KEY] = String(transpose);\n    }\n    history.replace({ search: queryString.stringify(params) });\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"subtitle1\">Transpose</Typography>\n      <Stack\n        direction=\"row\"\n        spacing={1}\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <IconButton\n          aria-label=\"Transpose down\"\n          color=\"primary\"\n          onClick={() => setTranspose(transpose - 1)}\n        >\n          <ArrowCircleDownIcon />\n        </IconButton>\n        <Typography variant=\"body1\">{transpose}</Typography>\n        <IconButton\n          aria-label=\"Transpose up\"\n          color=\"primary\"\n          onClick={() => setTranspose(transpose + 1)}\n        >\n          <ArrowCircleUpIcon />\n        </IconButton>\n        <Divider orientation=\"vertical\" />\n        <Button\n          variant=\"outlined\"\n          startIcon={<SettingsBackupRestoreIcon />}\n          onClick={() => setTranspose(0)}\n        >\n          Reset\n        </Button>\n      </Stack>\n    </Box>\n  );\n}\n","import { Paper, Popper, Stack } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { Route } from \"react-router\";\nimport { REPO_REGEX } from \"../../lib/constants\";\nimport ColumnCountMenuItem from \"./ColumnCountMenuItem\";\nimport GithubTokenMenuItem from \"./GithubTokenMenuItem\";\nimport SongActionsMenuItem from \"./SongActionsMenuItem\";\nimport ThemeMenuItem from \"./ThemeMenuItem\";\nimport TransposeMenuItem from \"./TransposeMenuItem\";\n\nexport default function MoreMenu({ open, close, anchorEl }) {\n  return (\n    <Popper anchor=\"right\" open={open} anchorEl={anchorEl}>\n      <Paper>\n        <Box maxHeight=\"calc(100vh - 7em)\" overflow=\"auto\" sx={{ padding: 2 }}>\n          <Stack spacing={2}>\n            <Route\n              path={`${REPO_REGEX}/:mode(viewer|editor)/:branch/:path*`}\n              render={() => (\n                <>\n                  <SongActionsMenuItem close={close} />\n                  <TransposeMenuItem />\n                  <ColumnCountMenuItem />\n                </>\n              )}\n            />\n            <ThemeMenuItem />\n            <GithubTokenMenuItem />\n          </Stack>\n        </Box>\n      </Paper>\n    </Popper>\n  );\n}\n","import MoreVertIcon from \"@mui/icons-material/MoreVert\";\nimport { IconButton, Tooltip } from \"@mui/material\";\nimport ClickAwayListener from \"@mui/material/ClickAwayListener\";\nimport { Box } from \"@mui/system\";\nimport { useState } from \"react\";\nimport MoreMenu from \"../MoreMenu\";\n\nexport default function MoreAppBarItem() {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleToggle = (event) => {\n    setAnchorEl(open ? null : event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Box>\n      <ClickAwayListener onClickAway={handleClose}>\n        <Box>\n          <Tooltip title=\"More\">\n            <IconButton onClick={handleToggle} size=\"large\">\n              <MoreVertIcon />\n            </IconButton>\n          </Tooltip>\n          <MoreMenu open={open} close={handleClose} anchorEl={anchorEl} />\n        </Box>\n      </ClickAwayListener>\n    </Box>\n  );\n}\n","import { Autocomplete, TextField } from \"@mui/material\";\nimport { useHistory, useParams } from \"react-router\";\nimport { useGitHubFetch } from \"../../context/GitHubApiProvider\";\n\nexport default function SearchAppBarItem() {\n  const { repo, branch } = useParams();\n  const history = useHistory();\n  const { loading, value: trees } = useGitHubFetch(\n    `/repos/${repo}/git/trees/${branch}?recursive=1`,\n    { tree: [] }\n  );\n  const files = trees.tree.map((tree) => tree.path);\n\n  const handleChange = (event, value, reason) => {\n    if (reason === \"selectOption\") {\n      history.push(`/repos/${repo}/viewer/${branch}/${value}`);\n    }\n  };\n\n  return (\n    <Autocomplete\n      fullWidth\n      disabled={loading}\n      size=\"small\"\n      options={files || []}\n      renderInput={(params) => (\n        <TextField {...params} label={loading ? \"Loading…\" : \"Jump to…\"} />\n      )}\n      onChange={handleChange}\n    />\n  );\n}\n","import { Paper } from \"@mui/material\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport PropTypes from \"prop-types\";\nimport { useRef } from \"react\";\nimport Draggable from \"react-draggable\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"fixed\",\n    bottom: theme.spacing(1),\n    right: theme.spacing(1),\n    padding: theme.spacing(2),\n    cursor: \"move\",\n  },\n}));\n\nexport default function YouTubePlayer({ youTubeId, visible }) {\n  const classes = useStyles();\n  const nodeRef = useRef();\n\n  if (!visible || !youTubeId) {\n    return null;\n  }\n\n  return (\n    <Draggable nodeRef={nodeRef}>\n      <Paper ref={nodeRef} className={classes.paper}>\n        <iframe\n          title=\"YouTube\"\n          style={{ border: 0 }}\n          src={`https://www.youtube.com/embed/${youTubeId}?autoplay=1&modestbranding=1`}\n          allow=\"accelerometer; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n        />\n      </Paper>\n    </Draggable>\n  );\n}\n\nYouTubePlayer.propTypes = {\n  youTubeId: PropTypes.string,\n  visible: PropTypes.bool,\n};\n","import PlayArrowIcon from \"@mui/icons-material/PlayArrow\";\nimport { IconButton, Tooltip } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { useYouTubeId } from \"../../context/YouTubeIdProvider\";\nimport YouTubePlayer from \"./YouTubePlayer\";\n\nexport default function YouTubeAppBarItem() {\n  const { youTubeId } = useYouTubeId();\n  const [visible, setVisible] = useState(false);\n\n  useEffect(() => {\n    setVisible(!youTubeId);\n  }, [youTubeId]);\n\n  const handleToggle = () => {\n    setVisible(!visible);\n  };\n\n  if (!youTubeId) {\n    return null;\n  }\n\n  return (\n    <>\n      <Tooltip title=\"Show / Hide YouTube Player\">\n        <IconButton\n          color={visible ? \"secondary\" : \"default\"}\n          onClick={handleToggle}\n          size=\"large\"\n        >\n          <PlayArrowIcon />\n        </IconButton>\n      </Tooltip>\n      <YouTubePlayer visible={visible} youTubeId={youTubeId} />\n    </>\n  );\n}\n","import { AppBar as MuiAppBar } from \"@mui/material\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport { Box } from \"@mui/system\";\nimport { Route } from \"react-router-dom\";\nimport { REPO_REGEX } from \"../../lib/constants\";\nimport LogoAppBarItem from \"./LogoAppBarItem\";\nimport MoreAppBarItem from \"./MoreAppBarItem\";\nimport SearchAppBarItem from \"./SearchAppBarItem\";\nimport YouTubeAppBarItem from \"./YouTubeAppBarItem\";\n\nexport default function AppBar() {\n  return (\n    <MuiAppBar position={\"sticky\"} key=\"top-navbar\">\n      <Toolbar>\n        <LogoAppBarItem />\n        <Route\n          path={`${REPO_REGEX}/:mode/:branch/:path*`}\n          component={SearchAppBarItem}\n        />\n\n        <Box sx={{ flexGrow: 1 }} />\n\n        <Route\n          path={`${REPO_REGEX}/:mode(viewer|editor)/:branch/:path*`}\n          render={() => <YouTubeAppBarItem />}\n        />\n        <MoreAppBarItem />\n      </Toolbar>\n    </MuiAppBar>\n  );\n}\n","import Breadcrumbs from \"@mui/material/Breadcrumbs\";\nimport Link from \"@mui/material/Link\";\nimport Paper from \"@mui/material/Paper\";\nimport Typography from \"@mui/material/Typography\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    padding: theme.spacing(1),\n  },\n  reactRouterHoverInherit: theme.reactRouterHoverInherit,\n}));\n\nfunction buildBreadcrumb(previousPath, classes) {\n  const breadcrumbItems = [];\n\n  // ignoreIndex matches the Route defined in App.js.\n  // Certain portions are not useful to user in the breadcrumb, so we remove them.\n  const ignoreIndex = [\n    0 /* /repos */, 3 /* /:viewName(browser|viewer|editor) */,\n  ];\n  const keyBase = \"breadcrumb-item-\";\n\n  let currDir = \"\";\n  for (let i = 0; i < previousPath.length; i++) {\n    const directory = previousPath[i];\n    currDir = currDir.concat(\"/\", directory);\n\n    if (ignoreIndex.indexOf(i) !== -1) {\n      continue;\n    }\n\n    if (i === previousPath.length - 1) {\n      // Last item should be active\n      breadcrumbItems.push(\n        <Typography\n          role=\"breadcrumb\"\n          color=\"textPrimary\"\n          key={`${keyBase}${i}`}\n        >\n          {directory}\n        </Typography>\n      );\n    } else {\n      breadcrumbItems.push(\n        <Link\n          role=\"breadcrumb\"\n          component={RouterLink}\n          to={`${currDir}/`}\n          key={`${keyBase}${i}`}\n          color=\"inherit\"\n          className={classes.reactRouterHoverInherit}\n        >\n          {directory}\n        </Link>\n      );\n    }\n  }\n\n  return breadcrumbItems;\n}\n\n/**\n * Returns a list of breadcrumbs based on current path of navigation\n * @return {Array} List of BreadcrumbItems\n */\nexport default function DirectoryBreadcrumbs() {\n  const { pathname } = useLocation();\n  const classes = useStyles();\n  const keyBase = \"breadcrumb-item-\";\n\n  const subDirectoriesArr = pathname.split(\"/\").filter((value) => !!value);\n  subDirectoriesArr[3] = \"browser\";\n\n  const breadcrumbItems = buildBreadcrumb(subDirectoriesArr, classes);\n\n  return (\n    <Paper className={classes.paper}>\n      <Breadcrumbs>\n        <Link\n          role=\"breadcrumb\"\n          component={RouterLink}\n          to={`/`}\n          key={`${keyBase}Home`}\n          color=\"inherit\"\n          className={classes.reactRouterHoverInherit}\n        >\n          Home\n        </Link>\n        {breadcrumbItems}\n      </Breadcrumbs>\n    </Paper>\n  );\n}\n","import CallSplitIcon from \"@mui/icons-material/CallSplit\";\nimport Avatar from \"@mui/material/Avatar\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemAvatar from \"@mui/material/ListItemAvatar\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useGitHubFetch } from \"../../context/GitHubApiProvider\";\nimport DirectoryBreadcrumbs from \"../RouterBreadcrumbs\";\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n    padding: 8,\n  },\n});\n\n/**\n * A React component for rendering repository items when navigating the /repos resource\n */\nexport default function BranchViewer({ location }) {\n  const classes = useStyles();\n  const { repo } = useParams();\n  const { loading, value: branches } = useGitHubFetch(\n    `/repos/${repo}/branches`\n  );\n\n  if (loading) {\n    return <LinearProgress />;\n  }\n\n  return (\n    <>\n      <DirectoryBreadcrumbs pathname={location.pathname} />\n      <div className={classes.root}>\n        <List>\n          {branches.map((item) => (\n            <ListItem\n              button\n              component={Link}\n              key={`list-group-item-${item.name}`}\n              to={`/repos/${repo}/browser/${item.name}/`}\n            >\n              <ListItemAvatar>\n                <Avatar>\n                  <CallSplitIcon />\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText primary={item.name}></ListItemText>\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    </>\n  );\n}\n","import CloseIcon from \"@mui/icons-material/Close\";\nimport ErrorIcon from \"@mui/icons-material/Error\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport SnackbarContent from \"@mui/material/SnackbarContent\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport classNames from \"classnames\";\n\nconst useStyles = makeStyles((theme) => ({\n  error: {\n    backgroundColor: theme.palette.error.dark,\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n  message: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function ErrorSnackbar({ open, handleClose, message }) {\n  const classes = useStyles();\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      open={open}\n      autoHideDuration={6000}\n      onClose={handleClose}\n    >\n      <SnackbarContent\n        className={classes.error}\n        aria-describedby=\"client-snackbar\"\n        message={\n          <span id=\"client-snackbar\" className={classes.message}>\n            <ErrorIcon\n              className={classNames(classes.icon, classes.iconVariant)}\n            />\n            {message}\n          </span>\n        }\n        action={[\n          <IconButton\n            key=\"close\"\n            aria-label=\"Close\"\n            color=\"inherit\"\n            className={classes.close}\n            onClick={handleClose}\n            size=\"large\"\n          >\n            <CloseIcon className={classes.icon} />\n          </IconButton>,\n        ]}\n      />\n    </Snackbar>\n  );\n}\n","import AddIcon from \"@mui/icons-material/Add\";\nimport Button from \"@mui/material/Button\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport Fab from \"@mui/material/Fab\";\nimport Grid from \"@mui/material/Grid\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport TextField from \"@mui/material/TextField\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Typography from \"@mui/material/Typography\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { useState } from \"react\";\nimport { Redirect, useParams } from \"react-router-dom\";\nimport { useGitHubApi } from \"../../context/GitHubApiProvider\";\nimport { putContents } from \"../../lib/github\";\nimport ErrorSnackbar from \"../ErrorSnackbar\";\n\nconst useStyles = makeStyles((theme) => ({\n  whitespacePre: {\n    whiteSpace: \"pre-line\",\n    fontFamily: \"monospace\",\n  },\n  grid: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}));\n\nexport default function AddNewFile() {\n  const classes = useStyles();\n  const { repo, path, branch } = useParams();\n  const { gitHubToken } = useGitHubApi();\n  const [newFileName, setNewFileName] = useState(\"\");\n  const [newFileOpen, setNewFileOpen] = useState(false);\n  const [toEditor, setToEditor] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  const handleAddNewFileOpen = () => {\n    setNewFileOpen(true);\n  };\n\n  const handleAddNewFileClose = () => {\n    setNewFileOpen(false);\n    setNewFileName(\"\");\n  };\n\n  const handleUpdateFileName = (event) => {\n    setNewFileName(event.target.value);\n  };\n\n  const handleAddNewFile = async () => {\n    const newPath = getNewFilePath();\n    const content = getTemplateContents();\n\n    const response = await putContents(\n      repo,\n      newPath,\n      content,\n      undefined,\n      branch,\n      gitHubToken\n    );\n\n    if (response.status !== 201) {\n      handleShowError(`${response.status}: ${response.statusText}`);\n      return;\n    }\n    setToEditor(true);\n  };\n\n  const handleShowError = (message) => {\n    setMessage(message);\n    setError(true);\n  };\n\n  const handleClearError = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setError(false);\n  };\n\n  const isValidFileName = () => !!newFileName.match(/^[^<>:\"/\\\\|?*]+$/);\n  const getTemplateContents = () => `---\\n---\\n\\n# ${newFileName}`;\n  const getNewFilePath = () =>\n    path ? `${path}/${newFileName}.md` : `${newFileName}.md`;\n\n  if (toEditor) {\n    return (\n      <Redirect to={`/repos/${repo}/editor/${branch}/${getNewFilePath()}`} />\n    );\n  }\n\n  return (\n    <>\n      <Grid\n        container\n        className={classes.grid}\n        direction=\"row\"\n        justifyContent=\"flex-end\"\n        alignItems=\"flex-end\"\n      >\n        <Tooltip\n          title={\n            gitHubToken ? \"Add Song\" : \"Add a GitHub Token to Enable Editing\"\n          }\n        >\n          <span>\n            <Fab\n              aria-label=\"Add\"\n              disabled={!gitHubToken}\n              onClick={handleAddNewFileOpen}\n            >\n              <AddIcon />\n            </Fab>\n          </span>\n        </Tooltip>\n        <Dialog\n          open={newFileOpen}\n          aria-labelledby=\"add-new-file-dialog\"\n          fullWidth={true}\n        >\n          <DialogTitle id=\"add-new-file-dialog-title\">\n            Create New Music Markdown File\n          </DialogTitle>\n          <DialogContent>\n            <Card className={classes.previewCard}>\n              <CardContent>\n                <Typography\n                  variant=\"caption\"\n                  color=\"textSecondary\"\n                  gutterBottom\n                >\n                  Preview\n                </Typography>\n                <Typography\n                  variant=\"body1\"\n                  color=\"textPrimary\"\n                  className={classes.whitespacePre}\n                >\n                  {getTemplateContents()}\n                </Typography>\n              </CardContent>\n            </Card>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"owner\"\n              label=\"Music Markdown File Name\"\n              value={newFileName}\n              onChange={handleUpdateFileName}\n              fullWidth\n              error={!isValidFileName()}\n              helperText={\n                !isValidFileName() ? (\n                  \"Invalid file name\"\n                ) : (\n                  <>\n                    {repo}/{branch}/{getNewFilePath()}\n                  </>\n                )\n              }\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">.md</InputAdornment>\n                ),\n              }}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleAddNewFileClose} color=\"secondary\">\n              Cancel\n            </Button>\n            <Button\n              onClick={handleAddNewFile}\n              color=\"primary\"\n              disabled={!isValidFileName()}\n            >\n              Create\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Grid>\n      <ErrorSnackbar\n        message={message}\n        open={error}\n        handleClose={handleClearError}\n      />\n    </>\n  );\n}\n","import DescriptionIcon from \"@mui/icons-material/Description\";\nimport FolderIcon from \"@mui/icons-material/Folder\";\nimport Avatar from \"@mui/material/Avatar\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemAvatar from \"@mui/material/ListItemAvatar\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useContents } from \"../../context/GitHubApiProvider\";\nimport DirectoryBreadcrumbs from \"../RouterBreadcrumbs\";\nimport AddNewFile from \"./AddNewFile\";\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n    padding: 8,\n  },\n});\n\n/**\n * Sorts the contents of a GitHub directory. Lists directories first then files,\n * each in alphabetical order.\n * @param {Object[]} contents GitHub directory contents. Contains files and directories.\n */\nfunction sortDir(contents) {\n  return [...contents].sort((a, b) => {\n    if (a.type === \"file\") {\n      if (b.type === \"file\") {\n        return a.name - b.name;\n      }\n      return 1;\n    }\n    if (b.type === \"file\") {\n      return -1;\n    }\n    return a.name - b.name;\n  });\n}\n\n/**\n * A React component for rendering repository files and directories.\n */\nexport default function FileViewer() {\n  const classes = useStyles();\n  const { repo, path, branch } = useParams();\n  const { loading, value } = useContents(repo, path, branch);\n\n  if (loading) {\n    return <LinearProgress />;\n  }\n\n  const contents = sortDir(value);\n\n  return (\n    <>\n      <DirectoryBreadcrumbs />\n      <div className={classes.root}>\n        <List key={\"repo-navigation-list\"}>\n          {contents.map((item) => (\n            <ListItem\n              button\n              component={Link}\n              key={`list-group-item-${item.name}`}\n              to={\n                item.type === \"dir\"\n                  ? `/repos/${repo}/browser/${branch}/${item.path}/`\n                  : `/repos/${repo}/viewer/${branch}/${item.path}`\n              }\n            >\n              <ListItemAvatar>\n                <Avatar>\n                  {item.type === \"dir\" ? <FolderIcon /> : <DescriptionIcon />}\n                </Avatar>\n              </ListItemAvatar>\n              {item.type === \"dir\" ? (\n                <ListItemText secondary={item.name}></ListItemText>\n              ) : (\n                <ListItemText primary={item.name}></ListItemText>\n              )}\n            </ListItem>\n          ))}\n        </List>\n        <AddNewFile />\n      </div>\n    </>\n  );\n}\n","import { useTheme } from \"@mui/material/styles\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport MarkdownIt from \"markdown-it\";\nimport MarkdownItMusic from \"markdown-it-music\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useYouTubeId } from \"../../context/YouTubeIdProvider\";\nimport { useContainerDimensions } from \"../../lib/hooks\";\nimport ErrorSnackbar from \"../ErrorSnackbar\";\n\nconst COLUMN_GAP = 20;\n\nconst useStyles = makeStyles((theme) => ({\n  columns: {\n    columnGap: `${COLUMN_GAP}px`,\n    columnRuleWidth: \"1px\",\n    columnRuleStyle: \"dashed\",\n    columnRuleColor: theme.palette.text.secondary,\n  },\n}));\n\nconst MusicMarkdownRender = ({\n  source,\n  width,\n  columnCount,\n  transposeAmount,\n}) => {\n  const theme = useTheme();\n  const { setYouTubeId } = useYouTubeId();\n  const [html, setHtml] = useState(\"\");\n  const [message, setMessage] = useState();\n  const [error, setError] = useState(false);\n\n  const handleClearError = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setError(false);\n  };\n\n  useEffect(() => {\n    const md = new MarkdownIt({ html: true }).use(MarkdownItMusic);\n    md.setTranspose(transposeAmount);\n    md.setTheme(theme.palette.mode);\n    md.setMaxWidth((width - COLUMN_GAP * (columnCount - 1)) / columnCount);\n\n    try {\n      setHtml(md.render(source));\n      setError(false);\n      setYouTubeId(md.meta.youTubeId);\n    } catch (err) {\n      console.log(err);\n      setHtml(`<pre>${source}</pre>`);\n      setMessage(err.message);\n      setError(true);\n    }\n  }, [\n    setYouTubeId,\n    source,\n    width,\n    columnCount,\n    transposeAmount,\n    theme.palette.mode,\n  ]);\n\n  // TODO: Replace this hack with an iframe.\n  var script = /<script>([.\\s\\S]*)<\\/script>/gm.exec(html);\n  if (script) {\n    // eslint-disable-next-line no-eval\n    window.eval(script[1]);\n  }\n\n  return (\n    <>\n      {/* TODO: Replace this hack with an iframe. */}\n      <div\n        className={`mmd-${theme.palette.mode}`}\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n      <ErrorSnackbar\n        message={message}\n        open={error}\n        handleClose={handleClearError}\n      />\n    </>\n  );\n};\n\nexport default function Render(props) {\n  const classes = useStyles();\n  const componentRef = useRef();\n  const { width } = useContainerDimensions(componentRef);\n\n  return (\n    <div\n      className={classes.columns}\n      style={{ columnCount: props.columnCount }}\n      ref={componentRef}\n    >\n      <MusicMarkdownRender width={width} {...props} />\n    </div>\n  );\n}\n","import CheckIcon from \"@mui/icons-material/Check\";\nimport ExitToAppIcon from \"@mui/icons-material/ExitToApp\";\nimport GitHubIcon from \"@mui/icons-material/GitHub\";\nimport PhotoFilterIcon from \"@mui/icons-material/PhotoFilter\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { green } from \"@mui/material/colors\";\nimport Fab from \"@mui/material/Fab\";\nimport Grid from \"@mui/material/Grid\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport Paper from \"@mui/material/Paper\";\nimport { useTheme } from \"@mui/material/styles\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport classNames from \"classnames\";\nimport queryString from \"query-string\";\nimport { useEffect, useState } from \"react\";\nimport AceEditor from \"react-ace\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useContents, useGitHubApi } from \"../../context/GitHubApiProvider\";\nimport {\n  COLUMN_COUNT_QUERY_KEY,\n  TRANSPOSE_QUERY_KEY,\n} from \"../../lib/constants\";\nimport { putContents } from \"../../lib/github\";\nimport { useDebounce } from \"../../lib/hooks\";\nimport asciiTabConvert from \"../../tools/asciitab\";\nimport Render from \"./Render\";\nimport DirectoryBreadcrumbs from \"../RouterBreadcrumbs\";\n\nimport \"ace-builds/src-noconflict/mode-markdown\"; // organize-imports-ignore\nimport \"ace-builds/src-noconflict/theme-textmate\"; // organize-imports-ignore\nimport \"ace-builds/src-noconflict/theme-twilight\"; // organize-imports-ignore\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    padding: 8,\n  },\n  fabProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: -6,\n    left: -6,\n    zIndex: 1,\n  },\n  editor: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    height: \"100%\",\n    width: \"100%\",\n  },\n  fab: {\n    margin: theme.spacing(1),\n  },\n  toolbar: {\n    display: \"flex\",\n    padding: theme.spacing(1),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    height: \"100%\",\n  },\n  buttonSuccess: {\n    backgroundColor: green[500],\n    \"&:hover\": {\n      backgroundColor: green[700],\n    },\n  },\n}));\n\nexport default function Edit({ location }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const { gitHubToken } = useGitHubApi();\n  const [markdown, setMarkdown] = useState(\"\");\n  const debouncedMarkdown = useDebounce(markdown, 250);\n  const [sha, setSha] = useState();\n  const [saving, setSaving] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [isDirty, setIsDirty] = useState(false);\n  const { repo, path, branch } = useParams();\n  const { loading, value, content } = useContents(repo, path, branch);\n\n  const handleChange = (value) => {\n    setMarkdown(value);\n    setIsDirty(true);\n    setSuccess(false);\n  };\n\n  const handleSave = async () => {\n    if (!saving) {\n      setSuccess(false);\n      setSaving(true);\n\n      const response = await putContents(\n        repo,\n        path,\n        markdown,\n        sha,\n        branch,\n        gitHubToken\n      );\n      const json = await response.json();\n\n      if (response.status === 200) {\n        setSuccess(true);\n        setSaving(false);\n        setSha(json.content.sha);\n      } else {\n        setSuccess(false);\n        setSaving(false);\n      }\n    }\n  };\n\n  const handleAutoFormat = () => {\n    setMarkdown(asciiTabConvert(markdown));\n  };\n\n  useEffect(() => {\n    if (value) {\n      setMarkdown(content);\n      setSha(value.sha);\n    }\n  }, [content, value]);\n\n  const params = queryString.parse(location.search);\n  const columnCount = params[COLUMN_COUNT_QUERY_KEY] || \"1\";\n  const transposeAmount = Number(params[TRANSPOSE_QUERY_KEY]) || 0;\n\n  const buttonClassname = classNames({\n    [classes.buttonSuccess]: success,\n  });\n\n  const parts = location.pathname.split(\"/\");\n  parts[4] = \"viewer\";\n  const viewerLink = parts.join(\"/\");\n\n  const githubParts = [parts[2], parts[3], \"blob\"].concat(parts.slice(5));\n  const githubLink = `https://github.com/${githubParts.join(\"/\")}`;\n\n  if (loading) {\n    return <LinearProgress />;\n  }\n\n  return (\n    <>\n      <DirectoryBreadcrumbs pathname={location.pathname} />\n      <div className={classes.root}>\n        <Grid container spacing={1}>\n          <Grid item xs={12}>\n            <Paper className={classes.toolbar}>\n              <Tooltip\n                title={\n                  gitHubToken ? \"Save\" : \"Add a GitHub Token to Enable Saving\"\n                }\n              >\n                <span>\n                  <Fab\n                    disabled={!isDirty || !gitHubToken}\n                    className={`${buttonClassname} ${classes.fab}`}\n                    onClick={handleSave}\n                  >\n                    {success ? <CheckIcon /> : <SaveIcon />}\n                    {saving && (\n                      <CircularProgress\n                        size={68}\n                        className={classes.fabProgress}\n                      />\n                    )}\n                  </Fab>\n                </span>\n              </Tooltip>\n              <Tooltip title=\"Auto Format\">\n                <Fab className={classes.fab} onClick={handleAutoFormat}>\n                  <PhotoFilterIcon />\n                </Fab>\n              </Tooltip>\n              <Tooltip title=\"Return to Markdown View\">\n                <Fab component={Link} to={viewerLink} className={classes.fab}>\n                  <ExitToAppIcon />\n                </Fab>\n              </Tooltip>\n              <Tooltip title=\"Open in GitHub\">\n                <Fab href={githubLink} target=\"_blank\" className={classes.fab}>\n                  <GitHubIcon />\n                </Fab>\n              </Tooltip>\n            </Paper>\n          </Grid>\n          <Grid item xs={6}>\n            <Paper className={classes.paper}>\n              <AceEditor\n                mode=\"markdown\"\n                theme={theme.palette.mode === \"dark\" ? \"twilight\" : \"textmate\"}\n                width=\"100%\"\n                maxLines={Infinity}\n                className={classes.editor}\n                onChange={handleChange}\n                value={markdown}\n                editorProps={{ $blockScrolling: true }}\n              />\n            </Paper>\n          </Grid>\n          <Grid item xs={6}>\n            <Paper className={classes.paper}>\n              <Render\n                source={debouncedMarkdown}\n                columnCount={columnCount}\n                transposeAmount={transposeAmount}\n              ></Render>\n            </Paper>\n          </Grid>\n        </Grid>\n      </div>\n    </>\n  );\n}\n","import LinearProgress from \"@mui/material/LinearProgress\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport queryString from \"query-string\";\nimport { useParams } from \"react-router-dom\";\nimport { useContents } from \"../../context/GitHubApiProvider\";\nimport {\n  COLUMN_COUNT_QUERY_KEY,\n  TRANSPOSE_QUERY_KEY,\n} from \"../../lib/constants\";\nimport Render from \"./Render\";\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n    padding: 8,\n  },\n});\n\nexport default function View({ location }) {\n  const classes = useStyles();\n  const { repo, path, branch } = useParams();\n  const { loading, content } = useContents(repo, path, branch);\n\n  const params = queryString.parse(location.search);\n  const columnCount = params[COLUMN_COUNT_QUERY_KEY] || \"1\";\n  const transposeAmount = Number(params[TRANSPOSE_QUERY_KEY]) || 0;\n\n  if (loading) {\n    return <LinearProgress />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Render\n        source={content}\n        columnCount={columnCount}\n        transposeAmount={transposeAmount}\n      />\n    </div>\n  );\n}\n","import AddIcon from \"@mui/icons-material/Add\";\nimport Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport Fab from \"@mui/material/Fab\";\nimport Grid from \"@mui/material/Grid\";\nimport TextField from \"@mui/material/TextField\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { useState } from \"react\";\nimport ErrorSnackbar from \"../ErrorSnackbar\";\n\nconst useStyles = makeStyles((theme) => ({\n  grid: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}));\n\nexport default function AddRepository({ handleAddRepository }) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [owner, setOwner] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(false);\n\n  const handleDialogOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDialogClose = () => {\n    setOpen(false);\n    setName(\"\");\n    setOwner(\"\");\n    setError(false);\n  };\n\n  const handleShowError = (message) => {\n    setMessage(message);\n    setError(true);\n  };\n\n  const handleClearError = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setError(false);\n  };\n\n  const handleDialogAdd = async () => {\n    try {\n      await handleAddRepository(`${owner}/${name}`);\n      handleDialogClose();\n    } catch (err) {\n      handleShowError(err.message);\n    }\n  };\n\n  const handleUpdateOwner = (event) => {\n    setOwner(event.target.value);\n  };\n\n  const handleUpdateName = (event) => {\n    setName(event.target.value);\n  };\n\n  return (\n    <>\n      <Grid\n        container\n        className={classes.grid}\n        direction=\"row\"\n        justifyContent=\"flex-end\"\n        alignItems=\"flex-end\"\n      >\n        <Fab aria-label=\"Add\" onClick={handleDialogOpen}>\n          <AddIcon />\n        </Fab>\n        <Dialog open={open} aria-labelledby=\"add-repository-dialog\">\n          <DialogTitle id=\"add-repository-dialog-title\">\n            Add Repository\n          </DialogTitle>\n          <DialogContent>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"owner\"\n              label=\"Repository Owner\"\n              value={owner}\n              onChange={handleUpdateOwner}\n              fullWidth\n            />\n            <TextField\n              margin=\"dense\"\n              id=\"name\"\n              label=\"Repository Name\"\n              value={name}\n              onChange={handleUpdateName}\n              fullWidth\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleDialogClose}>Cancel</Button>\n            <Button onClick={handleDialogAdd}>Add</Button>\n          </DialogActions>\n        </Dialog>\n      </Grid>\n      <ErrorSnackbar\n        message={message}\n        open={error}\n        handleClose={handleClearError}\n      />\n    </>\n  );\n}\n","import BookIcon from \"@mui/icons-material/Book\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport Avatar from \"@mui/material/Avatar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemAvatar from \"@mui/material/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@mui/material/ListItemSecondaryAction\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Link } from \"react-router-dom\";\nimport { useRepoMetadata, useRepos } from \"../../context/ReposProvider\";\nimport AddRepository from \"./AddRepository\";\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n    padding: 8,\n  },\n});\n\nexport default function RepoViewer() {\n  const classes = useStyles();\n  const repoMetadata = useRepoMetadata();\n  const { addRepo, deleteRepo } = useRepos();\n\n  return (\n    <div className={classes.root}>\n      <List>\n        {repoMetadata.map((repo) => (\n          <ListItem\n            button\n            key={`repo-item-${repo.full_name}`}\n            component={Link}\n            to={`/repos/${repo.full_name}/browser/${repo.default_branch}`}\n          >\n            <ListItemAvatar>\n              <Avatar>\n                <BookIcon />\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText primary={repo.full_name} />\n            <ListItemSecondaryAction>\n              <IconButton\n                aria-label=\"Delete\"\n                onClick={() => deleteRepo(repo.full_name)}\n                size=\"large\"\n              >\n                <DeleteIcon />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n      </List>\n      <AddRepository handleAddRepository={addRepo} />\n    </div>\n  );\n}\n","import Paper from \"@mui/material/Paper\";\nimport Typography from \"@mui/material/Typography\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { guitarChordbook } from \"markdown-it-music/lib/chordbook\";\nimport { renderChordDiagram } from \"markdown-it-music/renderers/chord_diagram\";\nimport queryString from \"query-string\";\nimport { Link, Route } from \"react-router-dom\";\nimport { COLUMN_COUNT_QUERY_KEY, TRANSPOSE_QUERY_KEY } from \"../lib/constants\";\nimport Render from \"./MusicMd/Render\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    padding: 8,\n  },\n  chordSourcePaper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(2),\n  },\n  chordCategoryPaper: {\n    margin: theme.spacing(1),\n    textAlign: \"center\",\n  },\n  chordCategoryTypography: {\n    color: theme.palette.text.primary,\n    textAlign: \"center\",\n  },\n  chordVariantPaper: {\n    display: \"inline-block\",\n    margin: theme.spacing(1),\n    textAlign: \"center\",\n  },\n  chordVariantTypography: {\n    color: theme.palette.text.secondary,\n  },\n  chordDiagram: {\n    filter: theme.palette.mode === \"dark\" ? \"invert(100%)\" : \"\",\n  },\n}));\n\nexport default function Sandbox({ location, match }) {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h2\">Sandbox</Typography>\n\n      <ul>\n        <li>\n          <Link to={`${match.url}/all-features-in-one-place`}>\n            All the Features in One Place\n          </Link>\n        </li>\n        <li>\n          <Link to={`${match.url}/guitar-chordbook`}>Guitar Chordbook</Link>\n        </li>\n      </ul>\n\n      <Route\n        path={`${match.path}/all-features-in-one-place`}\n        component={() => (\n          <MarkdownViewer location={location} source={allFeaturesSource} />\n        )}\n      />\n      <Route\n        path={`${match.path}/guitar-chordbook`}\n        component={AllGuitarChords}\n      />\n    </div>\n  );\n}\n\nconst MarkdownViewer = ({ source, location }) => {\n  const params = queryString.parse(location.search);\n  const columnCount = params[COLUMN_COUNT_QUERY_KEY] || \"1\";\n  const transposeAmount = Number(params[TRANSPOSE_QUERY_KEY]) || 0;\n\n  return (\n    <Render\n      source={source}\n      columnCount={columnCount}\n      transposeAmount={transposeAmount}\n    />\n  );\n};\n\nconst roots = [\n  \"C\",\n  \"C#\",\n  \"Db\",\n  \"D\",\n  \"D#\",\n  \"Eb\",\n  \"E\",\n  \"F\",\n  \"F#\",\n  \"Gb\",\n  \"G\",\n  \"G#\",\n  \"Ab\",\n  \"A\",\n  \"A#\",\n  \"Bb\",\n  \"B\",\n];\n\nconst qualities = [\n  \"\",\n  \"m\",\n  \"6\",\n  \"m6\",\n  \"7\",\n  \"maj7\",\n  \"m7\",\n  \"9\",\n  \"dim\",\n  \"aug\",\n  \"sus2\",\n  \"7sus2\",\n  \"sus4\",\n  \"7sus4\",\n  \"5\",\n  \"dim5\",\n  \"dim7\",\n  \"7b5\",\n  \"m7b5\",\n  \"7#5\",\n  \"7b9\",\n  \"7#9\",\n  \"7b9#5\",\n  \"7/6\",\n  \"9b5\",\n  \"9#5\",\n  \"maj9\",\n  \"m9\",\n  \"9/6\",\n  \"m9/6\",\n  \"add9\",\n  \"11\",\n  \"m11\",\n  \"11aug\",\n  \"13\",\n  \"13b9\",\n  \"13b9b5\",\n];\n\nconst AllGuitarChords = ({ location }) => {\n  const classes = useStyles();\n  return (\n    <>\n      <Typography variant=\"h3\">Guitar Chordbook</Typography>\n      <Paper className={classes.chordSourcePaper}>\n        <MarkdownViewer source={allChordsSource} location={location} />\n      </Paper>\n      {roots.map((category, index) => (\n        <Paper key={`category-${index}`} className={classes.chordCategoryPaper}>\n          <Typography className={classes.chordCategoryTypography} variant=\"h4\">\n            {category} Chords\n          </Typography>\n          <ChordCategory category={category} />\n        </Paper>\n      ))}\n    </>\n  );\n};\n\nconst ChordCategory = ({ category }) => {\n  const classes = useStyles();\n  return Array.from(guitarChordbook.keys())\n    .filter((chord) => chord.match(/^[CDEFGAB](?:#|b)?|N\\.C\\./)[0] === category)\n    .map((chord, index) => (\n      <Paper key={`chord-${index}`} className={classes.chordVariantPaper}>\n        {guitarChordbook.get(chord).map((variant, index) => (\n          <span\n            className={classes.chordDiagram}\n            key={`variant-${index}`}\n            dangerouslySetInnerHTML={{ __html: renderChordDiagram(variant) }}\n          />\n        ))}\n        <Typography className={classes.chordVariantTypography} variant=\"h5\">\n          {chord}\n        </Typography>\n      </Paper>\n    ));\n};\n\nconst allChordsSource = `---\n---\n${roots\n  .map(\n    (root) => `## ${root} Chords\nc1: ${qualities.map((quality) => root + quality).join(\" \")}`\n  )\n  .join(\"\\n\\n\")}\n`;\n\nconst allFeaturesSource = `---\nyouTubeId: dN3GbF9Bx6E\n---\n\n# All the Features in One Place\n\n## Chord and Lyrics\nc1: Em               D           Em\nl1: Are you goin' to Scarborough Fair?\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\n\nc1: Em       G                   D\nl1: Remember me to one who lives there\n\nc1: Em       D                  Em\nl1: She once was a true love of mine\n\n## Multiple Overlapping Voices\nc1: Em                         D         Em\nl1: Tell her to make me a      cambric   shirt\nl2:                     On the side of a hill in the deep forest green\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\nl2:                              Tracing a sparrow on snow-crested ground\n\nc1: Em         G               D\nl1: Without no seams nor needlework\nl2:                      Blankets and bedclothes the child of the mountain\n\nc1: Em          D                 Em\nl1: Then she'll be a true love of mine\nl2:                               Sleeps unaware of the clarion call\n\n## VexTab\n\n:::vextab\noptions space=20\n\ntabstave\n  notation=true\n  key=A time=4/4\n\n  notes :q =|: (5/2.5/3.7/4) :8 7-5h6/3 ^3^ 5h6-7/5 ^3^ :q 7V/4 |\n  notes :8 t12p7/4 s5s3/4 :8 3s:16:5-7/5 :h p5/4\n  text :w, |#segno, ,|, :hd, , #tr\n\n\noptions space=25\n\ntabstave\n  notation=true\n\n  notes :q (5/4.5/5) (7/4.7/5)s(5/4.5/5) ^3^\n  notes :8 7-5/4 $.a./b.$ (5/4.5/5)h(7/5) =:|\n  notes :8 (12/5.12/4)ds(5/5.5/4)u 3b4/5\n  notes :h (5V/6.5/4.6/3.7/2) $.italic.let ring$ =|=\n\n  text :h, ,.font=Times-12-italic, D.S. al coda, |#coda\n  text :h, ,.-1, .font=Arial-14-bold,A13\n  text ++, .23, #f\n :::\n\n## ABC\n\n:::abc\nX: 1\nM: 4/4\nL: 1/16\nK: Amin\n\"Am\" (C16 | C4) B,2C2 D6 CB, | (C16 | C4) B,2C2 \"F\" D6 CA, |\n\"C\" G,8 \"E\" _A,8 | \"Am\" =A,8 \"F\" (3F4 F4 F4 | \"E\" F2 (E6 E8) | z6 ^A2 B4 e4 |\n\"Am\" e2d2c2(d2 \"G\" d4) .=A4 | \"F\" e2d2c2(d2 \"G\" d4) .A4 |\n\"Esus4\" e4 e4 e2d2B2d2 | \"E\" e4 e4 e2g2e2d2 |\n\"Am\" .e4 c2 \"G\" .d4 c2 e4 | \"F\" z2 c2 e2 \"G\" d6 c2d2 |\n\"Esus4\" e2e2e2d2 d2B2B2_A2 | \"E\" _A2F2F2E2 =A2B2A2G2 |\n:::\n\n`;\n","import { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { GitHubApiProvider } from \"../context/GitHubApiProvider\";\nimport { ReposProvider } from \"../context/ReposProvider\";\nimport SnackbarProvider from \"../context/SnackbarProvider\";\nimport { ThemeProvider } from \"../context/ThemeProvider\";\nimport { YouTubeIdProvider } from \"../context/YouTubeIdProvider\";\nimport { REPO_REGEX } from \"../lib/constants\";\nimport AppBar from \"./AppBar\";\nimport BranchViewer from \"./BranchView\";\nimport FileViewer from \"./FileView\";\nimport Edit from \"./MusicMd/Edit\";\nimport View from \"./MusicMd/View\";\nimport RepoViewer from \"./RepoView\";\nimport Sandbox from \"./Sandbox.js\";\n\nconst App = () => (\n  <YouTubeIdProvider>\n    <GitHubApiProvider>\n      <ReposProvider>\n        <ThemeProvider>\n          <SnackbarProvider>\n            <HomeRouter />\n          </SnackbarProvider>\n        </ThemeProvider>\n      </ReposProvider>\n    </GitHubApiProvider>\n  </YouTubeIdProvider>\n);\n\nconst HomeRouter = () => (\n  <Router key=\"home-router\">\n    <Route component={AppBar} />\n    <Switch>\n      <Route path={`${REPO_REGEX}/viewer/:branch/:path+`} component={View} />\n      <Route\n        path={`${REPO_REGEX}/browser/:branch/:path*`}\n        component={FileViewer}\n      />\n      <Route path={`${REPO_REGEX}/editor/:branch/:path*`} component={Edit} />\n      <Route path={REPO_REGEX} component={BranchViewer} />\n      <Route path=\"/sandbox\" component={Sandbox} />\n      <Route path=\"/\" component={RepoViewer} />\n    </Switch>\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://cra.link/PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://cra.link/PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}