{"version":3,"sources":["tools/asciitab.js","lib/constants.js","lib/github.js","components/GlobalState.js","components/RouterBreadcrumbs.js","components/BranchNavigation.js","components/ErrorSnackbar.js","components/MusicMarkdown.js","components/MarkdownEditor.js","components/MarkdownViewer.js","components/GithubTokenDialog.js","components/YouTube.js","components/MusicToolbar.js","components/MusicMarkdownNavbar.js","components/AddRepository.js","components/RepositoryEditor.js","components/AddNewFile.js","components/RepositoryNavigation.js","components/ResponsiveContainer.js","components/Sandbox.js","components/App.js","registerServiceWorker.js","index.js"],"names":["isChord","require","State","DEFAULT","VERSE","FENCE","getMaybeHeading","line","endsWith","slice","startsWith","getMaybeChords","tokens","trim","split","token","asciiTabConvert","input","state","voiceIndex","lines","output","push","maybeHeading","maybeChords","join","read","stream","a","buffer","Buffer","alloc","chunk","concat","toString","console","process","stdin","log","module","main","REPO_REGEX","GITHUB_TOKEN_LOCAL_STORAGE_KEY","REPOS_LOCAL_STORAGE_KEY","GITHUB_API_URL","getContents","repo","path","branch","undefined","length","apiUrl","getApiUrl","fetch","cache","response","json","content","Base64","decode","putContents","sha","body","message","encode","method","mode","JSON","stringify","getRepositories","repoListStr","localStorage","getItem","parse","verifyRepoExists","status","Error","verifyRepoUnregistered","addRepository","repos","setItem","getBranches","url","URL","githubToken","getGithubToken","searchParams","set","isValidGithubToken","match","lightTheme","typography","useNextVariants","reactRouterHoverInherit","color","palette","type","darkTheme","initialTheme","window","GlobalStateContext","React","createContext","useGlobalStateContext","useContext","GlobalStateProvider","props","useState","theme","youTubeId","setState","Provider","value","data","setGithubToken","removeItem","isDarkTheme","toggleTheme","setYouTubeId","children","withStyles","paper","padding","spacing","pathname","classes","subDirectoriesArr","filter","breadcrumbItems","previousPath","ignoreIndex","currDir","i","directory","indexOf","Typography","key","Link","component","RouterLink","to","className","buildBreadcrumb","Paper","Breadcrumbs","BranchNavigation","isLoaded","branches","this","params","prevProps","location","root","List","map","item","ListItem","button","name","ListItemAvatar","Avatar","ListItemText","primary","LinearProgress","Component","flexGrow","withTheme","error","backgroundColor","dark","icon","fontSize","iconVariant","opacity","marginRight","display","alignItems","margin","open","handleClose","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","SnackbarContent","aria-describedby","id","classNames","action","IconButton","aria-label","close","onClick","COLUMN_GAP","MusicMarkdownRender","handleClearError","event","reason","update","source","width","columnCount","transposeAmount","md","setTranspose","setMaxWidth","html","render","context","meta","err","componentDidMount","componentDidUpdate","clearTimeout","timer","setTimeout","componentWillUnmount","markdownBody","dangerouslySetInnerHTML","__html","MarkdownIt","use","MarkdownItMusic","contextType","MusicMarkdown","columns","columnGap","columnRuleWidth","columnRuleStyle","columnRuleColor","text","secondary","style","MarkdownEditor","filename","markdown","saving","success","isDirty","handleChange","handleSave","handleFileNameChange","target","handleAutoFormat","buttonClassname","buttonSuccess","parts","viewerLink","Grid","container","xs","toolbar","Tooltip","title","Fab","disabled","fab","CircularProgress","size","fabProgress","maxLines","Infinity","editor","onChange","editorProps","$blockScrolling","green","position","top","left","zIndex","marginLeft","height","MarkdownViewer","queryParams","queryString","search","Number","ExpansionPanelDetails","MuiExpansionPanelDetails","GithubTokenInstructions","ExpansionPanel","ExpansionPanelSummary","expandIcon","href","GithubTokenDialog","setToken","isValidToken","handleCloseDialog","Dialog","DialogTitle","DialogContent","TextField","autoFocus","label","fullWidth","e","helperText","DialogActions","Button","YouTubePlayer","bottom","right","cursor","border","src","allow","allowFullScreen","YouTubeToggle","visible","handleToggle","styles","popper","slider","handleUpdateQuery","original","history","UnstyledColumnCountSelector","anchorEl","currentTarget","handleClickAway","contains","Badge","badgeContent","invisible","Popper","ClickAwayListener","onClickAway","ToggleButtonGroup","exclusive","ToggleButton","ColumnCountSelector","UnstyledTransposeSelector","transpose","Slider","min","max","step","marks","String","TransposeSelector","BrowseButton","EditButton","ViewButton","SearchToolbar","MusicMarkdownNavbar","handleSettingsToggle","settingsOpen","handleApiKeyDialogOpen","apiKeyDialogOpen","handleApiKeyDialogClose","handleDarkThemeSwitch","settingsAnchorEl","AppBar","Toolbar","alt","grow","MusicToolbar","buttonRef","node","placement","MenuList","MenuItem","FormControlLabel","control","Switch","defaultChecked","AddRepository","owner","handleDialogOpen","handleDialogClose","handleShowError","handleDialogAdd","handleAddRepository","handleUpdateOwner","handleUpdateName","grid","direction","justify","aria-labelledby","ListRepositories","loadRepositories","handleDeleteRepository","r","deleteRepository","ListItemSecondaryAction","AddNewFile","newFileName","newFileOpen","toEditor","handleAddNewFileOpen","handleAddNewFileClose","handleUpdateFileName","handleAddNewFile","getNewFilePath","getTemplateContents","statusText","isValidFileName","file","Card","previewCard","CardContent","variant","gutterBottom","whitespacePre","InputProps","endAdornment","InputAdornment","whiteSpace","fontFamily","RepositoryNavigation","contents","sortDir","prevRepo","prevPath","prevBranch","sort","b","RESPONSIVE_CONTAINER_KEY","ResponsiveContainer","chordSourcePaper","chordCategoryPaper","textAlign","chordCategoryTypography","chordVariantPaper","chordVariantTypography","chordDiagram","roots","qualities","AllGuitarChords","allChordsSource","category","index","ChordCategory","Array","from","guitarChordbook","keys","chord","get","renderChordDiagram","quality","allFeaturesSource","ThemeProvider","createMuiTheme","CssBaseline","HomeRouter","Sandbox","RepositoryEditor","App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","document","getElementById","origin","addEventListener","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.cd6add1f.chunk.js","sourcesContent":["const { isChord } = require(\"markdown-it-music/lib/chord\");\n\nconst State = {\n  DEFAULT: 1,\n  VERSE: 2,\n  FENCE: 3\n};\n\nfunction getMaybeHeading(line) {\n  if (line.endsWith(\":\")) {\n    return `## ${line.slice(0, -1)}`;\n  }\n\n  if (line.startsWith(\"[\") && line.endsWith(\"]\")) {\n    return `## ${line.slice(1, -1)}`;\n  }\n\n  return null;\n}\n\nfunction getMaybeChords(line) {\n  const tokens = line.trim().split(/\\s+/);\n\n  for (const token of tokens) {\n    if (!isChord(token)) {\n      return null;\n    }\n  }\n\n  return `c1: ${line}`;\n}\n\nfunction asciiTabConvert(input) {\n  let state = State.DEFAULT;\n  let voiceIndex = 1;\n  const lines = input.split(/\\n/);\n  const output = [];\n\n  for (const line of lines) {\n    if (line.startsWith(\":::\")) {\n      state = State.FENCE;\n      output.push(line);\n      continue;\n    }\n\n    if (state === State.DEFAULT) {\n      const maybeHeading = getMaybeHeading(line);\n      if (maybeHeading) {\n        output.push(maybeHeading);\n        continue;\n      }\n\n      const maybeChords = getMaybeChords(line);\n      if (maybeChords) {\n        state = State.VERSE;\n        output.push(maybeChords);\n        voiceIndex = 1;\n        continue;\n      }\n\n      output.push(line);\n      continue;\n    }\n\n    if (state === State.VERSE) {\n      const maybeHeading = getMaybeHeading(line);\n      if (maybeHeading) {\n        state = State.DEFAULT;\n        output.push(\"\");\n        output.push(maybeHeading);\n        continue;\n      }\n\n      const maybeChords = getMaybeChords(line);\n      if (maybeChords) {\n        output.push(\"\");\n        output.push(maybeChords);\n        voiceIndex = 1;\n        continue;\n      }\n\n      if (line.trim() === \"\") {\n        continue;\n      }\n\n      output.push(`l${voiceIndex}: ${line}`);\n      voiceIndex += 1;\n      continue;\n    }\n\n    if (state === State.FENCE) {\n      if (line === \":::\") {\n        state = State.DEFAULT;\n      }\n\n      output.push(line);\n      continue;\n    }\n  }\n\n  return output.join(\"\\n\");\n}\n\nasync function read(stream) {\n  let buffer = Buffer.alloc(0);\n  for await (const chunk of stream) {\n    buffer = Buffer.concat([buffer, chunk]);\n  }\n  return buffer.toString(\"utf8\");\n}\n\nasync function main() {\n  console.log(asciiTabConvert(await read(process.stdin)));\n}\n\nif (typeof require !== \"undefined\" && require.main === module) {\n  main();\n}\n\nexport default asciiTabConvert;\n","export const COLUMN_COUNT_QUERY_KEY = \"columns\";\nexport const LOCAL_STORAGE_NAMESPACE = \"music-markdown\";\nexport const REPO_REGEX = \"/repos/:repo([^/]+/[^/]+)\";\nexport const TRANSPOSE_QUERY_KEY = \"transpose\";\n","import { Base64 } from \"js-base64\";\nimport { LOCAL_STORAGE_NAMESPACE } from \"./constants\";\n\nconst GITHUB_TOKEN_LOCAL_STORAGE_KEY = `${LOCAL_STORAGE_NAMESPACE}:github_token`;\nconst REPOS_LOCAL_STORAGE_KEY = `${LOCAL_STORAGE_NAMESPACE}:repositories`;\nconst GITHUB_API_URL = \"https://api.github.com\";\n\n/**\n * Returns a Promise of the contents of a file or directory in a GitHub repository.\n * See https://developer.github.com/v3/repos/contents/#get-contents\n * @param {string} repo The owner and repo in the form :owner/:repo\n * @param {string} path The directory or file to retrieve\n * @param {string} branch The branch to retrive contents from\n * @return {Object} JSON dictionary of repository contents\n */\nexport async function getContents(repo, path, branch) {\n  if (path === undefined || path.length === 0) {\n    path = \"\";\n  }\n  const apiUrl = getApiUrl(`/repos/${repo}/contents/${path}`, branch);\n  const response = await fetch(apiUrl, { cache: \"no-cache\" });\n  const json = await response.json();\n  json.content = json.content ? Base64.decode(json.content) : \"\";\n  return json;\n}\n\nexport async function putContents(repo, path, content, sha, branch) {\n  const apiUrl = getApiUrl(`/repos/${repo}/contents/${path}`);\n\n  const body = {\n    message: `Music Markdown published ${path}`,\n    content: Base64.encode(content),\n    branch\n  };\n\n  if (sha) {\n    body.sha = sha;\n  }\n\n  return fetch(apiUrl, {\n    method: \"PUT\",\n    mode: \"cors\",\n    body: JSON.stringify(body)\n  });\n}\n\n/**\n * Returns list of repos stored in localStorage.\n * @return {Array} Array of JSON dictionaries of repos\n */\nexport function getRepositories() {\n  const repoListStr = localStorage.getItem(REPOS_LOCAL_STORAGE_KEY);\n  if (repoListStr) {\n    return JSON.parse(repoListStr);\n  } else {\n    return [];\n  }\n}\n\nasync function verifyRepoExists(repo) {\n  const apiUrl = getApiUrl(`/repos/${repo}`);\n  const response = await fetch(apiUrl);\n  if (response.status === 404) {\n    throw new Error(`\"${repo}\" not found on GitHub.`);\n  }\n}\n\nfunction verifyRepoUnregistered(repo) {\n  for (const r of getRepositories()) {\n    if (r === repo) {\n      throw new Error(`\"${repo}\" is already registered.`);\n    }\n  }\n}\n\n/**\n * Adds a desired GitHub repo to localStorage.\n * @param {string} repo The owner and repo in the form :owner/:repo\n */\nexport async function addRepository(repo) {\n  verifyRepoUnregistered(repo);\n  await verifyRepoExists(repo);\n  const repos = getRepositories();\n  repos.push(repo);\n  localStorage.setItem(REPOS_LOCAL_STORAGE_KEY, JSON.stringify(repos));\n}\n\n/**\n * Returns a promise of a list of branches for the given repository.\n * @param {string} repo The owner and repo in the form :owner/:repo\n */\nexport async function getBranches(repo) {\n  const apiUrl = getApiUrl(`/repos/${repo}/branches`);\n  const response = await fetch(apiUrl);\n  return response.json();\n}\n\n/**\n * Removes a GitHub repo from localStorage.\n * @param {string} repo The owner and repo in the form :owner/:repo\n */\nexport function deleteRepository(repo) {\n  const repos = getRepositories().filter(r => r !== repo);\n  localStorage.setItem(REPOS_LOCAL_STORAGE_KEY, JSON.stringify(repos));\n}\n\n/**\n * Composes the GitHub API url for the given url, attaching the user's GitHub\n * access token if it exists.\n * @param {string} url The path and search params\n * @param {string} branch The branch to get from\n * @return {URL} Composed GitHub API url with user's personal access token\n */\nexport function getApiUrl(url, branch) {\n  url = new URL(url, GITHUB_API_URL);\n\n  const githubToken = getGithubToken();\n  if (githubToken) {\n    url.searchParams.set(\"access_token\", githubToken);\n  }\n\n  if (branch) {\n    url.searchParams.set(\"ref\", branch);\n  }\n\n  return url;\n}\n\nexport function getGithubToken() {\n  return localStorage.getItem(GITHUB_TOKEN_LOCAL_STORAGE_KEY);\n}\n\nexport function isValidGithubToken(githubToken = getGithubToken()) {\n  return !!githubToken && !!githubToken.match(/^[0-9a-f]{40}$/);\n}\n\nexport function setGithubToken(githubToken) {\n  if (githubToken) {\n    localStorage.setItem(GITHUB_TOKEN_LOCAL_STORAGE_KEY, githubToken);\n  } else {\n    localStorage.removeItem(GITHUB_TOKEN_LOCAL_STORAGE_KEY);\n  }\n}\n","import React, { useContext, useState } from \"react\";\nimport {\n  getGithubToken,\n  isValidGithubToken,\n  setGithubToken\n} from \"../lib/github\";\nimport { LOCAL_STORAGE_NAMESPACE } from \"../lib/constants\";\n\nconst lightTheme = {\n  typography: {\n    useNextVariants: true\n  },\n  reactRouterHoverInherit: {\n    \"&:hover\": {\n      color: \"inherit\"\n    }\n  },\n  palette: {\n    type: \"light\"\n  }\n};\n\nconst darkTheme = {\n  typography: {\n    useNextVariants: true\n  },\n  reactRouterHoverInherit: {\n    \"&:hover\": {\n      color: \"inherit\"\n    }\n  },\n  palette: {\n    type: \"dark\"\n  }\n};\n\nconst initialTheme =\n  window.localStorage.getItem(`${LOCAL_STORAGE_NAMESPACE}:palette-type`) ===\n  \"dark\"\n    ? darkTheme\n    : lightTheme;\n\nexport const GlobalStateContext = React.createContext();\n\nexport const useGlobalStateContext = () => useContext(GlobalStateContext);\n\nexport const GlobalStateProvider = props => {\n  const [state, setState] = useState({\n    githubToken: getGithubToken(),\n    theme: initialTheme,\n    youTubeId: null\n  });\n\n  return (\n    <GlobalStateContext.Provider\n      value={{\n        data: state,\n        isValidGithubToken: () => isValidGithubToken(state.githubToken),\n        setGithubToken: githubToken => {\n          if (githubToken !== state.githubToken) {\n            setState({ ...state, githubToken });\n            setGithubToken(githubToken);\n          }\n        },\n        isDarkTheme: () => state.theme.palette.type === \"dark\",\n        toggleTheme: () => {\n          const theme =\n            state.theme.palette.type === \"dark\" ? lightTheme : darkTheme;\n          window.localStorage.setItem(\n            `${LOCAL_STORAGE_NAMESPACE}:palette-type`,\n            theme.palette.type\n          );\n          setState({ ...state, theme });\n        },\n        setYouTubeId: youTubeId => {\n          if (youTubeId !== state.youTubeId) {\n            setState({ ...state, youTubeId });\n          }\n        }\n      }}\n    >\n      {props.children}\n    </GlobalStateContext.Provider>\n  );\n};\n","import Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  paper: {\n    padding: `${theme.spacing(1)}px`\n  },\n  reactRouterHoverInherit: theme.reactRouterHoverInherit\n});\n\nfunction buildBreadcrumb(previousPath, classes) {\n  const breadcrumbItems = [];\n\n  // ignoreIndex matches the Route defined in App.js.\n  // Certain portions are not useful to user in the breadcrumb, so we remove them.\n  const ignoreIndex = [\n    0 /* /repos */,\n    3 /* /:viewName(browser|viewer|editor) */\n  ];\n  const keyBase = \"breadcrumb-item-\";\n\n  let currDir = \"\";\n  for (let i = 0; i < previousPath.length; i++) {\n    const directory = previousPath[i];\n    currDir = currDir.concat(\"/\", directory);\n\n    if (ignoreIndex.indexOf(i) !== -1) {\n      continue;\n    }\n\n    if (i === previousPath.length - 1) {\n      // Last item should be active\n      breadcrumbItems.push(\n        <Typography color=\"textPrimary\" key={`${keyBase}${i}`}>\n          {directory}\n        </Typography>\n      );\n    } else {\n      breadcrumbItems.push(\n        <Link\n          component={RouterLink}\n          to={`${currDir}/`}\n          key={`${keyBase}${i}`}\n          color=\"inherit\"\n          className={classes.reactRouterHoverInherit}\n        >\n          {directory}\n        </Link>\n      );\n    }\n  }\n\n  return breadcrumbItems;\n}\n\n/**\n * Returns a list of breadcrumbs based on current path of navigation\n * @param {string} pathname current URI pathname\n * @return {Array} List of BreadcrumbItems\n */\nconst DirectoryBreadcrumbs = ({ pathname, classes }) => {\n  const keyBase = \"breadcrumb-item-\";\n\n  const subDirectoriesArr = pathname.split(\"/\").filter(value => !!value);\n  subDirectoriesArr[3] = \"browser\";\n\n  const breadcrumbItems = buildBreadcrumb(subDirectoriesArr, classes);\n\n  return (\n    <Paper className={classes.paper}>\n      <Breadcrumbs>\n        <Link\n          component={RouterLink}\n          to={`/`}\n          key={`${keyBase}Home`}\n          color=\"inherit\"\n          className={classes.reactRouterHoverInherit}\n        >\n          Home\n        </Link>\n        {breadcrumbItems}\n      </Breadcrumbs>\n    </Paper>\n  );\n};\n\nexport default withStyles(styles)(DirectoryBreadcrumbs);\n","import Avatar from \"@material-ui/core/Avatar\";\nimport CallSplitIcon from \"@material-ui/icons/CallSplit\";\nimport DirectoryBreadcrumbs from \"./RouterBreadcrumbs\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { Link } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport React from \"react\";\nimport { getBranches } from \"../lib/github\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = () => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  }\n});\n\n/**\n * A React component for rendering repository items when navigating the /repos resource\n */\nclass BranchNavigation extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoaded: false,\n      branches: []\n    };\n  }\n\n  /**\n   * When component first initializes, execute following lifecycle actions\n   */\n  async componentDidMount() {\n    const branches = await getBranches(this.props.match.params.repo);\n    this.setState({\n      isLoaded: true,\n      branches\n    });\n  }\n\n  /**\n   * When a page is reloaded with a new url parameters, then following lifecycle actions\n   * @param {Object} prevProps Updated query string\n   */\n  async componentDidUpdate(prevProps) {\n    if (prevProps.match.params.repo !== this.props.match.params.repo) {\n      const branches = await getBranches(this.props.match.params.repo);\n      this.setState({\n        isLoaded: true,\n        branches\n      });\n    }\n  }\n\n  render() {\n    const { isLoaded, branches } = this.state;\n    const { classes, location, match } = this.props;\n\n    if (!isLoaded) {\n      return <LinearProgress />;\n    }\n\n    return (\n      <>\n        <DirectoryBreadcrumbs pathname={location.pathname} />\n        <div className={classes.root}>\n          <List>\n            {branches.map(item => (\n              <ListItem\n                button\n                component={Link}\n                key={`list-group-item-${item.name}`}\n                to={`/repos/${match.params.repo}/browser/${item.name}/`}\n              >\n                <ListItemAvatar>\n                  <Avatar>\n                    <CallSplitIcon />\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={item.name}></ListItemText>\n              </ListItem>\n            ))}\n          </List>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(BranchNavigation);\n","import CloseIcon from \"@material-ui/icons/Close\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport React from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport classNames from \"classnames\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  margin: {\n    margin: theme.spacing(1)\n  }\n});\n\nconst ErrorSnackbar = ({ open, handleClose, classes, message }) => (\n  <Snackbar\n    anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n    open={open}\n    autoHideDuration={6000}\n    onClose={handleClose}\n  >\n    <SnackbarContent\n      className={classes.error}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <ErrorIcon\n            className={classNames(classes.icon, classes.iconVariant)}\n          />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          className={classes.close}\n          onClick={handleClose}\n        >\n          <CloseIcon className={classes.icon} />\n        </IconButton>\n      ]}\n    />\n  </Snackbar>\n);\n\nexport default withStyles(styles)(ErrorSnackbar);\n","import ContainerDimensions from \"react-container-dimensions\";\nimport ErrorSnackbar from \"./ErrorSnackbar\";\nimport { GlobalStateContext } from \"./GlobalState\";\nimport MarkdownIt from \"markdown-it\";\nimport MarkdownItMusic from \"markdown-it-music\";\nimport React from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst COLUMN_GAP = 20;\n\nconst styles = theme => ({\n  markdownBody: {\n    filter: theme.palette.type === \"dark\" ? \"invert(100%)\" : \"\"\n  },\n  columns: {\n    columnGap: `${COLUMN_GAP}px`,\n    columnRuleWidth: \"1px\",\n    columnRuleStyle: \"dashed\",\n    columnRuleColor: theme.palette.text.secondary\n  }\n});\n\nclass MusicMarkdownRender extends React.Component {\n  static contextType = GlobalStateContext;\n\n  constructor(props) {\n    super(props);\n\n    this.md = new MarkdownIt({ html: true }).use(MarkdownItMusic);\n\n    this.state = {\n      html: \"\",\n      message: null,\n      error: false\n    };\n  }\n\n  handleClearError = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    this.setState({ error: false });\n  };\n\n  update = () => {\n    const { source, width, columnCount, transposeAmount } = this.props;\n\n    this.md\n      .setTranspose(transposeAmount)\n      .setMaxWidth((width - COLUMN_GAP * (columnCount - 1)) / columnCount);\n\n    try {\n      this.setState({ html: this.md.render(source), error: false });\n      this.context.setYouTubeId(this.md.meta.youTubeId);\n    } catch (err) {\n      console.log(err);\n      this.setState({\n        html: `<pre>${source}</pre>`,\n        message: err.message,\n        error: true\n      });\n    }\n  };\n\n  componentDidMount = () => {\n    this.update();\n  };\n\n  componentDidUpdate = prevProps => {\n    const { source, width, columnCount, transposeAmount } = this.props;\n    if (\n      prevProps.source === source &&\n      prevProps.width === width &&\n      prevProps.columnCount === columnCount &&\n      prevProps.transposeAmount === transposeAmount\n    ) {\n      return;\n    }\n\n    clearTimeout(this.timer);\n    this.timer = setTimeout(this.update, 200);\n  };\n\n  componentWillUnmount = () => {\n    clearTimeout(this.timer);\n  };\n\n  render = () => {\n    const { classes } = this.props;\n    return (\n      <>\n        <div\n          className={classes.markdownBody}\n          dangerouslySetInnerHTML={{ __html: this.state.html }}\n        />\n        <ErrorSnackbar\n          message={this.state.message}\n          open={this.state.error}\n          handleClose={this.handleClearError}\n        />\n      </>\n    );\n  };\n}\n\nconst ContainerizedMusicMarkdown = props => (\n  <div\n    className={props.classes.columns}\n    style={{ columnCount: props.columnCount }}\n  >\n    <ContainerDimensions>\n      <MusicMarkdownRender {...props} />\n    </ContainerDimensions>\n  </div>\n);\n\nconst MusicMarkdown = withStyles(styles, { withTheme: true })(\n  ContainerizedMusicMarkdown\n);\n\nexport default MusicMarkdown;\n","import { getContents, putContents } from \"../lib/github\";\n\nimport AceEditor from \"react-ace\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DirectoryBreadcrumbs from \"./RouterBreadcrumbs\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Fab from \"@material-ui/core/Fab\";\nimport { GlobalStateContext } from \"./GlobalState\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { Link } from \"react-router-dom\";\nimport MusicMarkdown from \"./MusicMarkdown\";\nimport Paper from \"@material-ui/core/Paper\";\nimport PhotoFilterIcon from \"@material-ui/icons/PhotoFilter\";\nimport React from \"react\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport asciiTabConvert from \"../tools/asciitab\";\nimport classNames from \"classnames\";\nimport green from \"@material-ui/core/colors/green\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport \"brace/mode/markdown\"; // eslint-disable-line sort-imports\nimport \"brace/theme/github\"; // eslint-disable-line sort-imports\nimport \"brace/theme/monokai\"; // eslint-disable-line sort-imports\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  },\n  fabProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: -6,\n    left: -6,\n    zIndex: 1\n  },\n  editor: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    height: \"100%\",\n    width: \"100%\"\n  },\n  fab: {\n    margin: theme.spacing(1)\n  },\n  toolbar: {\n    display: \"flex\",\n    padding: theme.spacing(1)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    height: \"100%\"\n  },\n  buttonSuccess: {\n    backgroundColor: green[500],\n    \"&:hover\": {\n      backgroundColor: green[700]\n    }\n  }\n});\n\nclass MarkdownEditor extends React.Component {\n  static contextType = GlobalStateContext;\n\n  state = {\n    filename: undefined,\n    markdown: \"\",\n    sha: null,\n    saving: false,\n    success: false,\n    isDirty: false\n  };\n\n  handleChange = value => {\n    this.setState({ markdown: value, isDirty: true, success: false });\n  };\n\n  handleSave = async () => {\n    if (!this.state.saving) {\n      this.setState({ success: false, saving: true });\n\n      const { repo, path, branch } = this.props.match.params;\n      const { markdown, sha } = this.state;\n      const content = markdown;\n      const response = await putContents(repo, path, content, sha, branch);\n      const json = await response.json();\n\n      if (response.status === 200) {\n        this.setState({ success: true, saving: false, sha: json.content.sha });\n      } else {\n        this.setState({ success: false, saving: false });\n      }\n    }\n  };\n\n  handleFileNameChange = event => {\n    this.setState({ filename: event.target.value });\n  };\n\n  handleAutoFormat = () => {\n    this.setState(state => ({\n      markdown: asciiTabConvert(state.markdown)\n    }));\n  };\n\n  componentDidMount = async () => {\n    const { repo, path, branch } = this.props.match.params;\n\n    const json = await getContents(repo, path, branch);\n    this.setState({\n      isLoaded: true,\n      markdown: json.content,\n      sha: json.sha\n    });\n  };\n\n  render = () => {\n    const { saving, success, isLoaded, isDirty } = this.state;\n    const { classes, theme, location } = this.props;\n\n    const buttonClassname = classNames({\n      [classes.buttonSuccess]: success\n    });\n\n    const parts = location.pathname.split(\"/\");\n    parts[4] = \"viewer\";\n    const viewerLink = parts.join(\"/\");\n\n    if (!isLoaded) {\n      return <LinearProgress />;\n    }\n\n    return (\n      <>\n        <DirectoryBreadcrumbs pathname={this.props.location.pathname} />\n        <div className={classes.root}>\n          <Grid container spacing={1}>\n            <Grid item xs={12}>\n              <Paper className={classes.toolbar}>\n                <Tooltip\n                  title={\n                    this.context.isValidGithubToken()\n                      ? \"Save\"\n                      : \"Add a GitHub Token to Enable Saving\"\n                  }\n                >\n                  <span>\n                    <Fab\n                      disabled={!isDirty || !this.context.isValidGithubToken()}\n                      className={`${buttonClassname} ${classes.fab}`}\n                      onClick={this.handleSave}\n                    >\n                      {success ? <CheckIcon /> : <SaveIcon />}\n                      {saving && (\n                        <CircularProgress\n                          size={68}\n                          className={classes.fabProgress}\n                        />\n                      )}\n                    </Fab>\n                  </span>\n                </Tooltip>\n                <Tooltip title=\"Auto Format\">\n                  <Fab className={classes.fab} onClick={this.handleAutoFormat}>\n                    <PhotoFilterIcon />\n                  </Fab>\n                </Tooltip>\n                <Tooltip title=\"Return to Markdown View\">\n                  <Fab component={Link} to={viewerLink} className={classes.fab}>\n                    <ExitToAppIcon />\n                  </Fab>\n                </Tooltip>\n              </Paper>\n            </Grid>\n            <Grid item xs={6}>\n              <Paper className={classes.paper}>\n                <AceEditor\n                  name=\"brace-editor\"\n                  mode=\"markdown\"\n                  theme={theme.palette.type === \"dark\" ? \"monokai\" : \"github\"}\n                  width=\"100%\"\n                  maxLines={Infinity}\n                  className={classes.editor}\n                  onChange={this.handleChange}\n                  value={this.state.markdown}\n                  editorProps={{ $blockScrolling: true }}\n                />\n              </Paper>\n            </Grid>\n            <Grid item xs={6}>\n              <Paper className={classes.paper}>\n                <MusicMarkdown source={this.state.markdown}></MusicMarkdown>\n              </Paper>\n            </Grid>\n          </Grid>\n        </div>\n      </>\n    );\n  };\n}\n\nexport default withStyles(styles, { withTheme: true })(MarkdownEditor);\n","import { COLUMN_COUNT_QUERY_KEY, TRANSPOSE_QUERY_KEY } from \"../lib/constants\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport MusicMarkdown from \"./MusicMarkdown\";\nimport React from \"react\";\nimport { getContents } from \"../lib/github\";\nimport queryString from \"query-string\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  },\n  paper: {\n    padding: theme.spacing(2)\n  }\n});\n\nclass MarkdownViewer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.queryParams = queryString.parse(this.props.location.search);\n\n    this.state = {\n      isLoaded: false,\n      markdown: null\n    };\n  }\n\n  async componentDidMount() {\n    const { repo, path, branch } = this.props.match.params;\n\n    const json = await getContents(repo, path, branch);\n    this.setState({\n      isLoaded: true,\n      markdown: json.content\n    });\n  }\n\n  render() {\n    const { isLoaded, markdown } = this.state;\n    const { classes, location } = this.props;\n\n    const params = queryString.parse(location.search);\n    const columnCount = params[COLUMN_COUNT_QUERY_KEY] || \"1\";\n    const transposeAmount = Number(params[TRANSPOSE_QUERY_KEY]) || 0;\n\n    if (!isLoaded) {\n      return <LinearProgress />;\n    }\n\n    return (\n      <div className={classes.root}>\n        <MusicMarkdown\n          source={markdown}\n          columnCount={columnCount}\n          transposeAmount={transposeAmount}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(MarkdownViewer);\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { isValidGithubToken } from \"../lib/github\";\nimport { useGlobalStateContext } from \"./GlobalState\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst ExpansionPanelDetails = withStyles({\n  root: {\n    backgroundColor: \"rgba(0, 0, 0, .03)\"\n  }\n})(MuiExpansionPanelDetails);\n\nconst GithubTokenInstructions = () => (\n  <ExpansionPanel>\n    <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n      <Typography>\n        Set a <b>GitHub Token</b> to create or change Music Markdown files in\n        GitHub.\n      </Typography>\n    </ExpansionPanelSummary>\n    <ExpansionPanelDetails>\n      <div>\n        <h1>How to Create a New Token</h1>\n\n        <p>\n          These instructions will help you create a new GitHub token, and add it\n          to Music Markdown so that you can use the Music Markdown editor.\n        </p>\n\n        <ol>\n          <li>\n            Open your{\" \"}\n            <a href=\"https://github.com/settings/tokens\">\n              Personal access tokens\n            </a>{\" \"}\n            page in GitHub.\n          </li>\n          <li>\n            Click <b>Generate new token</b>.\n          </li>\n          <li>\n            Under <b>Note</b> type <b>Music Markdown</b>.\n          </li>\n          <li>\n            Under <b>scopes</b> grant <b>repo</b> permissions.\n          </li>\n          <li>\n            Scroll to the bottom and click <b>Generate token</b>.\n          </li>\n          <li>Copy the newly generated token and paste it below.</li>\n        </ol>\n      </div>\n    </ExpansionPanelDetails>\n  </ExpansionPanel>\n);\n\nexport default function GithubTokenDialog({ open, handleClose }) {\n  const context = useGlobalStateContext();\n  const [token, setToken] = React.useState(context.data.githubToken);\n\n  const isValidToken = token => {\n    return token === \"\" || isValidGithubToken(token);\n  };\n\n  const handleSaveToken = () => {\n    if (isValidToken(token)) {\n      context.setGithubToken(token);\n      handleClose();\n    }\n  };\n\n  const handleCloseDialog = () => {\n    setToken(context.data.githubToken);\n    handleClose();\n  };\n\n  return (\n    <Dialog open={open} onClose={handleCloseDialog}>\n      <DialogTitle id=\"set-github-api-key\">Set GitHub Token</DialogTitle>\n      <DialogContent>\n        <GithubTokenInstructions />\n      </DialogContent>\n      <DialogContent>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          label=\"GitHub Token\"\n          fullWidth\n          value={token || \"\"}\n          onChange={e => setToken(e.target.value)}\n          error={!isValidToken(token)}\n          helperText=\"Warning: GitHub tokens are very sensitive. Anyone who \n          gains access to this token will have access to your GitHub account.\n          Please proceed with caution.\"\n        ></TextField>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleCloseDialog} color=\"secondary\">\n          Cancel\n        </Button>\n        <Button\n          onClick={handleSaveToken}\n          color=\"primary\"\n          disabled={!isValidToken(token)}\n        >\n          {token === \"\" ? \"Clear\" : \"Save\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import { Paper, Tooltip } from \"@material-ui/core\";\nimport Draggable from \"react-draggable\";\nimport { GlobalStateContext } from \"./GlobalState\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\nimport React from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  paper: {\n    position: \"fixed\",\n    bottom: theme.spacing(1),\n    right: theme.spacing(1),\n    padding: theme.spacing(2),\n    cursor: \"move\"\n  }\n});\n\nconst UnstyledYouTubePlayer = ({ classes, youTubeId }) => (\n  <Draggable>\n    <Paper className={classes.paper}>\n      <iframe\n        title={youTubeId}\n        style={{ border: 0 }}\n        src={`https://www.youtube.com/embed/${youTubeId}`}\n        allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n        allowFullScreen\n      ></iframe>\n    </Paper>\n  </Draggable>\n);\n\nconst YouTubePlayer = withStyles(styles, { withTheme: true })(\n  UnstyledYouTubePlayer\n);\n\nclass YouTubeToggle extends React.Component {\n  static contextType = GlobalStateContext;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: false\n    };\n  }\n\n  componentDidMount = () => {\n    this.setState({ visible: !this.context.data.youTubeId });\n  };\n\n  handleToggle = () => {\n    this.setState(state => ({\n      visible: !state.visible\n    }));\n  };\n\n  render() {\n    if (!this.context.data.youTubeId) {\n      return null;\n    }\n\n    return (\n      <>\n        <Tooltip title=\"Show / Hide YouTube Player\">\n          <IconButton\n            color={this.state.visible ? \"secondary\" : \"default\"}\n            onClick={this.handleToggle}\n          >\n            <PlayArrowIcon />\n          </IconButton>\n        </Tooltip>\n        {this.state.visible ? (\n          <YouTubePlayer youTubeId={this.context.data.youTubeId} />\n        ) : (\n          \"\"\n        )}\n      </>\n    );\n  }\n}\n\nexport { YouTubePlayer, YouTubeToggle };\n","import { COLUMN_COUNT_QUERY_KEY, TRANSPOSE_QUERY_KEY } from \"../lib/constants\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport LowPriorityIcon from \"@material-ui/icons/LowPriority\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport React from \"react\";\nimport Slider from \"@material-ui/core/Slider\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport ViewColumnIcon from \"@material-ui/icons/ViewColumn\";\nimport { YouTubeToggle } from \"./YouTube\";\nimport queryString from \"query-string\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  popper: {\n    zIndex: 9999\n  },\n  paper: {\n    padding: theme.spacing(2)\n  },\n  slider: {\n    width: 300\n  }\n});\n\nconst handleUpdateQuery = (props, name, value, original) => {\n  const params = queryString.parse(props.location.search);\n  if (value === original) {\n    delete params[name];\n  } else {\n    params[name] = value;\n  }\n  props.history.push({ search: queryString.stringify(params) });\n};\n\nclass UnstyledColumnCountSelector extends React.Component {\n  state = {\n    anchorEl: undefined\n  };\n\n  handleToggle = event => {\n    this.setState({\n      anchorEl: !this.state.anchorEl ? event.currentTarget : undefined\n    });\n  };\n\n  handleClickAway = event => {\n    if (this.state.anchorEl.contains(event.target)) {\n      return;\n    }\n\n    this.setState({ anchorEl: undefined });\n  };\n\n  render() {\n    const params = queryString.parse(this.props.location.search);\n    const columnCount = params[COLUMN_COUNT_QUERY_KEY] || \"1\";\n    const { classes } = this.props;\n    const { anchorEl } = this.state;\n\n    return (\n      <>\n        <Tooltip title=\"Set Number of Columns\">\n          <IconButton onClick={this.handleToggle}>\n            <Badge\n              badgeContent={columnCount}\n              invisible={columnCount === \"1\"}\n              color=\"secondary\"\n            >\n              <ViewColumnIcon />\n            </Badge>\n          </IconButton>\n        </Tooltip>\n\n        <Popper\n          className={classes.popper}\n          open={!!anchorEl}\n          anchorEl={anchorEl}\n        >\n          <ClickAwayListener onClickAway={this.handleClickAway}>\n            <ToggleButtonGroup\n              value={columnCount}\n              exclusive\n              onChange={(event, value) =>\n                handleUpdateQuery(\n                  this.props,\n                  COLUMN_COUNT_QUERY_KEY,\n                  value,\n                  \"1\"\n                )\n              }\n            >\n              {[\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"].map(columnCount => (\n                <ToggleButton value={columnCount} key={columnCount}>\n                  {columnCount}\n                </ToggleButton>\n              ))}\n            </ToggleButtonGroup>\n          </ClickAwayListener>\n        </Popper>\n      </>\n    );\n  }\n}\n\nconst ColumnCountSelector = withStyles(styles, { withTheme: true })(\n  UnstyledColumnCountSelector\n);\n\nclass UnstyledTransposeSelector extends React.Component {\n  state = {\n    anchorEl: undefined\n  };\n\n  handleToggle = event => {\n    this.setState({\n      anchorEl: !this.state.anchorEl ? event.currentTarget : undefined\n    });\n  };\n\n  handleClickAway = event => {\n    if (this.state.anchorEl.contains(event.target)) {\n      return;\n    }\n\n    this.setState({ anchorEl: undefined });\n  };\n\n  render() {\n    const params = queryString.parse(this.props.location.search);\n    const transpose = params[TRANSPOSE_QUERY_KEY] || \"0\";\n    const { classes } = this.props;\n    const { anchorEl } = this.state;\n\n    return (\n      <>\n        <Tooltip title=\"Transpose Up / Down\">\n          <IconButton onClick={this.handleToggle}>\n            <Badge\n              badgeContent={transpose}\n              invisible={transpose === \"0\"}\n              color=\"secondary\"\n            >\n              <LowPriorityIcon />\n            </Badge>\n          </IconButton>\n        </Tooltip>\n\n        <Popper\n          className={classes.popper}\n          open={!!anchorEl}\n          anchorEl={anchorEl}\n        >\n          <ClickAwayListener onClickAway={this.handleClickAway}>\n            <Paper className={classes.paper}>\n              <Slider\n                className={classes.slider}\n                value={Number(transpose)}\n                min={-12}\n                max={12}\n                step={1}\n                marks={true}\n                onChange={(event, value) =>\n                  handleUpdateQuery(\n                    this.props,\n                    TRANSPOSE_QUERY_KEY,\n                    String(value),\n                    \"0\"\n                  )\n                }\n              />\n            </Paper>\n          </ClickAwayListener>\n        </Popper>\n      </>\n    );\n  }\n}\n\nconst TransposeSelector = withStyles(styles, { withTheme: true })(\n  UnstyledTransposeSelector\n);\n\nconst MusicToolbar = props => (\n  <>\n    <YouTubeToggle youTubeId={props.youTubeId} />\n    <TransposeSelector {...props} />\n    <ColumnCountSelector {...props} />\n  </>\n);\n\nexport default withStyles(styles)(MusicToolbar);\n","import AppBar from \"@material-ui/core/AppBar\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport GithubTokenDialog from \"./GithubTokenDialog\";\nimport { GlobalStateContext } from \"./GlobalState\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Link } from \"react-router-dom\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport MusicToolbar from \"./MusicToolbar\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport { REPO_REGEX } from \"../lib/constants\";\nimport React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport ViewListIcon from \"@material-ui/icons/ViewList\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  reactRouterHoverInherit: theme.reactRouterHoverInherit,\n  paper: {\n    padding: `${theme.spacing(1)}px`\n  },\n  grow: {\n    flexGrow: 1\n  },\n  filter: {\n    filter: theme.palette.type === \"dark\" ? \"invert(100%)\" : \"\"\n  }\n});\n\nconst BrowseButton = ({ match }) => (\n  <Tooltip title=\"Song List View\">\n    <IconButton\n      component={Link}\n      to={`/repos/${match.params.repo}/browser/${match.params.branch}/`}\n    >\n      <ViewListIcon />\n    </IconButton>\n  </Tooltip>\n);\n\nconst EditButton = ({ match }) => (\n  <Tooltip title=\"Edit Song\">\n    <span>\n      <IconButton\n        component={Link}\n        to={`/repos/${match.params.repo}/editor/${match.params.branch}/${match.params.path}`}\n      >\n        <EditIcon />\n      </IconButton>\n    </span>\n  </Tooltip>\n);\n\nconst ViewButton = ({ match }) => (\n  <Tooltip title=\"Markdown View\">\n    <IconButton\n      component={Link}\n      to={`/repos/${match.params.repo}/viewer/${match.params.branch}/${match.params.path}`}\n    >\n      <ExitToAppIcon />\n    </IconButton>\n  </Tooltip>\n);\n\n// TODO: Placeholder for search functionality\nconst SearchToolbar = () => (\n  <IconButton>\n    <SearchIcon />\n  </IconButton>\n);\n\nclass MusicMarkdownNavbar extends React.Component {\n  static contextType = GlobalStateContext;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      apiKeyDialogOpen: false,\n      settingsOpen: false\n    };\n\n    this.settingsAnchorEl = undefined;\n  }\n\n  handleSettingsToggle = () => {\n    this.setState({ settingsOpen: !this.state.settingsOpen });\n  };\n\n  handleApiKeyDialogOpen = () => {\n    this.setState({ apiKeyDialogOpen: true, settingsOpen: false });\n  };\n\n  handleApiKeyDialogClose = () => {\n    this.setState({ apiKeyDialogOpen: false, settingsOpen: false });\n  };\n\n  handleDarkThemeSwitch = () => {\n    this.context.toggleTheme();\n  };\n\n  render() {\n    const { apiKeyDialogOpen, settingsOpen } = this.state;\n    const { classes } = this.props;\n\n    return (\n      <AppBar position={\"sticky\"} key=\"top-navbar\">\n        <Toolbar>\n          <Button\n            className={classes.reactRouterHoverInherit}\n            component={Link}\n            to=\"/\"\n          >\n            <img\n              className={classes.filter}\n              src=\"music-markdown.svg\"\n              width={50}\n              alt=\"Music Markdown\"\n            />\n          </Button>\n          <div className={classes.grow} />\n\n          <Route\n            path={`${REPO_REGEX}/:mode/:branch/:path*`}\n            component={SearchToolbar}\n          />\n          <Route\n            path={[\n              \"/sandbox\",\n              `${REPO_REGEX}/:mode(viewer|editor)/:branch/:path*`\n            ]}\n            component={MusicToolbar}\n          />\n          <Route\n            path={`${REPO_REGEX}/:mode(viewer|editor)/:branch/:path*`}\n            component={BrowseButton}\n          />\n          <Route\n            path={`${REPO_REGEX}/viewer/:branch/:path*`}\n            component={EditButton}\n          />\n          <Route\n            path={`${REPO_REGEX}/editor/:branch/:path*`}\n            component={ViewButton}\n          />\n\n          <IconButton\n            onClick={this.handleSettingsToggle}\n            buttonRef={node => {\n              this.settingsAnchorEl = node;\n            }}\n          >\n            <SettingsIcon />\n          </IconButton>\n          <Popper\n            id=\"settings-popper\"\n            open={settingsOpen}\n            anchorEl={this.settingsAnchorEl}\n            placement=\"bottom-end\"\n          >\n            <Paper className={classes.paper}>\n              <ClickAwayListener onClickAway={this.handleSettingsToggle}>\n                <MenuList>\n                  <MenuItem>\n                    <FormControlLabel\n                      control={\n                        <Switch\n                          defaultChecked={this.context.isDarkTheme()}\n                          onChange={this.handleDarkThemeSwitch}\n                          value=\"darkTheme\"\n                        />\n                      }\n                      label=\"Toggle Dark Mode?\"\n                    />\n                  </MenuItem>\n                  <MenuItem onClick={this.handleApiKeyDialogOpen}>\n                    Set GitHub Token\n                  </MenuItem>\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Popper>\n        </Toolbar>\n        <GithubTokenDialog\n          open={apiKeyDialogOpen}\n          handleClose={this.handleApiKeyDialogClose}\n        ></GithubTokenDialog>\n      </AppBar>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(MusicMarkdownNavbar);\n","import AddIcon from \"@material-ui/icons/Add\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport ErrorSnackbar from \"./ErrorSnackbar\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Grid from \"@material-ui/core/Grid\";\nimport React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  grid: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(2)\n  }\n});\n\nclass AddRepository extends React.Component {\n  state = {\n    open: false,\n    name: \"\",\n    owner: \"\",\n    message: null,\n    error: false\n  };\n\n  handleDialogOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleDialogClose = () => {\n    this.setState({\n      open: false,\n      name: \"\",\n      owner: \"\",\n      error: false\n    });\n  };\n\n  handleShowError = message => {\n    this.setState({\n      message: message,\n      error: true\n    });\n  };\n\n  handleClearError = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    this.setState({ error: false });\n  };\n\n  handleDialogAdd = async () => {\n    try {\n      await this.props.handleAddRepository(\n        `${this.state.owner}/${this.state.name}`\n      );\n      this.handleDialogClose();\n    } catch (err) {\n      this.handleShowError(err.message);\n    }\n  };\n\n  handleUpdateOwner = event => {\n    this.setState({ owner: event.target.value });\n  };\n\n  handleUpdateName = event => {\n    this.setState({ name: event.target.value });\n  };\n\n  render = () => {\n    const { classes } = this.props;\n\n    return (\n      <>\n        <Grid\n          container\n          className={classes.grid}\n          direction=\"row\"\n          justify=\"flex-end\"\n          alignItems=\"flex-end\"\n        >\n          <Fab aria-label=\"Add\" onClick={this.handleDialogOpen}>\n            <AddIcon />\n          </Fab>\n          <Dialog\n            open={this.state.open}\n            aria-labelledby=\"add-repository-dialog\"\n          >\n            <DialogTitle id=\"add-repository-dialog-title\">\n              Add Repository\n            </DialogTitle>\n            <DialogContent>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"owner\"\n                label=\"Repository Owner\"\n                value={this.state.owner}\n                onChange={e => this.handleUpdateOwner(e)}\n                fullWidth\n              />\n              <TextField\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Repository Name\"\n                value={this.state.name}\n                onChange={e => this.handleUpdateName(e)}\n                fullWidth\n              />\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={this.handleDialogClose}>Cancel</Button>\n              <Button onClick={this.handleDialogAdd}>Add</Button>\n            </DialogActions>\n          </Dialog>\n        </Grid>\n        <ErrorSnackbar\n          message={this.state.message}\n          open={this.state.error}\n          handleClose={this.handleClearError}\n        />\n      </>\n    );\n  };\n}\n\nexport default withStyles(styles, { withTheme: true })(AddRepository);\n","import {\n  addRepository,\n  deleteRepository,\n  getRepositories\n} from \"../lib/github\";\nimport AddRepository from \"./AddRepository\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport BookIcon from \"@material-ui/icons/Book\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Link } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport React from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = () => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  }\n});\n\nclass ListRepositories extends React.Component {\n  state = {\n    repos: []\n  };\n\n  handleAddRepository = async repo => {\n    await addRepository(repo);\n    this.loadRepositories();\n  };\n\n  handleDeleteRepository = repo => {\n    deleteRepository(repo);\n    this.loadRepositories();\n  };\n\n  loadRepositories = () => {\n    this.setState({\n      repos: getRepositories()\n    });\n  };\n\n  componentDidMount = () => {\n    this.loadRepositories();\n  };\n\n  render = () => {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <List>\n          {this.state.repos.map(repo => (\n            <ListItem\n              button\n              key={`repo-item-${repo}`}\n              component={Link}\n              to={`/repos/${repo}/`}\n            >\n              <ListItemAvatar>\n                <Avatar>\n                  <BookIcon />\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText primary={repo} />\n              <ListItemSecondaryAction>\n                <IconButton\n                  aria-label=\"Delete\"\n                  onClick={() => this.handleDeleteRepository(repo)}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n        <AddRepository handleAddRepository={this.handleAddRepository} />\n      </div>\n    );\n  };\n}\n\nconst RepositoryEditor = ({ classes }) => (\n  <ListRepositories classes={classes} />\n);\n\nexport default withStyles(styles)(RepositoryEditor);\n","import AddIcon from \"@material-ui/icons/Add\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport ErrorSnackbar from \"./ErrorSnackbar\";\nimport Fab from \"@material-ui/core/Fab\";\nimport { GlobalStateContext } from \"./GlobalState\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { putContents } from \"../lib/github\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  whitespacePre: {\n    whiteSpace: \"pre-line\",\n    fontFamily: \"monospace\"\n  },\n  grid: {\n    position: \"fixed\",\n    bottom: theme.spacing(2),\n    right: theme.spacing(2)\n  }\n});\n\nclass AddNewFile extends React.Component {\n  static contextType = GlobalStateContext;\n\n  state = {\n    newFileName: \"\",\n    newFileOpen: false,\n    toEditor: false,\n    message: \"\",\n    error: false\n  };\n\n  handleAddNewFileOpen = () => {\n    this.setState({ newFileOpen: true });\n  };\n\n  handleAddNewFileClose = () => {\n    this.setState({\n      newFileOpen: false,\n      newFileName: \"\"\n    });\n  };\n\n  handleUpdateFileName = event => {\n    this.setState({ newFileName: event.target.value });\n  };\n\n  handleAddNewFile = async () => {\n    const { repo, branch } = this.props.match.params;\n    const path = this.getNewFilePath();\n    const content = this.getTemplateContents();\n\n    const response = await putContents(repo, path, content, undefined, branch);\n\n    if (response.status !== 201) {\n      this.handleShowError(`${response.status}: ${response.statusText}`);\n      return;\n    }\n\n    this.setState({ toEditor: true });\n  };\n\n  handleShowError = message => {\n    this.setState({\n      message,\n      error: true\n    });\n  };\n\n  handleClearError = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    this.setState({ error: false });\n  };\n\n  isValidFileName = () => !!this.state.newFileName.match(/^[^<>:\"/\\\\|?*]+$/);\n  getTemplateContents = () => `---\\n---\\n\\n# ${this.state.newFileName}`;\n  getNewFilePath = () => {\n    const file = this.state.newFileName;\n    const path = this.props.match.params.path;\n    return path ? `${path}/${file}.md` : `${file}.md`;\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { newFileOpen, toEditor } = this.state;\n    const { repo, branch } = this.props.match.params;\n\n    if (toEditor) {\n      return (\n        <Redirect\n          to={`/repos/${repo}/editor/${branch}/${this.getNewFilePath()}`}\n        />\n      );\n    }\n\n    return (\n      <>\n        <Grid\n          container\n          className={classes.grid}\n          direction=\"row\"\n          justify=\"flex-end\"\n          alignItems=\"flex-end\"\n        >\n          <Tooltip\n            title={\n              this.context.isValidGithubToken()\n                ? \"Add Song\"\n                : \"Add a GitHub Token to Enable Editing\"\n            }\n          >\n            <span>\n              <Fab\n                aria-label=\"Add\"\n                disabled={!this.context.isValidGithubToken()}\n                onClick={this.handleAddNewFileOpen}\n              >\n                <AddIcon />\n              </Fab>\n            </span>\n          </Tooltip>\n          <Dialog\n            open={newFileOpen}\n            aria-labelledby=\"add-new-file-dialog\"\n            fullWidth={true}\n          >\n            <DialogTitle id=\"add-new-file-dialog-title\">\n              Create New Music Markdown File\n            </DialogTitle>\n            <DialogContent>\n              <Card className={classes.previewCard}>\n                <CardContent>\n                  <Typography\n                    variant=\"caption\"\n                    color=\"textSecondary\"\n                    gutterBottom\n                  >\n                    Preview\n                  </Typography>\n                  <Typography\n                    variant=\"body1\"\n                    color=\"textPrimary\"\n                    className={classes.whitespacePre}\n                  >\n                    {this.getTemplateContents()}\n                  </Typography>\n                </CardContent>\n              </Card>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"owner\"\n                label=\"Music Markdown File Name\"\n                value={this.state.newFileName}\n                onChange={e => this.handleUpdateFileName(e)}\n                fullWidth\n                error={!this.isValidFileName()}\n                helperText={\n                  !this.isValidFileName() ? (\n                    \"Invalid file name\"\n                  ) : (\n                    <>\n                      {repo}/{branch}/{this.getNewFilePath()}\n                    </>\n                  )\n                }\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">.md</InputAdornment>\n                  )\n                }}\n              />\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={this.handleAddNewFileClose} color=\"secondary\">\n                Cancel\n              </Button>\n              <Button\n                onClick={this.handleAddNewFile}\n                color=\"primary\"\n                disabled={!this.isValidFileName()}\n              >\n                Create\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </Grid>\n        <ErrorSnackbar\n          message={this.state.message}\n          open={this.state.error}\n          handleClose={this.handleClearError}\n        />\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(AddNewFile);\n","import AddNewFile from \"./AddNewFile\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport DirectoryBreadcrumbs from \"./RouterBreadcrumbs\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { Link } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport React from \"react\";\nimport { getContents } from \"../lib/github\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = () => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  }\n});\n\n/**\n * A React component for rendering repository items when navigating the /repos resource\n */\nclass RepositoryNavigation extends React.Component {\n  state = {\n    isLoaded: false,\n    contents: []\n  };\n\n  async componentDidMount() {\n    const { repo, path, branch } = this.props.match.params;\n\n    const contents = await getContents(repo, path, branch);\n    this.sortDir(contents);\n    this.setState({\n      isLoaded: true,\n      contents\n    });\n  }\n\n  /**\n   * When a page is reloaded with a new url parameters, then following lifecycle actions\n   * @param {Object} prevProps Props before update\n   */\n  async componentDidUpdate(prevProps) {\n    const {\n      repo: prevRepo,\n      path: prevPath,\n      branch: prevBranch\n    } = prevProps.match.params;\n    const { repo, path, branch } = this.props.match.params;\n\n    if (prevRepo !== repo || prevPath !== path || prevBranch !== branch) {\n      const contents = await getContents(repo, path, branch);\n      this.sortDir(contents);\n      this.setState({\n        isLoaded: true,\n        contents\n      });\n    }\n  }\n\n  /**\n   * Sorts the contents of a GitHub directory. Lists directories first then files, each in alphabetical order.\n   * @param {Object[]} contents GitHub directory contents. Contains files and directories.\n   */\n  sortDir(contents) {\n    contents.sort((a, b) => {\n      if (a.type === \"file\") {\n        if (b.type === \"file\") {\n          return a.name - b.name;\n        }\n        return 1;\n      }\n      if (b.type === \"file\") {\n        return -1;\n      }\n      return a.name - b.name;\n    });\n  }\n\n  render() {\n    const { repo, branch } = this.props.match.params;\n    const { isLoaded, contents } = this.state;\n    const { classes } = this.props;\n\n    if (!isLoaded) {\n      return <LinearProgress />;\n    }\n\n    return (\n      <>\n        <DirectoryBreadcrumbs pathname={this.props.location.pathname} />\n        <div className={classes.root}>\n          <List key={\"repo-navigation-list\"}>\n            {contents.map(item => (\n              <ListItem\n                button\n                component={Link}\n                key={`list-group-item-${item.name}`}\n                to={\n                  item.type === \"dir\"\n                    ? `/repos/${repo}/browser/${branch}/${item.path}/`\n                    : `/repos/${repo}/viewer/${branch}/${item.path}`\n                }\n              >\n                <ListItemAvatar>\n                  <Avatar>\n                    {item.type === \"dir\" ? <FolderIcon /> : <DescriptionIcon />}\n                  </Avatar>\n                </ListItemAvatar>\n                {item.type === \"dir\" ? (\n                  <ListItemText secondary={item.name}></ListItemText>\n                ) : (\n                  <ListItemText primary={item.name}></ListItemText>\n                )}\n              </ListItem>\n            ))}\n          </List>\n          <AddNewFile location={this.props.location} match={this.props.match} />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(RepositoryNavigation);\n","import Grid from \"@material-ui/core/Grid\";\nimport React from \"react\";\n\nconst RESPONSIVE_CONTAINER_KEY = \"app-container\";\n\nfunction ResponsiveContainer(props) {\n  return <Grid key={RESPONSIVE_CONTAINER_KEY}>{props.children}</Grid>;\n}\n\nexport default ResponsiveContainer;\n","import { COLUMN_COUNT_QUERY_KEY, TRANSPOSE_QUERY_KEY } from \"../lib/constants\";\nimport { Link, Route } from \"react-router-dom\";\nimport MusicMarkdown from \"./MusicMarkdown\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { guitarChordbook } from \"markdown-it-music/lib/chordbook\";\nimport queryString from \"query-string\";\nimport { renderChordDiagram } from \"markdown-it-music/renderers/chord_diagram\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  },\n  chordSourcePaper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(2)\n  },\n  chordCategoryPaper: {\n    margin: theme.spacing(1),\n    textAlign: \"center\"\n  },\n  chordCategoryTypography: {\n    color: theme.palette.text.primary,\n    textAlign: \"center\"\n  },\n  chordVariantPaper: {\n    display: \"inline-block\",\n    margin: theme.spacing(1),\n    textAlign: \"center\"\n  },\n  chordVariantTypography: {\n    color: theme.palette.text.secondary\n  },\n  chordDiagram: {\n    filter: theme.palette.type === \"dark\" ? \"invert(100%)\" : \"\"\n  }\n});\n\nconst Sandbox = ({ classes, location, match }) => (\n  <div className={classes.root}>\n    <Typography variant=\"h2\">Sandbox</Typography>\n\n    <ul>\n      <li>\n        <Link to={`${match.url}/all-features-in-one-place`}>\n          All the Features in One Place\n        </Link>\n      </li>\n      <li>\n        <Link to={`${match.url}/guitar-chordbook`}>Guitar Chordbook</Link>\n      </li>\n    </ul>\n\n    <Route\n      path={`${match.path}/all-features-in-one-place`}\n      component={() => (\n        <MarkdownViewer location={location} source={allFeaturesSource} />\n      )}\n    />\n    <Route\n      path={`${match.path}/guitar-chordbook`}\n      component={AllGuitarChords}\n    />\n  </div>\n);\n\nconst MarkdownViewer = ({ source, location }) => {\n  const params = queryString.parse(location.search);\n  const columnCount = params[COLUMN_COUNT_QUERY_KEY] || \"1\";\n  const transposeAmount = Number(params[TRANSPOSE_QUERY_KEY]) || 0;\n\n  return (\n    <MusicMarkdown\n      source={source}\n      columnCount={columnCount}\n      transposeAmount={transposeAmount}\n    />\n  );\n};\n\nconst roots = [\n  \"C\",\n  \"C#\",\n  \"Db\",\n  \"D\",\n  \"D#\",\n  \"Eb\",\n  \"E\",\n  \"F\",\n  \"F#\",\n  \"Gb\",\n  \"G\",\n  \"G#\",\n  \"Ab\",\n  \"A\",\n  \"A#\",\n  \"Bb\",\n  \"B\"\n];\n\nconst qualities = [\n  \"\",\n  \"m\",\n  \"6\",\n  \"m6\",\n  \"7\",\n  \"maj7\",\n  \"m7\",\n  \"9\",\n  \"dim\",\n  \"aug\",\n  \"sus2\",\n  \"7sus2\",\n  \"sus4\",\n  \"7sus4\",\n  \"5\",\n  \"dim5\",\n  \"dim7\",\n  \"7b5\",\n  \"m7b5\",\n  \"7#5\",\n  \"7b9\",\n  \"7#9\",\n  \"7b9#5\",\n  \"7/6\",\n  \"9b5\",\n  \"9#5\",\n  \"maj9\",\n  \"m9\",\n  \"9/6\",\n  \"m9/6\",\n  \"add9\",\n  \"11\",\n  \"m11\",\n  \"11aug\",\n  \"13\",\n  \"13b9\",\n  \"13b9b5\"\n];\n\nconst AllGuitarChords = withStyles(styles, { withTheme: true })(\n  ({ classes, location }) => (\n    <>\n      <Typography variant=\"h3\">Guitar Chordbook</Typography>\n      <Paper className={classes.chordSourcePaper}>\n        <MarkdownViewer source={allChordsSource} location={location} />\n      </Paper>\n      {roots.map((category, index) => (\n        <Paper key={`category-${index}`} className={classes.chordCategoryPaper}>\n          <Typography className={classes.chordCategoryTypography} variant=\"h4\">\n            {category} Chords\n          </Typography>\n          <ChordCategory category={category} />\n        </Paper>\n      ))}\n    </>\n  )\n);\n\nconst ChordCategory = withStyles(styles, { withTheme: true })(\n  ({ classes, category }) =>\n    Array.from(guitarChordbook.keys())\n      .filter(chord => chord.match(/^[CDEFGAB](?:#|b)?|N\\.C\\./)[0] === category)\n      .map((chord, index) => (\n        <Paper key={`chord-${index}`} className={classes.chordVariantPaper}>\n          {guitarChordbook.get(chord).map((variant, index) => (\n            <span\n              className={classes.chordDiagram}\n              key={`variant-${index}`}\n              dangerouslySetInnerHTML={{ __html: renderChordDiagram(variant) }}\n            />\n          ))}\n          <Typography className={classes.chordVariantTypography} variant=\"h5\">\n            {chord}\n          </Typography>\n        </Paper>\n      ))\n);\n\nconst allChordsSource = `---\n---\n${roots\n  .map(\n    root => `## ${root} Chords\nc1: ${qualities.map(quality => root + quality).join(\" \")}`\n  )\n  .join(\"\\n\\n\")}\n`;\n\nconst allFeaturesSource = `---\nyouTubeId: dN3GbF9Bx6E\n---\n\n# All the Features in One Place\n\n## Chord and Lyrics\nc1: Em               D           Em\nl1: Are you goin' to Scarborough Fair?\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\n\nc1: Em       G                   D\nl1: Remember me to one who lives there\n\nc1: Em       D                  Em\nl1: She once was a true love of mine\n\n## Multiple Overlapping Voices\nc1: Em                         D         Em\nl1: Tell her to make me a      cambric   shirt\nl2:                     On the side of a hill in the deep forest green\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\nl2:                              Tracing a sparrow on snow-crested ground\n\nc1: Em         G               D\nl1: Without no seams nor needlework\nl2:                      Blankets and bedclothes the child of the mountain\n\nc1: Em          D                 Em\nl1: Then she'll be a true love of mine\nl2:                               Sleeps unaware of the clarion call\n\n## VexTab\n\n:::vextab\noptions space=20\n\ntabstave\n  notation=true\n  key=A time=4/4\n\n  notes :q =|: (5/2.5/3.7/4) :8 7-5h6/3 ^3^ 5h6-7/5 ^3^ :q 7V/4 |\n  notes :8 t12p7/4 s5s3/4 :8 3s:16:5-7/5 :h p5/4\n  text :w, |#segno, ,|, :hd, , #tr\n\n\noptions space=25\n\ntabstave\n  notation=true\n\n  notes :q (5/4.5/5) (7/4.7/5)s(5/4.5/5) ^3^\n  notes :8 7-5/4 $.a./b.$ (5/4.5/5)h(7/5) =:|\n  notes :8 (12/5.12/4)ds(5/5.5/4)u 3b4/5\n  notes :h (5V/6.5/4.6/3.7/2) $.italic.let ring$ =|=\n\n  text :h, ,.font=Times-12-italic, D.S. al coda, |#coda\n  text :h, ,.-1, .font=Arial-14-bold,A13\n  text ++, .23, #f\n :::\n\n## ABC\n\n:::abc\nX: 1\nM: 4/4\nL: 1/16\nK: Amin\n\"Am\" (C16 | C4) B,2C2 D6 CB, | (C16 | C4) B,2C2 \"F\" D6 CA, |\n\"C\" G,8 \"E\" _A,8 | \"Am\" =A,8 \"F\" (3F4 F4 F4 | \"E\" F2 (E6 E8) | z6 ^A2 B4 e4 |\n\"Am\" e2d2c2(d2 \"G\" d4) .=A4 | \"F\" e2d2c2(d2 \"G\" d4) .A4 |\n\"Esus4\" e4 e4 e2d2B2d2 | \"E\" e4 e4 e2g2e2d2 |\n\"Am\" .e4 c2 \"G\" .d4 c2 e4 | \"F\" z2 c2 e2 \"G\" d6 c2d2 |\n\"Esus4\" e2e2e2d2 d2B2B2_A2 | \"E\" _A2F2F2E2 =A2B2A2G2 |\n:::\n\n`;\n\nexport default withStyles(styles, { withTheme: true })(Sandbox);\n","import \"./App.scss\";\n\nimport { GlobalStateProvider, useGlobalStateContext } from \"./GlobalState\";\nimport { Route, HashRouter as Router, Switch } from \"react-router-dom\";\n\nimport BranchNavigation from \"./BranchNavigation\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport MarkdownEditor from \"./MarkdownEditor\";\nimport MarkdownViewer from \"./MarkdownViewer\";\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport MusicMarkdownNavbar from \"./MusicMarkdownNavbar\";\nimport { REPO_REGEX } from \"../lib/constants\";\nimport React from \"react\";\nimport RepositoryEditor from \"./RepositoryEditor\";\nimport RepositoryNavigation from \"./RepositoryNavigation\";\nimport ResponsiveContainer from \"./ResponsiveContainer\";\nimport Sandbox from \"./Sandbox.js\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\n\nconst App = () => (\n  <GlobalStateProvider>\n    <ThemeProvider />\n  </GlobalStateProvider>\n);\n\nconst ThemeProvider = () => {\n  const context = useGlobalStateContext();\n\n  return (\n    <MuiThemeProvider theme={createMuiTheme(context.data.theme)}>\n      <CssBaseline />\n      <ResponsiveContainer>{[HomeRouter()]}</ResponsiveContainer>\n    </MuiThemeProvider>\n  );\n};\n\nconst HomeRouter = () => (\n  <Router key=\"home-router\">\n    <>\n      <Route component={MusicMarkdownNavbar} />\n      <Switch>\n        <Route\n          path={`${REPO_REGEX}/viewer/:branch/:path+`}\n          component={MarkdownViewer}\n        />\n        <Route\n          path={`${REPO_REGEX}/browser/:branch/:path*`}\n          component={RepositoryNavigation}\n        />\n        <Route\n          path={`${REPO_REGEX}/editor/:branch/:path*`}\n          component={MarkdownEditor}\n        />\n        <Route path={REPO_REGEX} component={BranchNavigation} />\n        <Route path=\"/sandbox\" component={Sandbox} />\n        <Route path=\"/\" component={RepositoryEditor} />\n      </Switch>\n    </>\n  </Router>\n);\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import App from \"./components/App.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport registerServiceWorker from \"./registerServiceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}