{"version":3,"sources":["tools/asciitab.js","lib/constants.js","components/GlobalState.js","components/RouterBreadcrumbs.js","lib/github.js","components/BranchNavigation.js","components/ErrorSnackbar.js","components/MusicMarkdown.js","components/MarkdownEditor.js","components/MarkdownViewer.js","components/YouTube.js","components/MusicToolbar.js","components/MusicMarkdownNavbar.js","components/AddRepository.js","components/RepositoryEditor.js","components/AddNewFile.js","components/RepositoryNavigation.js","components/ResponsiveContainer.js","components/Sandbox.js","components/App.js","registerServiceWorker.js","index.js"],"names":["isChord","require","State","DEFAULT","VERSE","FENCE","getMaybeHeading","line","endsWith","slice","startsWith","getMaybeChords","tokens","trim","split","token","asciiTabConvert","input","state","voiceIndex","lines","output","push","maybeHeading","maybeChords","join","read","stream","a","buffer","Buffer","alloc","chunk","concat","toString","console","process","stdin","log","module","main","REPO_REGEX","lightTheme","typography","useNextVariants","reactRouterHoverInherit","color","palette","type","darkTheme","initialTheme","window","localStorage","getItem","GlobalStateContext","React","createContext","GlobalStateProvider","props","useState","theme","youTubeId","setState","Provider","value","data","isDarkTheme","toggleTheme","setItem","setYouTubeId","children","withStyles","paper","padding","spacing","pathname","classes","subDirectoriesArr","filter","breadcrumbItems","previousPath","ignoreIndex","currDir","i","length","directory","indexOf","Typography","key","Link","component","RouterLink","to","className","buildBreadcrumb","Paper","Breadcrumbs","GITHUB_TOKEN_LOCAL_STORAGE_KEY","REPOS_LOCAL_STORAGE_KEY","GITHUB_API_URL","getContents","repo","path","branch","undefined","apiUrl","getApiUrl","fetch","cache","response","json","content","Base64","decode","putContents","sha","body","message","encode","method","mode","JSON","stringify","getRepositories","repoListStr","parse","verifyRepoExists","status","Error","verifyRepoUnregistered","addRepository","repos","getBranches","url","URL","githubToken","searchParams","set","BranchNavigation","isLoaded","branches","this","match","params","prevProps","location","root","List","map","item","ListItem","button","name","ListItemAvatar","Avatar","ListItemText","primary","LinearProgress","Component","flexGrow","withTheme","error","backgroundColor","dark","icon","fontSize","iconVariant","opacity","marginRight","display","alignItems","margin","open","handleClose","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","SnackbarContent","aria-describedby","id","classNames","action","IconButton","aria-label","close","onClick","COLUMN_GAP","MusicMarkdownRender","handleClearError","event","reason","update","source","width","columnCount","transposeAmount","md","setTranspose","setMaxWidth","html","render","context","meta","err","componentDidMount","componentDidUpdate","clearTimeout","timer","setTimeout","componentWillUnmount","markdownBody","dangerouslySetInnerHTML","__html","MarkdownIt","use","MarkdownItMusic","contextType","MusicMarkdown","columns","columnGap","columnRuleWidth","columnRuleStyle","columnRuleColor","text","secondary","style","MarkdownEditor","filename","markdown","saving","success","isDirty","handleChange","handleSave","handleFileNameChange","target","handleAutoFormat","buttonClassname","buttonSuccess","parts","viewerLink","Grid","container","xs","toolbar","Tooltip","title","Fab","disabled","fab","CircularProgress","size","fabProgress","maxLines","Infinity","editor","onChange","editorProps","$blockScrolling","green","position","top","left","zIndex","marginLeft","height","MarkdownViewer","queryParams","queryString","search","Number","YouTubePlayer","bottom","right","cursor","border","src","allow","allowFullScreen","YouTubeToggle","visible","handleToggle","styles","popper","slider","handleUpdateQuery","original","history","UnstyledColumnCountSelector","anchorEl","currentTarget","handleClickAway","contains","Badge","badgeContent","invisible","Popper","ClickAwayListener","onClickAway","ToggleButtonGroup","exclusive","ToggleButton","ColumnCountSelector","UnstyledTransposeSelector","transpose","Slider","min","max","step","marks","String","TransposeSelector","BrowseButton","EditButton","ViewButton","SearchToolbar","MusicMarkdownNavbar","handleSettingsClick","settingsOpen","handleDarkThemeSwitch","settingsAnchorEl","AppBar","Toolbar","Button","alt","grow","MusicToolbar","buttonRef","node","placement","FormControlLabel","control","Switch","defaultChecked","label","AddRepository","owner","handleDialogOpen","handleDialogClose","handleShowError","handleDialogAdd","handleAddRepository","handleUpdateOwner","handleUpdateName","direction","justify","Dialog","aria-labelledby","DialogTitle","DialogContent","TextField","autoFocus","e","fullWidth","DialogActions","ListRepositories","loadRepositories","handleDeleteRepository","r","deleteRepository","ListItemSecondaryAction","AddNewFile","newFileName","newFileOpen","toEditor","handleAddNewFileOpen","handleAddNewFileClose","handleUpdateFileName","handleAddNewFile","getNewFilePath","getTemplateContents","statusText","isValidFileName","file","Card","previewCard","CardContent","variant","gutterBottom","whitespacePre","helperText","InputProps","endAdornment","InputAdornment","whiteSpace","fontFamily","RepositoryNavigation","contents","sortDir","prevRepo","prevPath","prevBranch","sort","b","RESPONSIVE_CONTAINER_KEY","ResponsiveContainer","chordSourcePaper","chordCategoryPaper","textAlign","chordCategoryTypography","chordVariantPaper","chordVariantTypography","chordDiagram","roots","qualities","AllGuitarChords","allChordsSource","category","index","ChordCategory","Array","from","guitarChordbook","keys","chord","get","renderChordDiagram","quality","allFeaturesSource","ThemeProvider","useContext","createMuiTheme","CssBaseline","HomeRouter","Sandbox","RepositoryEditor","App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","document","getElementById","origin","addEventListener","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.53190832.chunk.js","sourcesContent":["const { isChord } = require(\"markdown-it-music/lib/chord\");\n\nconst State = {\n  DEFAULT: 1,\n  VERSE: 2,\n  FENCE: 3\n};\n\nfunction getMaybeHeading(line) {\n  if (line.endsWith(\":\")) {\n    return `## ${line.slice(0, -1)}`;\n  }\n\n  if (line.startsWith(\"[\") && line.endsWith(\"]\")) {\n    return `## ${line.slice(1, -1)}`;\n  }\n\n  return null;\n}\n\nfunction getMaybeChords(line) {\n  const tokens = line.trim().split(/\\s+/);\n\n  for (const token of tokens) {\n    if (!isChord(token)) {\n      return null;\n    }\n  }\n\n  return `c1: ${line}`;\n}\n\nfunction asciiTabConvert(input) {\n  let state = State.DEFAULT;\n  let voiceIndex = 1;\n  const lines = input.split(/\\n/);\n  const output = [];\n\n  for (const line of lines) {\n    if (line.startsWith(\":::\")) {\n      state = State.FENCE;\n      output.push(line);\n      continue;\n    }\n\n    if (state === State.DEFAULT) {\n      const maybeHeading = getMaybeHeading(line);\n      if (maybeHeading) {\n        output.push(maybeHeading);\n        continue;\n      }\n\n      const maybeChords = getMaybeChords(line);\n      if (maybeChords) {\n        state = State.VERSE;\n        output.push(maybeChords);\n        voiceIndex = 1;\n        continue;\n      }\n\n      output.push(line);\n      continue;\n    }\n\n    if (state === State.VERSE) {\n      const maybeHeading = getMaybeHeading(line);\n      if (maybeHeading) {\n        state = State.DEFAULT;\n        output.push(\"\");\n        output.push(maybeHeading);\n        continue;\n      }\n\n      const maybeChords = getMaybeChords(line);\n      if (maybeChords) {\n        output.push(\"\");\n        output.push(maybeChords);\n        voiceIndex = 1;\n        continue;\n      }\n\n      if (line.trim() === \"\") {\n        continue;\n      }\n\n      output.push(`l${voiceIndex}: ${line}`);\n      voiceIndex += 1;\n      continue;\n    }\n\n    if (state === State.FENCE) {\n      if (line === \":::\") {\n        state = State.DEFAULT;\n      }\n\n      output.push(line);\n      continue;\n    }\n  }\n\n  return output.join(\"\\n\");\n}\n\nasync function read(stream) {\n  let buffer = Buffer.alloc(0);\n  for await (const chunk of stream) {\n    buffer = Buffer.concat([buffer, chunk]);\n  }\n  return buffer.toString(\"utf8\");\n}\n\nasync function main() {\n  console.log(asciiTabConvert(await read(process.stdin)));\n}\n\nif (typeof require !== \"undefined\" && require.main === module) {\n  main();\n}\n\nexport default asciiTabConvert;\n","export const COLUMN_COUNT_QUERY_KEY = \"columns\";\nexport const LOCAL_STORAGE_NAMESPACE = \"music-markdown\";\nexport const REPO_REGEX = \"/repos/:repo([^/]+/[^/]+)\";\nexport const TRANSPOSE_QUERY_KEY = \"transpose\";\n","import React, { useContext, useState } from \"react\";\nimport { LOCAL_STORAGE_NAMESPACE } from \"../lib/constants\";\n\nconst lightTheme = {\n  typography: {\n    useNextVariants: true\n  },\n  reactRouterHoverInherit: {\n    \"&:hover\": {\n      color: \"inherit\"\n    }\n  },\n  palette: {\n    type: \"light\"\n  }\n};\n\nconst darkTheme = {\n  typography: {\n    useNextVariants: true\n  },\n  reactRouterHoverInherit: {\n    \"&:hover\": {\n      color: \"inherit\"\n    }\n  },\n  palette: {\n    type: \"dark\"\n  }\n};\n\nconst initialTheme =\n  window.localStorage.getItem(`${LOCAL_STORAGE_NAMESPACE}:palette-type`) ===\n  \"dark\"\n    ? darkTheme\n    : lightTheme;\n\nexport const GlobalStateContext = React.createContext();\n\nexport const useGlobalStateContext = () => useContext(GlobalStateContext);\n\nexport const GlobalStateProvider = props => {\n  const [state, setState] = useState({\n    theme: initialTheme,\n    youTubeId: null\n  });\n\n  return (\n    <GlobalStateContext.Provider\n      value={{\n        data: state,\n        isDarkTheme: () => state.theme.palette.type === \"dark\",\n        toggleTheme: () => {\n          const theme =\n            state.theme.palette.type === \"dark\" ? lightTheme : darkTheme;\n          window.localStorage.setItem(\n            `${LOCAL_STORAGE_NAMESPACE}:palette-type`,\n            theme.palette.type\n          );\n          setState({ ...state, theme });\n        },\n        setYouTubeId: youTubeId => {\n          if (youTubeId !== state.youTubeId) {\n            setState({ ...state, youTubeId });\n          }\n        }\n      }}\n    >\n      {props.children}\n    </GlobalStateContext.Provider>\n  );\n};\n","import Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport Typography from \"@material-ui/core/Typography\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  paper: {\n    padding: `${theme.spacing(1)}px`\n  },\n  reactRouterHoverInherit: theme.reactRouterHoverInherit\n});\n\nfunction buildBreadcrumb(previousPath, classes) {\n  const breadcrumbItems = [];\n\n  // ignoreIndex matches the Route defined in App.js.\n  // Certain portions are not useful to user in the breadcrumb, so we remove them.\n  const ignoreIndex = [\n    0 /* /repos */,\n    3 /* /:viewName(browser|viewer|editor) */\n  ];\n  const keyBase = \"breadcrumb-item-\";\n\n  let currDir = \"\";\n  for (let i = 0; i < previousPath.length; i++) {\n    const directory = previousPath[i];\n    currDir = currDir.concat(\"/\", directory);\n\n    if (ignoreIndex.indexOf(i) !== -1) {\n      continue;\n    }\n\n    if (i === previousPath.length - 1) {\n      // Last item should be active\n      breadcrumbItems.push(\n        <Typography color=\"textPrimary\" key={`${keyBase}${i}`}>\n          {directory}\n        </Typography>\n      );\n    } else {\n      breadcrumbItems.push(\n        <Link\n          component={RouterLink}\n          to={`${currDir}/`}\n          key={`${keyBase}${i}`}\n          color=\"inherit\"\n          className={classes.reactRouterHoverInherit}\n        >\n          {directory}\n        </Link>\n      );\n    }\n  }\n\n  return breadcrumbItems;\n}\n\n/**\n * Returns a list of breadcrumbs based on current path of navigation\n * @param {string} pathname current URI pathname\n * @return {Array} List of BreadcrumbItems\n */\nconst DirectoryBreadcrumbs = ({ pathname, classes }) => {\n  const keyBase = \"breadcrumb-item-\";\n\n  const subDirectoriesArr = pathname.split(\"/\").filter(value => !!value);\n  subDirectoriesArr[3] = \"browser\";\n\n  const breadcrumbItems = buildBreadcrumb(subDirectoriesArr, classes);\n\n  return (\n    <Paper className={classes.paper}>\n      <Breadcrumbs>\n        <Link\n          component={RouterLink}\n          to={`/`}\n          key={`${keyBase}Home`}\n          color=\"inherit\"\n          className={classes.reactRouterHoverInherit}\n        >\n          Home\n        </Link>\n        {breadcrumbItems}\n      </Breadcrumbs>\n    </Paper>\n  );\n};\n\nexport default withStyles(styles)(DirectoryBreadcrumbs);\n","import { Base64 } from \"js-base64\";\nimport { LOCAL_STORAGE_NAMESPACE } from \"./constants\";\n\nconst GITHUB_TOKEN_LOCAL_STORAGE_KEY = `${LOCAL_STORAGE_NAMESPACE}:github_token`;\nconst REPOS_LOCAL_STORAGE_KEY = `${LOCAL_STORAGE_NAMESPACE}:repositories`;\nconst GITHUB_API_URL = \"https://api.github.com\";\n\n/**\n * Returns a Promise of the contents of a file or directory in a GitHub repository.\n * See https://developer.github.com/v3/repos/contents/#get-contents\n * @param {string} repo The owner and repo in the form :owner/:repo\n * @param {string} path The directory or file to retrieve\n * @param {string} branch The branch to retrive contents from\n * @return {Object} JSON dictionary of repository contents\n */\nexport async function getContents(repo, path, branch) {\n  if (path === undefined || path.length === 0) {\n    path = \"\";\n  }\n  const apiUrl = getApiUrl(`/repos/${repo}/contents/${path}`, branch);\n  const response = await fetch(apiUrl, { cache: \"no-cache\" });\n  const json = await response.json();\n  json.content = json.content ? Base64.decode(json.content) : \"\";\n  return json;\n}\n\nexport async function putContents(repo, path, content, sha, branch) {\n  const apiUrl = getApiUrl(`/repos/${repo}/contents/${path}`);\n\n  const body = {\n    message: `Music Markdown published ${path}`,\n    content: Base64.encode(content),\n    branch\n  };\n\n  if (sha) {\n    body.sha = sha;\n  }\n\n  return fetch(apiUrl, {\n    method: \"PUT\",\n    mode: \"cors\",\n    body: JSON.stringify(body)\n  });\n}\n\n/**\n * Returns list of repos stored in localStorage.\n * @return {Array} Array of JSON dictionaries of repos\n */\nexport function getRepositories() {\n  const repoListStr = localStorage.getItem(REPOS_LOCAL_STORAGE_KEY);\n  if (repoListStr) {\n    return JSON.parse(repoListStr);\n  } else {\n    return [];\n  }\n}\n\nasync function verifyRepoExists(repo) {\n  const apiUrl = getApiUrl(`/repos/${repo}`);\n  const response = await fetch(apiUrl);\n  if (response.status === 404) {\n    throw new Error(`\"${repo}\" not found on GitHub.`);\n  }\n}\n\nfunction verifyRepoUnregistered(repo) {\n  for (const r of getRepositories()) {\n    if (r === repo) {\n      throw new Error(`\"${repo}\" is already registered.`);\n    }\n  }\n}\n\n/**\n * Adds a desired GitHub repo to localStorage.\n * @param {string} repo The owner and repo in the form :owner/:repo\n */\nexport async function addRepository(repo) {\n  verifyRepoUnregistered(repo);\n  await verifyRepoExists(repo);\n  const repos = getRepositories();\n  repos.push(repo);\n  localStorage.setItem(REPOS_LOCAL_STORAGE_KEY, JSON.stringify(repos));\n}\n\n/**\n * Returns a promise of a list of branches for the given repository.\n * @param {string} repo The owner and repo in the form :owner/:repo\n */\nexport async function getBranches(repo) {\n  const apiUrl = getApiUrl(`/repos/${repo}/branches`);\n  const response = await fetch(apiUrl);\n  return response.json();\n}\n\n/**\n * Removes a GitHub repo from localStorage.\n * @param {string} repo The owner and repo in the form :owner/:repo\n */\nexport function deleteRepository(repo) {\n  const repos = getRepositories().filter(r => r !== repo);\n  localStorage.setItem(REPOS_LOCAL_STORAGE_KEY, JSON.stringify(repos));\n}\n\n/**\n * Composes the GitHub API url for the given url, attaching the user's GitHub\n * access token if it exists.\n * @param {string} url The path and search params\n * @param {string} branch The branch to get from\n * @return {URL} Composed GitHub API url with user's personal access token\n */\nexport function getApiUrl(url, branch) {\n  url = new URL(url, GITHUB_API_URL);\n\n  const githubToken = localStorage.getItem(GITHUB_TOKEN_LOCAL_STORAGE_KEY);\n  if (githubToken) {\n    url.searchParams.set(\"access_token\", githubToken);\n  }\n\n  if (branch) {\n    url.searchParams.set(\"ref\", branch);\n  }\n\n  return url;\n}\n","import Avatar from \"@material-ui/core/Avatar\";\nimport CallSplit from \"@material-ui/icons/CallSplit\";\nimport DirectoryBreadcrumbs from \"./RouterBreadcrumbs\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { Link } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport React from \"react\";\nimport { getBranches } from \"../lib/github\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = () => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  }\n});\n\n/**\n * A React component for rendering repository items when navigating the /repos resource\n */\nclass BranchNavigation extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoaded: false,\n      branches: []\n    };\n  }\n\n  /**\n   * When component first initializes, execute following lifecycle actions\n   */\n  async componentDidMount() {\n    const branches = await getBranches(this.props.match.params.repo);\n    this.setState({\n      isLoaded: true,\n      branches\n    });\n  }\n\n  /**\n   * When a page is reloaded with a new url parameters, then following lifecycle actions\n   * @param {Object} prevProps Updated query string\n   */\n  async componentDidUpdate(prevProps) {\n    if (prevProps.match.params.repo !== this.props.match.params.repo) {\n      const branches = await getBranches(this.props.match.params.repo);\n      this.setState({\n        isLoaded: true,\n        branches\n      });\n    }\n  }\n\n  render() {\n    const { isLoaded, branches } = this.state;\n    const { classes, location, match } = this.props;\n\n    if (!isLoaded) {\n      return <LinearProgress />;\n    }\n\n    return (\n      <>\n        <DirectoryBreadcrumbs pathname={location.pathname} />\n        <div className={classes.root}>\n          <List>\n            {branches.map(item => (\n              <ListItem\n                button\n                component={Link}\n                key={`list-group-item-${item.name}`}\n                to={`/repos/${match.params.repo}/browser/${item.name}/`}\n              >\n                <ListItemAvatar>\n                  <Avatar>\n                    <CallSplit />\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={item.name}></ListItemText>\n              </ListItem>\n            ))}\n          </List>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(BranchNavigation);\n","import CloseIcon from \"@material-ui/icons/Close\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport React from \"react\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport classNames from \"classnames\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  margin: {\n    margin: theme.spacing(1)\n  }\n});\n\nconst ErrorSnackbar = ({ open, handleClose, classes, message }) => (\n  <Snackbar\n    anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n    open={open}\n    autoHideDuration={6000}\n    onClose={handleClose}\n  >\n    <SnackbarContent\n      className={classes.error}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <ErrorIcon\n            className={classNames(classes.icon, classes.iconVariant)}\n          />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          className={classes.close}\n          onClick={handleClose}\n        >\n          <CloseIcon className={classes.icon} />\n        </IconButton>\n      ]}\n    />\n  </Snackbar>\n);\n\nexport default withStyles(styles)(ErrorSnackbar);\n","import ContainerDimensions from \"react-container-dimensions\";\nimport ErrorSnackbar from \"./ErrorSnackbar\";\nimport { GlobalStateContext } from \"./GlobalState\";\nimport MarkdownIt from \"markdown-it\";\nimport MarkdownItMusic from \"markdown-it-music\";\nimport React from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst COLUMN_GAP = 20;\n\nconst styles = theme => ({\n  markdownBody: {\n    filter: theme.palette.type === \"dark\" ? \"invert(100%)\" : \"\"\n  },\n  columns: {\n    columnGap: `${COLUMN_GAP}px`,\n    columnRuleWidth: \"1px\",\n    columnRuleStyle: \"dashed\",\n    columnRuleColor: theme.palette.text.secondary\n  }\n});\n\nclass MusicMarkdownRender extends React.Component {\n  static contextType = GlobalStateContext;\n\n  constructor(props) {\n    super(props);\n\n    this.md = new MarkdownIt({ html: true }).use(MarkdownItMusic);\n\n    this.state = {\n      html: \"\",\n      message: null,\n      error: false\n    };\n  }\n\n  handleClearError = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    this.setState({ error: false });\n  };\n\n  update = () => {\n    const { source, width, columnCount, transposeAmount } = this.props;\n\n    this.md\n      .setTranspose(transposeAmount)\n      .setMaxWidth((width - COLUMN_GAP * (columnCount - 1)) / columnCount);\n\n    try {\n      this.setState({ html: this.md.render(source), error: false });\n      this.context.setYouTubeId(this.md.meta.youTubeId);\n    } catch (err) {\n      console.log(err);\n      this.setState({\n        html: `<pre>${source}</pre>`,\n        message: err.message,\n        error: true\n      });\n    }\n  };\n\n  componentDidMount = () => {\n    this.update();\n  };\n\n  componentDidUpdate = prevProps => {\n    const { source, width, columnCount, transposeAmount } = this.props;\n    if (\n      prevProps.source === source &&\n      prevProps.width === width &&\n      prevProps.columnCount === columnCount &&\n      prevProps.transposeAmount === transposeAmount\n    ) {\n      return;\n    }\n\n    clearTimeout(this.timer);\n    this.timer = setTimeout(this.update, 200);\n  };\n\n  componentWillUnmount = () => {\n    clearTimeout(this.timer);\n  };\n\n  render = () => {\n    const { classes } = this.props;\n    return (\n      <>\n        <div\n          className={classes.markdownBody}\n          dangerouslySetInnerHTML={{ __html: this.state.html }}\n        />\n        <ErrorSnackbar\n          message={this.state.message}\n          open={this.state.error}\n          handleClose={this.handleClearError}\n        />\n      </>\n    );\n  };\n}\n\nconst ContainerizedMusicMarkdown = props => (\n  <div\n    className={props.classes.columns}\n    style={{ columnCount: props.columnCount }}\n  >\n    <ContainerDimensions>\n      <MusicMarkdownRender {...props} />\n    </ContainerDimensions>\n  </div>\n);\n\nconst MusicMarkdown = withStyles(styles, { withTheme: true })(\n  ContainerizedMusicMarkdown\n);\n\nexport default MusicMarkdown;\n","import { getContents, putContents } from \"../lib/github\";\nimport AceEditor from \"react-ace\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport DirectoryBreadcrumbs from \"./RouterBreadcrumbs\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { Link } from \"react-router-dom\";\nimport MusicMarkdown from \"./MusicMarkdown\";\nimport Paper from \"@material-ui/core/Paper\";\nimport PhotoFilterIcon from \"@material-ui/icons/PhotoFilter\";\nimport React from \"react\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport asciiTabConvert from \"../tools/asciitab\";\nimport classNames from \"classnames\";\nimport green from \"@material-ui/core/colors/green\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport \"brace/mode/markdown\"; // eslint-disable-line sort-imports\nimport \"brace/theme/github\"; // eslint-disable-line sort-imports\nimport \"brace/theme/monokai\"; // eslint-disable-line sort-imports\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  },\n  fabProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: -6,\n    left: -6,\n    zIndex: 1\n  },\n  editor: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    height: \"100%\",\n    width: \"100%\"\n  },\n  fab: {\n    margin: theme.spacing(1)\n  },\n  toolbar: {\n    display: \"flex\",\n    padding: theme.spacing(1)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    height: \"100%\"\n  },\n  buttonSuccess: {\n    backgroundColor: green[500],\n    \"&:hover\": {\n      backgroundColor: green[700]\n    }\n  }\n});\n\nclass MarkdownEditor extends React.Component {\n  state = {\n    filename: undefined,\n    markdown: \"\",\n    sha: null,\n    saving: false,\n    success: false,\n    isDirty: false\n  };\n\n  handleChange = value => {\n    this.setState({ markdown: value, isDirty: true, success: false });\n  };\n\n  handleSave = async () => {\n    if (!this.state.saving) {\n      this.setState({ success: false, saving: true });\n\n      const { repo, path, branch } = this.props.match.params;\n      const { markdown, sha } = this.state;\n      const content = markdown;\n      const response = await putContents(repo, path, content, sha, branch);\n      const json = await response.json();\n\n      if (response.status === 200) {\n        this.setState({ success: true, saving: false, sha: json.content.sha });\n      } else {\n        this.setState({ success: false, saving: false });\n      }\n    }\n  };\n\n  handleFileNameChange = event => {\n    this.setState({ filename: event.target.value });\n  };\n\n  handleAutoFormat = () => {\n    this.setState(state => ({\n      markdown: asciiTabConvert(state.markdown)\n    }));\n  };\n\n  componentDidMount = async () => {\n    const { repo, path, branch } = this.props.match.params;\n\n    const json = await getContents(repo, path, branch);\n    this.setState({\n      isLoaded: true,\n      markdown: json.content,\n      sha: json.sha\n    });\n  };\n\n  render = () => {\n    const { saving, success, isLoaded, isDirty } = this.state;\n    const { classes, theme, location } = this.props;\n\n    const buttonClassname = classNames({\n      [classes.buttonSuccess]: success\n    });\n\n    const parts = location.pathname.split(\"/\");\n    parts[4] = \"viewer\";\n    const viewerLink = parts.join(\"/\");\n\n    if (!isLoaded) {\n      return <LinearProgress />;\n    }\n\n    return (\n      <>\n        <DirectoryBreadcrumbs pathname={this.props.location.pathname} />\n        <div className={classes.root}>\n          <Grid container spacing={1}>\n            <Grid item xs={12}>\n              <Paper className={classes.toolbar}>\n                <Tooltip title=\"Save\">\n                  <Fab\n                    disabled={!isDirty}\n                    className={`${buttonClassname} ${classes.fab}`}\n                    onClick={this.handleSave}\n                  >\n                    {success ? <CheckIcon /> : <SaveIcon />}\n                    {saving && (\n                      <CircularProgress\n                        size={68}\n                        className={classes.fabProgress}\n                      />\n                    )}\n                  </Fab>\n                </Tooltip>\n                <Tooltip title=\"Auto Format\">\n                  <Fab className={classes.fab} onClick={this.handleAutoFormat}>\n                    <PhotoFilterIcon />\n                  </Fab>\n                </Tooltip>\n                <Tooltip title=\"Return to Markdown View\">\n                  <Fab component={Link} to={viewerLink} className={classes.fab}>\n                    <ExitToAppIcon />\n                  </Fab>\n                </Tooltip>\n              </Paper>\n            </Grid>\n            <Grid item xs={6}>\n              <Paper className={classes.paper}>\n                <AceEditor\n                  name=\"brace-editor\"\n                  mode=\"markdown\"\n                  theme={theme.palette.type === \"dark\" ? \"monokai\" : \"github\"}\n                  width=\"100%\"\n                  maxLines={Infinity}\n                  className={classes.editor}\n                  onChange={this.handleChange}\n                  value={this.state.markdown}\n                  editorProps={{ $blockScrolling: true }}\n                />\n              </Paper>\n            </Grid>\n            <Grid item xs={6}>\n              <Paper className={classes.paper}>\n                <MusicMarkdown source={this.state.markdown}></MusicMarkdown>\n              </Paper>\n            </Grid>\n          </Grid>\n        </div>\n      </>\n    );\n  };\n}\n\nexport default withStyles(styles, { withTheme: true })(MarkdownEditor);\n","import { COLUMN_COUNT_QUERY_KEY, TRANSPOSE_QUERY_KEY } from \"../lib/constants\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport MusicMarkdown from \"./MusicMarkdown\";\nimport React from \"react\";\nimport { getContents } from \"../lib/github\";\nimport queryString from \"query-string\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  },\n  paper: {\n    padding: theme.spacing(2)\n  }\n});\n\nclass MarkdownViewer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.queryParams = queryString.parse(this.props.location.search);\n\n    this.state = {\n      isLoaded: false,\n      markdown: null\n    };\n  }\n\n  async componentDidMount() {\n    const { repo, path, branch } = this.props.match.params;\n\n    const json = await getContents(repo, path, branch);\n    this.setState({\n      isLoaded: true,\n      markdown: json.content\n    });\n  }\n\n  render() {\n    const { isLoaded, markdown } = this.state;\n    const { classes, location } = this.props;\n\n    const params = queryString.parse(location.search);\n    const columnCount = params[COLUMN_COUNT_QUERY_KEY] || \"1\";\n    const transposeAmount = Number(params[TRANSPOSE_QUERY_KEY]) || 0;\n\n    if (!isLoaded) {\n      return <LinearProgress />;\n    }\n\n    return (\n      <div className={classes.root}>\n        <MusicMarkdown\n          source={markdown}\n          columnCount={columnCount}\n          transposeAmount={transposeAmount}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(MarkdownViewer);\n","import { Paper, Tooltip } from \"@material-ui/core\";\nimport Draggable from \"react-draggable\";\nimport { GlobalStateContext } from \"./GlobalState\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\nimport React from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  paper: {\n    position: \"fixed\",\n    bottom: theme.spacing(1),\n    right: theme.spacing(1),\n    padding: theme.spacing(2),\n    cursor: \"move\"\n  }\n});\n\nconst UnstyledYouTubePlayer = ({ classes, youTubeId }) => (\n  <Draggable>\n    <Paper className={classes.paper}>\n      <iframe\n        title={youTubeId}\n        style={{ border: 0 }}\n        src={`https://www.youtube.com/embed/${youTubeId}`}\n        allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n        allowFullScreen\n      ></iframe>\n    </Paper>\n  </Draggable>\n);\n\nconst YouTubePlayer = withStyles(styles, { withTheme: true })(\n  UnstyledYouTubePlayer\n);\n\nclass YouTubeToggle extends React.Component {\n  static contextType = GlobalStateContext;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: false\n    };\n  }\n\n  componentDidMount = () => {\n    this.setState({ visible: !this.context.data.youTubeId });\n  };\n\n  handleToggle = () => {\n    this.setState(state => ({\n      visible: !state.visible\n    }));\n  };\n\n  render() {\n    if (!this.context.data.youTubeId) {\n      return null;\n    }\n\n    return (\n      <>\n        <Tooltip title=\"Show / Hide YouTube Player\">\n          <IconButton\n            color={this.state.visible ? \"secondary\" : \"default\"}\n            onClick={this.handleToggle}\n          >\n            <PlayArrowIcon />\n          </IconButton>\n        </Tooltip>\n        {this.state.visible ? (\n          <YouTubePlayer youTubeId={this.context.data.youTubeId} />\n        ) : (\n          \"\"\n        )}\n      </>\n    );\n  }\n}\n\nexport { YouTubePlayer, YouTubeToggle };\n","import { COLUMN_COUNT_QUERY_KEY, TRANSPOSE_QUERY_KEY } from \"../lib/constants\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport LowPriorityIcon from \"@material-ui/icons/LowPriority\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport React from \"react\";\nimport Slider from \"@material-ui/core/Slider\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\nimport { YouTubeToggle } from \"./YouTube\";\nimport queryString from \"query-string\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  popper: {\n    zIndex: 9999\n  },\n  paper: {\n    padding: theme.spacing(2)\n  },\n  slider: {\n    width: 300\n  }\n});\n\nconst handleUpdateQuery = (props, name, value, original) => {\n  const params = queryString.parse(props.location.search);\n  if (value === original) {\n    delete params[name];\n  } else {\n    params[name] = value;\n  }\n  props.history.push({ search: queryString.stringify(params) });\n};\n\nclass UnstyledColumnCountSelector extends React.Component {\n  state = {\n    anchorEl: undefined\n  };\n\n  handleToggle = event => {\n    this.setState({\n      anchorEl: !this.state.anchorEl ? event.currentTarget : undefined\n    });\n  };\n\n  handleClickAway = event => {\n    if (this.state.anchorEl.contains(event.target)) {\n      return;\n    }\n\n    this.setState({ anchorEl: undefined });\n  };\n\n  render() {\n    const params = queryString.parse(this.props.location.search);\n    const columnCount = params[COLUMN_COUNT_QUERY_KEY] || \"1\";\n    const { classes } = this.props;\n    const { anchorEl } = this.state;\n\n    return (\n      <>\n        <Tooltip title=\"Set Number of Columns\">\n          <IconButton onClick={this.handleToggle}>\n            <Badge\n              badgeContent={columnCount}\n              invisible={columnCount === \"1\"}\n              color=\"secondary\"\n            >\n              <ViewColumn />\n            </Badge>\n          </IconButton>\n        </Tooltip>\n\n        <Popper\n          className={classes.popper}\n          open={!!anchorEl}\n          anchorEl={anchorEl}\n        >\n          <ClickAwayListener onClickAway={this.handleClickAway}>\n            <ToggleButtonGroup\n              value={columnCount}\n              exclusive\n              onChange={(event, value) =>\n                handleUpdateQuery(\n                  this.props,\n                  COLUMN_COUNT_QUERY_KEY,\n                  value,\n                  \"1\"\n                )\n              }\n            >\n              {[\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"].map(columnCount => (\n                <ToggleButton value={columnCount} key={columnCount}>\n                  {columnCount}\n                </ToggleButton>\n              ))}\n            </ToggleButtonGroup>\n          </ClickAwayListener>\n        </Popper>\n      </>\n    );\n  }\n}\n\nconst ColumnCountSelector = withStyles(styles, { withTheme: true })(\n  UnstyledColumnCountSelector\n);\n\nclass UnstyledTransposeSelector extends React.Component {\n  state = {\n    anchorEl: undefined\n  };\n\n  handleToggle = event => {\n    this.setState({\n      anchorEl: !this.state.anchorEl ? event.currentTarget : undefined\n    });\n  };\n\n  handleClickAway = event => {\n    if (this.state.anchorEl.contains(event.target)) {\n      return;\n    }\n\n    this.setState({ anchorEl: undefined });\n  };\n\n  render() {\n    const params = queryString.parse(this.props.location.search);\n    const transpose = params[TRANSPOSE_QUERY_KEY] || \"0\";\n    const { classes } = this.props;\n    const { anchorEl } = this.state;\n\n    return (\n      <>\n        <Tooltip title=\"Transpose Up / Down\">\n          <IconButton onClick={this.handleToggle}>\n            <Badge\n              badgeContent={transpose}\n              invisible={transpose === \"0\"}\n              color=\"secondary\"\n            >\n              <LowPriorityIcon />\n            </Badge>\n          </IconButton>\n        </Tooltip>\n\n        <Popper\n          className={classes.popper}\n          open={!!anchorEl}\n          anchorEl={anchorEl}\n        >\n          <ClickAwayListener onClickAway={this.handleClickAway}>\n            <Paper className={classes.paper}>\n              <Slider\n                className={classes.slider}\n                value={Number(transpose)}\n                min={-12}\n                max={12}\n                step={1}\n                marks={true}\n                onChange={(event, value) =>\n                  handleUpdateQuery(\n                    this.props,\n                    TRANSPOSE_QUERY_KEY,\n                    String(value),\n                    \"0\"\n                  )\n                }\n              />\n            </Paper>\n          </ClickAwayListener>\n        </Popper>\n      </>\n    );\n  }\n}\n\nconst TransposeSelector = withStyles(styles, { withTheme: true })(\n  UnstyledTransposeSelector\n);\n\nconst MusicToolbar = props => (\n  <>\n    <YouTubeToggle youTubeId={props.youTubeId} />\n    <TransposeSelector {...props} />\n    <ColumnCountSelector {...props} />\n  </>\n);\n\nexport default withStyles(styles)(MusicToolbar);\n","import AppBar from \"@material-ui/core/AppBar\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport { GlobalStateContext } from \"./GlobalState\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Link } from \"react-router-dom\";\nimport MusicToolbar from \"./MusicToolbar\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport { REPO_REGEX } from \"../lib/constants\";\nimport React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport ViewListIcon from \"@material-ui/icons/ViewList\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  reactRouterHoverInherit: theme.reactRouterHoverInherit,\n  paper: {\n    padding: `${theme.spacing(1)}px`\n  },\n  grow: {\n    flexGrow: 1\n  },\n  filter: {\n    filter: theme.palette.type === \"dark\" ? \"invert(100%)\" : \"\"\n  }\n});\n\nconst BrowseButton = ({ match }) => (\n  <Tooltip title=\"Song List View\">\n    <IconButton\n      component={Link}\n      to={`/repos/${match.params.repo}/browser/${match.params.branch}/`}\n    >\n      <ViewListIcon />\n    </IconButton>\n  </Tooltip>\n);\n\nconst EditButton = ({ match }) => (\n  <Tooltip title=\"Edit Song\">\n    <IconButton\n      component={Link}\n      to={`/repos/${match.params.repo}/editor/${match.params.branch}/${match.params.path}`}\n    >\n      <EditIcon />\n    </IconButton>\n  </Tooltip>\n);\n\nconst ViewButton = ({ match }) => (\n  <Tooltip title=\"Markdown View\">\n    <IconButton\n      component={Link}\n      to={`/repos/${match.params.repo}/viewer/${match.params.branch}/${match.params.path}`}\n    >\n      <ExitToAppIcon />\n    </IconButton>\n  </Tooltip>\n);\n\n// TODO: Placeholder for search functionality\nconst SearchToolbar = () => (\n  <IconButton>\n    <SearchIcon />\n  </IconButton>\n);\n\nclass MusicMarkdownNavbar extends React.Component {\n  static contextType = GlobalStateContext;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      settingsOpen: false\n    };\n\n    this.settingsAnchorEl = undefined;\n  }\n\n  handleSettingsClick = () => {\n    this.setState({ settingsOpen: !this.state.settingsOpen });\n  };\n\n  handleDarkThemeSwitch = () => {\n    this.context.toggleTheme();\n  };\n\n  render() {\n    const { settingsOpen } = this.state;\n    const { classes } = this.props;\n\n    return (\n      <AppBar position={\"sticky\"} key=\"top-navbar\">\n        <Toolbar>\n          <Button\n            className={classes.reactRouterHoverInherit}\n            component={Link}\n            to=\"/\"\n          >\n            <img\n              className={classes.filter}\n              src=\"music-markdown.svg\"\n              width={50}\n              alt=\"Music Markdown\"\n            />\n          </Button>\n          <div className={classes.grow} />\n\n          <Route\n            path={`${REPO_REGEX}/:mode/:branch/:path*`}\n            component={SearchToolbar}\n          />\n          <Route\n            path={[\n              \"/sandbox\",\n              `${REPO_REGEX}/:mode(viewer|editor)/:branch/:path*`\n            ]}\n            component={MusicToolbar}\n          />\n          <Route\n            path={`${REPO_REGEX}/:mode(viewer|editor)/:branch/:path*`}\n            component={BrowseButton}\n          />\n          <Route\n            path={`${REPO_REGEX}/viewer/:branch/:path*`}\n            component={EditButton}\n          />\n          <Route\n            path={`${REPO_REGEX}/editor/:branch/:path*`}\n            component={ViewButton}\n          />\n\n          <IconButton\n            onClick={this.handleSettingsClick}\n            buttonRef={node => {\n              this.settingsAnchorEl = node;\n            }}\n          >\n            <SettingsIcon />\n          </IconButton>\n          <Popper\n            id=\"settings-popper\"\n            open={settingsOpen}\n            anchorEl={this.settingsAnchorEl}\n            placement=\"bottom-end\"\n          >\n            <Paper className={classes.paper}>\n              <ClickAwayListener onClickAway={this.handleSettingsClick}>\n                <FormControlLabel\n                  control={\n                    <Switch\n                      defaultChecked={this.context.isDarkTheme()}\n                      onChange={this.handleDarkThemeSwitch}\n                      value=\"darkTheme\"\n                    />\n                  }\n                  label=\"Toggle Dark Mode?\"\n                />\n              </ClickAwayListener>\n            </Paper>\n          </Popper>\n        </Toolbar>\n      </AppBar>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(MusicMarkdownNavbar);\n","import Add from \"@material-ui/icons/Add\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport ErrorSnackbar from \"./ErrorSnackbar\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Grid from \"@material-ui/core/Grid\";\nimport React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\n\nclass AddRepository extends React.Component {\n  state = {\n    open: false,\n    name: \"\",\n    owner: \"\",\n    message: null,\n    error: false\n  };\n\n  handleDialogOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleDialogClose = () => {\n    this.setState({\n      open: false,\n      name: \"\",\n      owner: \"\",\n      error: false\n    });\n  };\n\n  handleShowError = message => {\n    this.setState({\n      message: message,\n      error: true\n    });\n  };\n\n  handleClearError = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    this.setState({ error: false });\n  };\n\n  handleDialogAdd = async () => {\n    try {\n      await this.props.handleAddRepository(\n        `${this.state.owner}/${this.state.name}`\n      );\n      this.handleDialogClose();\n    } catch (err) {\n      this.handleShowError(err.message);\n    }\n  };\n\n  handleUpdateOwner = event => {\n    this.setState({ owner: event.target.value });\n  };\n\n  handleUpdateName = event => {\n    this.setState({ name: event.target.value });\n  };\n\n  render = () => (\n    <>\n      <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"flex-end\">\n        <Fab aria-label=\"Add\" onClick={this.handleDialogOpen}>\n          <Add />\n        </Fab>\n        <Dialog open={this.state.open} aria-labelledby=\"add-repository-dialog\">\n          <DialogTitle id=\"add-repository-dialog-title\">\n            Add Repository\n          </DialogTitle>\n          <DialogContent>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"owner\"\n              label=\"Repository Owner\"\n              value={this.state.owner}\n              onChange={e => this.handleUpdateOwner(e)}\n              fullWidth\n            />\n            <TextField\n              margin=\"dense\"\n              id=\"name\"\n              label=\"Repository Name\"\n              value={this.state.name}\n              onChange={e => this.handleUpdateName(e)}\n              fullWidth\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleDialogClose}>Cancel</Button>\n            <Button onClick={this.handleDialogAdd}>Add</Button>\n          </DialogActions>\n        </Dialog>\n      </Grid>\n      <ErrorSnackbar\n        message={this.state.message}\n        open={this.state.error}\n        handleClose={this.handleClearError}\n      />\n    </>\n  );\n}\n\nexport default AddRepository;\n","import {\n  addRepository,\n  deleteRepository,\n  getRepositories\n} from \"../lib/github\";\nimport AddRepository from \"./AddRepository\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Book from \"@material-ui/icons/Book\";\nimport Delete from \"@material-ui/icons/Delete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Link } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport React from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = () => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  }\n});\n\nclass ListRepositories extends React.Component {\n  state = {\n    repos: []\n  };\n\n  handleAddRepository = async repo => {\n    await addRepository(repo);\n    this.loadRepositories();\n  };\n\n  handleDeleteRepository = repo => {\n    deleteRepository(repo);\n    this.loadRepositories();\n  };\n\n  loadRepositories = () => {\n    this.setState({\n      repos: getRepositories()\n    });\n  };\n\n  componentDidMount = () => {\n    this.loadRepositories();\n  };\n\n  render = () => {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <List>\n          {this.state.repos.map(repo => (\n            <ListItem\n              button\n              key={`repo-item-${repo}`}\n              component={Link}\n              to={`/repos/${repo}/`}\n            >\n              <ListItemAvatar>\n                <Avatar>\n                  <Book />\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText primary={repo} />\n              <ListItemSecondaryAction>\n                <IconButton\n                  aria-label=\"Delete\"\n                  onClick={() => this.handleDeleteRepository(repo)}\n                >\n                  <Delete />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n        <AddRepository handleAddRepository={this.handleAddRepository} />\n      </div>\n    );\n  };\n}\n\nconst RepositoryEditor = ({ classes }) => (\n  <ListRepositories classes={classes} />\n);\n\nexport default withStyles(styles)(RepositoryEditor);\n","import Add from \"@material-ui/icons/Add\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport ErrorSnackbar from \"./ErrorSnackbar\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { putContents } from \"../lib/github\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = () => ({\n  whitespacePre: {\n    whiteSpace: \"pre-line\",\n    fontFamily: \"monospace\"\n  }\n});\n\nclass AddNewFile extends React.Component {\n  state = {\n    newFileName: \"\",\n    newFileOpen: false,\n    toEditor: false,\n    message: \"\",\n    error: false\n  };\n\n  handleAddNewFileOpen = () => {\n    this.setState({ newFileOpen: true });\n  };\n\n  handleAddNewFileClose = () => {\n    this.setState({\n      newFileOpen: false,\n      newFileName: \"\"\n    });\n  };\n\n  handleUpdateFileName = event => {\n    this.setState({ newFileName: event.target.value });\n  };\n\n  handleAddNewFile = async () => {\n    const { repo, branch } = this.props.match.params;\n    const path = this.getNewFilePath();\n    const content = this.getTemplateContents();\n\n    const response = await putContents(repo, path, content, undefined, branch);\n\n    if (response.status !== 201) {\n      this.handleShowError(`${response.status}: ${response.statusText}`);\n      return;\n    }\n\n    this.setState({ toEditor: true });\n  };\n\n  handleShowError = message => {\n    this.setState({\n      message,\n      error: true\n    });\n  };\n\n  handleClearError = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    this.setState({ error: false });\n  };\n\n  isValidFileName = () => !!this.state.newFileName.match(/^[^<>:\"/\\\\|?*]+$/);\n  getTemplateContents = () => `---\\n---\\n\\n# ${this.state.newFileName}`;\n  getNewFilePath = () => {\n    const file = this.state.newFileName;\n    const path = this.props.match.params.path;\n    return path ? `${path}/${file}.md` : `${file}.md`;\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { newFileOpen, toEditor } = this.state;\n    const { repo, branch } = this.props.match.params;\n\n    if (toEditor) {\n      return (\n        <Redirect\n          to={`/repos/${repo}/editor/${branch}/${this.getNewFilePath()}`}\n        />\n      );\n    }\n\n    return (\n      <>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-end\"\n          alignItems=\"flex-end\"\n        >\n          <Fab aria-label=\"Add\" onClick={this.handleAddNewFileOpen}>\n            <Add />\n          </Fab>\n          <Dialog\n            open={newFileOpen}\n            aria-labelledby=\"add-new-file-dialog\"\n            fullWidth={true}\n          >\n            <DialogTitle id=\"add-new-file-dialog-title\">\n              Create New Music Markdown File\n            </DialogTitle>\n            <DialogContent>\n              <Card className={classes.previewCard}>\n                <CardContent>\n                  <Typography\n                    variant=\"caption\"\n                    color=\"textSecondary\"\n                    gutterBottom\n                  >\n                    Preview\n                  </Typography>\n                  <Typography\n                    variant=\"body1\"\n                    color=\"textPrimary\"\n                    className={classes.whitespacePre}\n                  >\n                    {this.getTemplateContents()}\n                  </Typography>\n                </CardContent>\n              </Card>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"owner\"\n                label=\"Music Markdown File Name\"\n                value={this.state.newFileName}\n                onChange={e => this.handleUpdateFileName(e)}\n                fullWidth\n                error={!this.isValidFileName()}\n                helperText={\n                  !this.isValidFileName() ? (\n                    \"Invalid file name\"\n                  ) : (\n                    <>\n                      {repo}/{branch}/{this.getNewFilePath()}\n                    </>\n                  )\n                }\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment position=\"end\">.md</InputAdornment>\n                  )\n                }}\n              />\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={this.handleAddNewFileClose} color=\"secondary\">\n                Cancel\n              </Button>\n              <Button\n                onClick={this.handleAddNewFile}\n                color=\"primary\"\n                disabled={!this.isValidFileName()}\n              >\n                Create\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </Grid>\n        <ErrorSnackbar\n          message={this.state.message}\n          open={this.state.error}\n          handleClose={this.handleClearError}\n        />\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(AddNewFile);\n","import AddNewFile from \"./AddNewFile\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport DirectoryBreadcrumbs from \"./RouterBreadcrumbs\";\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { Link } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport React from \"react\";\nimport { getContents } from \"../lib/github\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = () => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  }\n});\n\n/**\n * A React component for rendering repository items when navigating the /repos resource\n */\nclass RepositoryNavigation extends React.Component {\n  state = {\n    isLoaded: false,\n    contents: []\n  };\n\n  async componentDidMount() {\n    const { repo, path, branch } = this.props.match.params;\n\n    const contents = await getContents(repo, path, branch);\n    this.sortDir(contents);\n    this.setState({\n      isLoaded: true,\n      contents\n    });\n  }\n\n  /**\n   * When a page is reloaded with a new url parameters, then following lifecycle actions\n   * @param {Object} prevProps Props before update\n   */\n  async componentDidUpdate(prevProps) {\n    const {\n      repo: prevRepo,\n      path: prevPath,\n      branch: prevBranch\n    } = prevProps.match.params;\n    const { repo, path, branch } = this.props.match.params;\n\n    if (prevRepo !== repo || prevPath !== path || prevBranch !== branch) {\n      const contents = await getContents(repo, path, branch);\n      this.sortDir(contents);\n      this.setState({\n        isLoaded: true,\n        contents\n      });\n    }\n  }\n\n  /**\n   * Sorts the contents of a GitHub directory. Lists directories first then files, each in alphabetical order.\n   * @param {Object[]} contents GitHub directory contents. Contains files and directories.\n   */\n  sortDir(contents) {\n    contents.sort((a, b) => {\n      if (a.type === \"file\") {\n        if (b.type === \"file\") {\n          return a.name - b.name;\n        }\n        return 1;\n      }\n      if (b.type === \"file\") {\n        return -1;\n      }\n      return a.name - b.name;\n    });\n  }\n\n  render() {\n    const { repo, branch } = this.props.match.params;\n    const { isLoaded, contents } = this.state;\n    const { classes } = this.props;\n\n    if (!isLoaded) {\n      return <LinearProgress />;\n    }\n\n    return (\n      <>\n        <DirectoryBreadcrumbs pathname={this.props.location.pathname} />\n        <div className={classes.root}>\n          <List key={\"repo-navigation-list\"}>\n            {contents.map(item => (\n              <ListItem\n                button\n                component={Link}\n                key={`list-group-item-${item.name}`}\n                to={\n                  item.type === \"dir\"\n                    ? `/repos/${repo}/browser/${branch}/${item.path}/`\n                    : `/repos/${repo}/viewer/${branch}/${item.path}`\n                }\n              >\n                <ListItemAvatar>\n                  <Avatar>\n                    {item.type === \"dir\" ? <FolderIcon /> : <DescriptionIcon />}\n                  </Avatar>\n                </ListItemAvatar>\n                {item.type === \"dir\" ? (\n                  <ListItemText secondary={item.name}></ListItemText>\n                ) : (\n                  <ListItemText primary={item.name}></ListItemText>\n                )}\n              </ListItem>\n            ))}\n          </List>\n          <AddNewFile location={this.props.location} match={this.props.match} />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(RepositoryNavigation);\n","import Grid from \"@material-ui/core/Grid\";\nimport React from \"react\";\n\nconst RESPONSIVE_CONTAINER_KEY = \"app-container\";\n\nfunction ResponsiveContainer(props) {\n  return <Grid key={RESPONSIVE_CONTAINER_KEY}>{props.children}</Grid>;\n}\n\nexport default ResponsiveContainer;\n","import { COLUMN_COUNT_QUERY_KEY, TRANSPOSE_QUERY_KEY } from \"../lib/constants\";\nimport { Link, Route } from \"react-router-dom\";\nimport MusicMarkdown from \"./MusicMarkdown\";\nimport Paper from \"@material-ui/core/Paper\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { guitarChordbook } from \"markdown-it-music/lib/chordbook\";\nimport queryString from \"query-string\";\nimport { renderChordDiagram } from \"markdown-it-music/renderers/chord_diagram\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    padding: 8\n  },\n  chordSourcePaper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(2)\n  },\n  chordCategoryPaper: {\n    margin: theme.spacing(1),\n    textAlign: \"center\"\n  },\n  chordCategoryTypography: {\n    color: theme.palette.text.primary,\n    textAlign: \"center\"\n  },\n  chordVariantPaper: {\n    display: \"inline-block\",\n    margin: theme.spacing(1),\n    textAlign: \"center\"\n  },\n  chordVariantTypography: {\n    color: theme.palette.text.secondary\n  },\n  chordDiagram: {\n    filter: theme.palette.type === \"dark\" ? \"invert(100%)\" : \"\"\n  }\n});\n\nconst Sandbox = ({ classes, location, match }) => (\n  <div className={classes.root}>\n    <Typography variant=\"h2\">Sandbox</Typography>\n\n    <ul>\n      <li>\n        <Link to={`${match.url}/all-features-in-one-place`}>\n          All the Features in One Place\n        </Link>\n      </li>\n      <li>\n        <Link to={`${match.url}/guitar-chordbook`}>Guitar Chordbook</Link>\n      </li>\n    </ul>\n\n    <Route\n      path={`${match.path}/all-features-in-one-place`}\n      component={() => (\n        <MarkdownViewer location={location} source={allFeaturesSource} />\n      )}\n    />\n    <Route\n      path={`${match.path}/guitar-chordbook`}\n      component={AllGuitarChords}\n    />\n  </div>\n);\n\nconst MarkdownViewer = ({ source, location }) => {\n  const params = queryString.parse(location.search);\n  const columnCount = params[COLUMN_COUNT_QUERY_KEY] || \"1\";\n  const transposeAmount = Number(params[TRANSPOSE_QUERY_KEY]) || 0;\n\n  return (\n    <MusicMarkdown\n      source={source}\n      columnCount={columnCount}\n      transposeAmount={transposeAmount}\n    />\n  );\n};\n\nconst roots = [\n  \"C\",\n  \"C#\",\n  \"Db\",\n  \"D\",\n  \"D#\",\n  \"Eb\",\n  \"E\",\n  \"F\",\n  \"F#\",\n  \"Gb\",\n  \"G\",\n  \"G#\",\n  \"Ab\",\n  \"A\",\n  \"A#\",\n  \"Bb\",\n  \"B\"\n];\n\nconst qualities = [\n  \"\",\n  \"m\",\n  \"6\",\n  \"m6\",\n  \"7\",\n  \"maj7\",\n  \"m7\",\n  \"9\",\n  \"dim\",\n  \"aug\",\n  \"sus2\",\n  \"7sus2\",\n  \"sus4\",\n  \"7sus4\",\n  \"5\",\n  \"dim5\",\n  \"dim7\",\n  \"7b5\",\n  \"m7b5\",\n  \"7#5\",\n  \"7b9\",\n  \"7#9\",\n  \"7b9#5\",\n  \"7/6\",\n  \"9b5\",\n  \"9#5\",\n  \"maj9\",\n  \"m9\",\n  \"9/6\",\n  \"m9/6\",\n  \"add9\",\n  \"11\",\n  \"m11\",\n  \"11aug\",\n  \"13\",\n  \"13b9\",\n  \"13b9b5\"\n];\n\nconst AllGuitarChords = withStyles(styles, { withTheme: true })(\n  ({ classes, location }) => (\n    <>\n      <Typography variant=\"h3\">Guitar Chordbook</Typography>\n      <Paper className={classes.chordSourcePaper}>\n        <MarkdownViewer source={allChordsSource} location={location} />\n      </Paper>\n      {roots.map((category, index) => (\n        <Paper key={`category-${index}`} className={classes.chordCategoryPaper}>\n          <Typography className={classes.chordCategoryTypography} variant=\"h4\">\n            {category} Chords\n          </Typography>\n          <ChordCategory category={category} />\n        </Paper>\n      ))}\n    </>\n  )\n);\n\nconst ChordCategory = withStyles(styles, { withTheme: true })(\n  ({ classes, category }) =>\n    Array.from(guitarChordbook.keys())\n      .filter(chord => chord.match(/^[CDEFGAB](?:#|b)?|N\\.C\\./)[0] === category)\n      .map((chord, index) => (\n        <Paper key={`chord-${index}`} className={classes.chordVariantPaper}>\n          {guitarChordbook.get(chord).map((variant, index) => (\n            <span\n              className={classes.chordDiagram}\n              key={`variant-${index}`}\n              dangerouslySetInnerHTML={{ __html: renderChordDiagram(variant) }}\n            />\n          ))}\n          <Typography className={classes.chordVariantTypography} variant=\"h5\">\n            {chord}\n          </Typography>\n        </Paper>\n      ))\n);\n\nconst allChordsSource = `---\n---\n${roots\n  .map(\n    root => `## ${root} Chords\nc1: ${qualities.map(quality => root + quality).join(\" \")}`\n  )\n  .join(\"\\n\\n\")}\n`;\n\nconst allFeaturesSource = `---\nyouTubeId: dN3GbF9Bx6E\n---\n\n# All the Features in One Place\n\n## Chord and Lyrics\nc1: Em               D           Em\nl1: Are you goin' to Scarborough Fair?\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\n\nc1: Em       G                   D\nl1: Remember me to one who lives there\n\nc1: Em       D                  Em\nl1: She once was a true love of mine\n\n## Multiple Overlapping Voices\nc1: Em                         D         Em\nl1: Tell her to make me a      cambric   shirt\nl2:                     On the side of a hill in the deep forest green\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\nl2:                              Tracing a sparrow on snow-crested ground\n\nc1: Em         G               D\nl1: Without no seams nor needlework\nl2:                      Blankets and bedclothes the child of the mountain\n\nc1: Em          D                 Em\nl1: Then she'll be a true love of mine\nl2:                               Sleeps unaware of the clarion call\n\n## VexTab\n\n:::vextab\noptions space=20\n\ntabstave\n  notation=true\n  key=A time=4/4\n\n  notes :q =|: (5/2.5/3.7/4) :8 7-5h6/3 ^3^ 5h6-7/5 ^3^ :q 7V/4 |\n  notes :8 t12p7/4 s5s3/4 :8 3s:16:5-7/5 :h p5/4\n  text :w, |#segno, ,|, :hd, , #tr\n\n\noptions space=25\n\ntabstave\n  notation=true\n\n  notes :q (5/4.5/5) (7/4.7/5)s(5/4.5/5) ^3^\n  notes :8 7-5/4 $.a./b.$ (5/4.5/5)h(7/5) =:|\n  notes :8 (12/5.12/4)ds(5/5.5/4)u 3b4/5\n  notes :h (5V/6.5/4.6/3.7/2) $.italic.let ring$ =|=\n\n  text :h, ,.font=Times-12-italic, D.S. al coda, |#coda\n  text :h, ,.-1, .font=Arial-14-bold,A13\n  text ++, .23, #f\n :::\n\n## ABC\n\n:::abc\nX: 1\nM: 4/4\nL: 1/16\nK: Amin\n\"Am\" (C16 | C4) B,2C2 D6 CB, | (C16 | C4) B,2C2 \"F\" D6 CA, |\n\"C\" G,8 \"E\" _A,8 | \"Am\" =A,8 \"F\" (3F4 F4 F4 | \"E\" F2 (E6 E8) | z6 ^A2 B4 e4 |\n\"Am\" e2d2c2(d2 \"G\" d4) .=A4 | \"F\" e2d2c2(d2 \"G\" d4) .A4 |\n\"Esus4\" e4 e4 e2d2B2d2 | \"E\" e4 e4 e2g2e2d2 |\n\"Am\" .e4 c2 \"G\" .d4 c2 e4 | \"F\" z2 c2 e2 \"G\" d6 c2d2 |\n\"Esus4\" e2e2e2d2 d2B2B2_A2 | \"E\" _A2F2F2E2 =A2B2A2G2 |\n:::\n\n`;\n\nexport default withStyles(styles, { withTheme: true })(Sandbox);\n","import \"./App.scss\";\nimport { GlobalStateProvider, useGlobalStateContext } from \"./GlobalState\";\nimport { Route, HashRouter as Router, Switch } from \"react-router-dom\";\nimport BranchNavigation from \"./BranchNavigation\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport MarkdownEditor from \"./MarkdownEditor\";\nimport MarkdownViewer from \"./MarkdownViewer\";\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport MusicMarkdownNavbar from \"./MusicMarkdownNavbar\";\nimport { REPO_REGEX } from \"../lib/constants\";\nimport React from \"react\";\nimport RepositoryEditor from \"./RepositoryEditor\";\nimport RepositoryNavigation from \"./RepositoryNavigation\";\nimport ResponsiveContainer from \"./ResponsiveContainer\";\nimport Sandbox from \"./Sandbox.js\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\n\nconst App = () => (\n  <GlobalStateProvider>\n    <ThemeProvider />\n  </GlobalStateProvider>\n);\n\nconst ThemeProvider = () => {\n  const context = useGlobalStateContext();\n\n  return (\n    <MuiThemeProvider theme={createMuiTheme(context.data.theme)}>\n      <CssBaseline />\n      <ResponsiveContainer>{[HomeRouter()]}</ResponsiveContainer>\n    </MuiThemeProvider>\n  );\n};\n\nconst HomeRouter = () => (\n  <Router key=\"home-router\">\n    <>\n      <Route component={MusicMarkdownNavbar} />\n      <Switch>\n        <Route\n          path={`${REPO_REGEX}/viewer/:branch/:path+`}\n          component={MarkdownViewer}\n        />\n        <Route\n          path={`${REPO_REGEX}/browser/:branch/:path*`}\n          component={RepositoryNavigation}\n        />\n        <Route\n          path={`${REPO_REGEX}/editor/:branch/:path*`}\n          component={MarkdownEditor}\n        />\n        <Route path={REPO_REGEX} component={BranchNavigation} />\n        <Route path=\"/sandbox\" component={Sandbox} />\n        <Route path=\"/\" component={RepositoryEditor} />\n      </Switch>\n    </>\n  </Router>\n);\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import App from \"./components/App.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport registerServiceWorker from \"./registerServiceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}