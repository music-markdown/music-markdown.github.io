(this["webpackJsonpmusic-markdown"]=this["webpackJsonpmusic-markdown"]||[]).push([[0],{178:function(e,t,a){"use strict";(function(e,n,r){var c=a(7),o=a.n(c),l=a(179),i=a(115).isChord,s={DEFAULT:1,VERSE:2,FENCE:3};function u(e){return e.endsWith(":")?"## ".concat(e.slice(0,-1)):e.startsWith("[")&&e.endsWith("]")?"## ".concat(e.slice(1,-1)):null}function m(e){var t=e.trim().split(/\s+/),a=!0,n=!1,r=void 0;try{for(var c,o=t[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var l=c.value;if(!i(l))return null}}catch(s){n=!0,r=s}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return"c1: ".concat(e)}function p(e){var t=s.DEFAULT,a=1,n=e.split(/\n/),r=[],c=!0,o=!1,l=void 0;try{for(var i,p=n[Symbol.iterator]();!(c=(i=p.next()).done);c=!0){var d=i.value;if(d.startsWith(":::"))t=s.FENCE,r.push(d);else if(t!==s.DEFAULT)if(t!==s.VERSE)t!==s.FENCE||(":::"===d&&(t=s.DEFAULT),r.push(d));else{var h=u(d);if(h){t=s.DEFAULT,r.push(""),r.push(h);continue}var b=m(d);if(b){r.push(""),r.push(b),a=1;continue}if(""===d.trim())continue;r.push("l".concat(a,": ").concat(d)),a+=1}else{var f=u(d);if(f){r.push(f);continue}var E=m(d);if(E){t=s.VERSE,r.push(E),a=1;continue}r.push(d)}}}catch(g){o=!0,l=g}finally{try{c||null==p.return||p.return()}finally{if(o)throw l}}return r.join("\n")}function d(t){var a,n,r,c,i,s,u,m;return o.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:a=e.alloc(0),n=!0,r=!1,p.prev=3,i=Object(l.a)(t);case 5:return p.next=7,o.a.awrap(i.next());case 7:return s=p.sent,n=s.done,p.next=11,o.a.awrap(s.value);case 11:if(u=p.sent,n){p.next=18;break}m=u,a=e.concat([a,m]);case 15:n=!0,p.next=5;break;case 18:p.next=24;break;case 20:p.prev=20,p.t0=p.catch(3),r=!0,c=p.t0;case 24:if(p.prev=24,p.prev=25,n||null==i.return){p.next=29;break}return p.next=29,o.a.awrap(i.return());case 29:if(p.prev=29,!r){p.next=32;break}throw c;case 32:return p.finish(29);case 33:return p.finish(24);case 34:return p.abrupt("return",a.toString("utf8"));case 35:case"end":return p.stop()}}),null,null,[[3,20,24,34],[25,,29,33]])}a.c[a.s]===r&&o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.t1=p,e.next=4,o.a.awrap(d(n.stdin));case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.log.call(e.t0,e.t3);case 7:case"end":return e.stop()}})),t.a=p}).call(this,a(157).Buffer,a(362),a(363)(e))},211:function(e,t,a){e.exports=a(394)},212:function(e,t,a){},394:function(e,t,a){"use strict";a.r(t);var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(212);var c=a(94),o=a(8),l=a(0),i=a.n(l),s=a(7),u=a.n(s),m=a(117),p="columns",d="/repos/:repo([^/]+/[^/]+)",h="transpose",b="".concat("music-markdown",":github_token"),f="".concat("music-markdown",":repositories"),E="https://api.github.com";"".concat("music-markdown",":indexed-contents");function g(e,t,a){var n,r,c;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return void 0!==t&&0!==t.length||(t=""),n=x("/repos/".concat(e,"/contents/").concat(t),a),o.next=4,u.a.awrap(fetch(n,{cache:"no-cache"}));case 4:return r=o.sent,o.next=7,u.a.awrap(r.json());case 7:return(c=o.sent).content=c.content?m.Base64.decode(c.content):"",o.abrupt("return",c);case 10:case"end":return o.stop()}}))}function v(e,t,a,n,r){var c,o;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return c=x("/repos/".concat(e,"/contents/").concat(t)),o={message:"Music Markdown published ".concat(t),content:m.Base64.encode(a),branch:r},n&&(o.sha=n),l.abrupt("return",fetch(c,{method:"PUT",mode:"cors",body:JSON.stringify(o)}));case 4:case"end":return l.stop()}}))}function y(){var e=localStorage.getItem(f);return e?JSON.parse(e):[]}function w(e){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=x("/repos/".concat(e)),a.next=3,u.a.awrap(fetch(t));case 3:if(404!==a.sent.status){a.next=6;break}throw new Error('"'.concat(e,'" not found on GitHub.'));case 6:case"end":return a.stop()}}))}function k(e){var t=!0,a=!1,n=void 0;try{for(var r,c=y()[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){if(r.value===e)throw new Error('"'.concat(e,'" is already registered.'))}}catch(o){a=!0,n=o}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}}function O(e){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return k(e),a.next=3,u.a.awrap(w(e));case 3:(t=y()).push(e),localStorage.setItem(f,JSON.stringify(t));case 6:case"end":return a.stop()}}))}function j(e){var t,a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=x("/repos/".concat(e,"/branches")),n.next=3,u.a.awrap(fetch(t));case 3:return a=n.sent,n.abrupt("return",a.json());case 5:case"end":return n.stop()}}))}function x(e,t){e=new URL(e,E);var a=C();return a&&e.searchParams.set("access_token",a),t&&e.searchParams.set("ref",t),e}function C(){return localStorage.getItem(b)}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C();return!!e&&!!e.match(/^[0-9a-f]{40}$/)}var T={palette:{type:"light"}},N={palette:{type:"dark"}},A="dark"===window.localStorage.getItem("".concat("music-markdown",":palette-type"))?N:T,G=i.a.createContext(),F=function(){return Object(l.useContext)(G)},I=function(e){var t=Object(l.useState)({githubToken:C(),theme:A,youTubeId:null}),a=Object(o.a)(t,2),n=a[0],r=a[1];return i.a.createElement(G.Provider,{value:{data:n,isValidGithubToken:function(){return S(n.githubToken)},setGithubToken:function(e){e!==n.githubToken&&(r(Object(c.a)({},n,{githubToken:e})),function(e){e?localStorage.setItem(b,e):localStorage.removeItem(b)}(e))},isDarkTheme:function(){return"dark"===n.theme.palette.type},toggleTheme:function(){var e="dark"===n.theme.palette.type?T:N;window.localStorage.setItem("".concat("music-markdown",":palette-type"),e.palette.type),r(Object(c.a)({},n,{theme:e}))},setYouTubeId:function(e){e!==n.youTubeId&&r(Object(c.a)({},n,{youTubeId:e}))}}},e.children)},P=a(17),D=a(47),H=a(479),R=a(171),M=a.n(R),V=a(477),B=a(445),W=a(121),L=a(44),U=a(169),_=Object(U.a)((function(e){return{paper:{padding:"".concat(e.spacing(1),"px")},reactRouterHoverInherit:e.reactRouterHoverInherit}}));function $(e){var t=e.pathname,a=_(),n=t.split("/").filter((function(e){return!!e}));n[3]="browser";var r=function(e,t){for(var a=[],n=[0,3],r="",c=0;c<e.length;c++){var o=e[c];r=r.concat("/",o),-1===n.indexOf(c)&&(c===e.length-1?a.push(i.a.createElement(L.a,{color:"textPrimary",key:"".concat("breadcrumb-item-").concat(c)},o)):a.push(i.a.createElement(B.a,{component:P.b,to:"".concat(r,"/"),key:"".concat("breadcrumb-item-").concat(c),color:"inherit",className:t.reactRouterHoverInherit},o)))}return a}(n,a);return i.a.createElement(W.a,{className:a.paper},i.a.createElement(V.a,null,i.a.createElement(B.a,{component:P.b,to:"/",key:"".concat("breadcrumb-item-","Home"),color:"inherit",className:a.reactRouterHoverInherit},"Home"),r))}var z=a(446),J=a(395),q=a(396),Y=a(447),K=a(448),X=Object(U.a)({root:{flexGrow:1,padding:8}});function Q(e){var t=e.location,a=e.match,n=X(),r=Object(l.useState)([]),c=Object(o.a)(r,2),s=c[0],m=c[1],p=Object(l.useState)(!1),d=Object(o.a)(p,2),h=d[0],b=d[1];return Object(l.useEffect)((function(){!function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(j(a.params.repo));case 2:e=t.sent,m(e),b(!0);case 5:case"end":return t.stop()}}))}()}),[a.params.repo]),h?i.a.createElement(i.a.Fragment,null,i.a.createElement($,{pathname:t.pathname}),i.a.createElement("div",{className:n.root},i.a.createElement(J.a,null,s.map((function(e){return i.a.createElement(q.a,{button:!0,component:P.b,key:"list-group-item-".concat(e.name),to:"/repos/".concat(a.params.repo,"/browser/").concat(e.name,"/")},i.a.createElement(Y.a,null,i.a.createElement(H.a,null,i.a.createElement(M.a,null))),i.a.createElement(K.a,{primary:e.name}))}))))):i.a.createElement(z.a,null)}var Z=a(472),ee=a(76),te=a(23),ae=a(172),ne=a.n(ae),re=a(181),ce=a.n(re),oe=a(453),le=a(89),ie=a.n(le),se=a(452),ue=a(184),me=a.n(ue),pe=a(450),de=a(173),he=a.n(de),be=a(175),fe=a.n(be),Ee=a(174),ge=a.n(Ee),ve=a(399),ye=a(449),we=a(398),ke=a(87),Oe=a.n(ke),je=Object(U.a)((function(e){return{error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing(1)}}}));function xe(e){var t=e.open,a=e.handleClose,n=e.message,r=je();return i.a.createElement(ye.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:6e3,onClose:a},i.a.createElement(we.a,{className:r.error,"aria-describedby":"client-snackbar",message:i.a.createElement("span",{id:"client-snackbar",className:r.message},i.a.createElement(ge.a,{className:Oe()(r.icon,r.iconVariant)}),n),action:[i.a.createElement(ve.a,{key:"close","aria-label":"Close",color:"inherit",className:r.close,onClick:a},i.a.createElement(fe.a,{className:r.icon}))]}))}var Ce=a(176),Se=a.n(Ce),Te=a(177),Ne=a.n(Te),Ae=new Se.a({html:!0}).use(Ne.a),Ge=Object(U.a)((function(e){return{columns:{columnGap:"".concat(20,"px"),columnRuleWidth:"1px",columnRuleStyle:"dashed",columnRuleColor:e.palette.text.secondary}}})),Fe=function(e){var t=e.source,a=e.width,n=e.columnCount,r=e.transposeAmount,c=Object(te.a)(),s=F(),u=Object(l.useState)(""),m=Object(o.a)(u,2),p=m[0],d=m[1],h=Object(l.useState)(),b=Object(o.a)(h,2),f=b[0],E=b[1],g=Object(l.useState)(!1),v=Object(o.a)(g,2),y=v[0],w=v[1];return Object(l.useEffect)((function(){Ae.setTranspose(r).setMaxWidth((a-20*(n-1))/n);try{d(Ae.render(t)),w(!1),s.setYouTubeId(Ae.meta.youTubeId)}catch(e){console.log(e),d("<pre>".concat(t,"</pre>")),E(e.message),w(!0)}}),[s,t,a,n,r]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mmd-".concat(c.palette.type),dangerouslySetInnerHTML:{__html:p}}),i.a.createElement(xe,{message:f,open:y,handleClose:function(e,t){"clickaway"!==t&&w(!1)}}))};function Ie(e){var t=Ge();return i.a.createElement("div",{className:t.columns,style:{columnCount:e.columnCount}},i.a.createElement(he.a,null,i.a.createElement(Fe,e)))}var Pe=a(183),De=a.n(Pe),He=a(182),Re=a.n(He),Me=a(451),Ve=a(178),Be=a(95),We=a.n(Be);a(364),a(365),a(366);var Le=Object(U.a)((function(e){return{root:{flexGrow:1,padding:8},fabProgress:{color:We.a[500],position:"absolute",top:-6,left:-6,zIndex:1},editor:{marginLeft:e.spacing(1),marginRight:e.spacing(1),height:"100%",width:"100%"},fab:{margin:e.spacing(1)},toolbar:{display:"flex",padding:e.spacing(1)},paper:{padding:e.spacing(2),height:"100%"},buttonSuccess:{backgroundColor:We.a[500],"&:hover":{backgroundColor:We.a[700]}}}}));function Ue(e){var t=e.match,a=e.location,n=Le(),r=Object(te.a)(),c=F(),s=Object(l.useState)(""),m=Object(o.a)(s,2),p=m[0],d=m[1],h=function(e,t){var a=Object(l.useState)(""),n=Object(o.a)(a,2),r=n[0],c=n[1];return Object(l.useEffect)((function(){var a=setTimeout((function(){return c(e)}),t);return function(){return clearTimeout(a)}}),[e,t]),r}(p,250),b=Object(l.useState)(),f=Object(o.a)(b,2),E=f[0],y=f[1],w=Object(l.useState)(!1),k=Object(o.a)(w,2),O=k[0],j=k[1],x=Object(l.useState)(!1),C=Object(o.a)(x,2),S=C[0],T=C[1],N=Object(l.useState)(!1),A=Object(o.a)(N,2),G=A[0],I=A[1],D=Object(l.useState)(!1),H=Object(o.a)(D,2),R=H[0],M=H[1],V=t.params,B=V.repo,L=V.path,U=V.branch;Object(l.useEffect)((function(){!function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(g(B,L,U));case 2:e=t.sent,M(!0),d(e.content),y(e.sha);case 6:case"end":return t.stop()}}))}()}),[B,L,U]);var _=Oe()(Object(ee.a)({},n.buttonSuccess,S)),J=a.pathname.split("/");J[4]="viewer";var q=J.join("/"),Y=[J[2],J[3],"blob"].concat(J.slice(5)),K="https://github.com/".concat(Y.join("/"));return R?i.a.createElement(i.a.Fragment,null,i.a.createElement($,{pathname:a.pathname}),i.a.createElement("div",{className:n.root},i.a.createElement(pe.a,{container:!0,spacing:1},i.a.createElement(pe.a,{item:!0,xs:12},i.a.createElement(W.a,{className:n.toolbar},i.a.createElement(Me.a,{title:c.isValidGithubToken()?"Save":"Add a GitHub Token to Enable Saving"},i.a.createElement("span",null,i.a.createElement(se.a,{disabled:!G||!c.isValidGithubToken(),className:"".concat(_," ").concat(n.fab),onClick:function(){var e,t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(O){a.next=10;break}return T(!1),j(!0),a.next=5,u.a.awrap(v(B,L,p,E,U));case 5:return e=a.sent,a.next=8,u.a.awrap(e.json());case 8:t=a.sent,200===e.status?(T(!0),j(!1),y(t.content.sha)):(T(!1),j(!1));case 10:case"end":return a.stop()}}))}},S?i.a.createElement(ce.a,null):i.a.createElement(Re.a,null),O&&i.a.createElement(oe.a,{size:68,className:n.fabProgress})))),i.a.createElement(Me.a,{title:"Auto Format"},i.a.createElement(se.a,{className:n.fab,onClick:function(){d(Object(Ve.a)(p))}},i.a.createElement(De.a,null))),i.a.createElement(Me.a,{title:"Return to Markdown View"},i.a.createElement(se.a,{component:P.b,to:q,className:n.fab},i.a.createElement(ie.a,null))),i.a.createElement(Me.a,{title:"Open in GitHub"},i.a.createElement(se.a,{href:K,target:"_blank",className:n.fab},i.a.createElement(me.a,null))))),i.a.createElement(pe.a,{item:!0,xs:6},i.a.createElement(W.a,{className:n.paper},i.a.createElement(ne.a,{mode:"markdown",theme:"dark"===r.palette.type?"twilight":"textmate",width:"100%",maxLines:1/0,className:n.editor,onChange:function(e){d(e),I(!0),T(!1)},value:p,editorProps:{$blockScrolling:!0}}))),i.a.createElement(pe.a,{item:!0,xs:6},i.a.createElement(W.a,{className:n.paper},i.a.createElement(Ie,{source:h})))))):i.a.createElement(z.a,null)}var _e=a(43),$e=a.n(_e),ze=Object(U.a)({root:{flexGrow:1,padding:8}});function Je(e){var t=e.location,a=e.match,n=ze(),r=Object(l.useState)(),c=Object(o.a)(r,2),s=c[0],m=c[1],d=Object(l.useState)(!1),b=Object(o.a)(d,2),f=b[0],E=b[1];Object(l.useEffect)((function(){!function(){var e,t,n,r,c;u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=a.params,t=e.repo,n=e.path,r=e.branch,o.next=3,u.a.awrap(g(t,n,r));case 3:c=o.sent,m(c.content),E(!0);case 6:case"end":return o.stop()}}))}()}),[a.params]);var v=$e.a.parse(t.search),y=v[p]||"1",w=Number(v[h])||0;return f?i.a.createElement("div",{className:n.root},i.a.createElement(Ie,{source:s,columnCount:y,transposeAmount:w})):i.a.createElement(z.a,null)}var qe=a(471),Ye=a(463),Ke=a(460),Xe=a(397),Qe=a(192),Ze=a.n(Qe),et=a(466),tt=a(478),at=a(459),nt=a(457),rt=a(456),ct=a(185),ot=a.n(ct),lt=a(476),it=a(455),st=a(454),ut=a(473),mt=a(4),pt=Object(mt.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)"}})(st.a),dt=function(){return i.a.createElement(lt.a,null,i.a.createElement(it.a,{expandIcon:i.a.createElement(ot.a,null)},i.a.createElement(L.a,null,"Set a ",i.a.createElement("b",null,"GitHub Token")," to create or change Music Markdown files in GitHub.")),i.a.createElement(pt,null,i.a.createElement("div",null,i.a.createElement("h1",null,"How to Create a New Token"),i.a.createElement("p",null,"These instructions will help you create a new GitHub token, and add it to Music Markdown so that you can use the Music Markdown editor."),i.a.createElement("ol",null,i.a.createElement("li",null,"Open your"," ",i.a.createElement("a",{href:"https://github.com/settings/tokens"},"Personal access tokens")," ","page in GitHub."),i.a.createElement("li",null,"Click ",i.a.createElement("b",null,"Generate new token"),"."),i.a.createElement("li",null,"Under ",i.a.createElement("b",null,"Note")," type ",i.a.createElement("b",null,"Music Markdown"),"."),i.a.createElement("li",null,"Under ",i.a.createElement("b",null,"scopes")," grant ",i.a.createElement("b",null,"repo")," permissions."),i.a.createElement("li",null,"Scroll to the bottom and click ",i.a.createElement("b",null,"Generate token"),"."),i.a.createElement("li",null,"Copy the newly generated token and paste it below.")))))};function ht(e){var t=e.open,a=e.handleClose,n=F(),r=Object(l.useState)(n.data.githubToken),c=Object(o.a)(r,2),s=c[0],u=c[1],m=function(e){return""===e||S(e)},p=function(){u(n.data.githubToken),a()};return i.a.createElement(tt.a,{open:t,onClose:p},i.a.createElement(rt.a,{id:"set-github-api-key"},"Set GitHub Token"),i.a.createElement(nt.a,null,i.a.createElement(dt,null)),i.a.createElement(nt.a,null,i.a.createElement(ut.a,{autoFocus:!0,margin:"dense",label:"GitHub Token",fullWidth:!0,value:s||"",onChange:function(e){return u(e.target.value)},error:!m(s),helperText:"Warning: GitHub tokens are very sensitive. Anyone who  gains access to this token will have access to your GitHub account. Please proceed with caution."})),i.a.createElement(at.a,null,i.a.createElement(Ke.a,{onClick:p,color:"secondary"},"Cancel"),i.a.createElement(Ke.a,{onClick:function(){m(s)&&(n.setGithubToken(s),a())},color:"primary",disabled:!m(s)},""===s?"Clear":"Save")))}var bt=a(465),ft=a(458),Et=a(461),gt=a(190),vt=a.n(gt),yt=a(400),wt=a(481),kt=a(462),Ot=a(474),jt=a(189),xt=a.n(jt),Ct=a(187),St=a.n(Ct),Tt=a(188),Nt=a.n(Tt),At=Object(U.a)((function(e){return{paper:{position:"fixed",bottom:e.spacing(1),right:e.spacing(1),padding:e.spacing(2),cursor:"move"}}}));function Gt(e){var t=e.youTubeId,a=At();return i.a.createElement(St.a,null,i.a.createElement(W.a,{className:a.paper},i.a.createElement("iframe",{title:t,style:{border:0},src:"https://www.youtube.com/embed/".concat(t),allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))}function Ft(){var e=F(),t=Object(l.useState)(!1),a=Object(o.a)(t,2),n=a[0],r=a[1];Object(l.useEffect)((function(){r(!e.data.youTubeId)}),[e.data.youTubeId]);return e.data.youTubeId?i.a.createElement(i.a.Fragment,null,i.a.createElement(Me.a,{title:"Show / Hide YouTube Player"},i.a.createElement(ve.a,{color:n?"secondary":"default",onClick:function(){r(!n)}},i.a.createElement(Nt.a,null))),n?i.a.createElement(Gt,{youTubeId:e.data.youTubeId}):""):null}var It=Object(U.a)((function(e){return{popper:{zIndex:9999},paper:{padding:e.spacing(2)},slider:{width:300}}})),Pt=function(e,t,a,n){var r=$e.a.parse(e.location.search);a===n?delete r[t]:r[t]=a,e.history.push({search:$e.a.stringify(r)})},Dt=function(e){var t=It(),a=Object(l.useState)(),n=Object(o.a)(a,2),r=n[0],c=n[1],s=$e.a.parse(e.location.search)[p]||"1";return i.a.createElement(i.a.Fragment,null,i.a.createElement(Me.a,{title:"Set Number of Columns"},i.a.createElement(ve.a,{onClick:function(e){c(r?void 0:e.currentTarget)}},i.a.createElement(Et.a,{badgeContent:s,invisible:"1"===s,color:"secondary"},i.a.createElement(xt.a,null)))),i.a.createElement(yt.a,{className:t.popper,open:!!r,anchorEl:r},i.a.createElement(Xe.a,{onClickAway:function(e){r.contains(e.target)||c(void 0)}},i.a.createElement(Ot.a,{value:s,exclusive:!0,onChange:function(t,a){return Pt(e,p,a,"1")}},["1","2","3","4","5","6","7","8"].map((function(e){return i.a.createElement(kt.a,{value:e,key:e},e)}))))))},Ht=function(e){var t=It(),a=Object(l.useState)(),n=Object(o.a)(a,2),r=n[0],c=n[1],s=$e.a.parse(e.location.search)[h]||"0";return i.a.createElement(i.a.Fragment,null,i.a.createElement(Me.a,{title:"Transpose Up / Down"},i.a.createElement(ve.a,{onClick:function(e){c(r?void 0:e.currentTarget)}},i.a.createElement(Et.a,{badgeContent:s,invisible:"0"===s,color:"secondary"},i.a.createElement(vt.a,null)))),i.a.createElement(yt.a,{className:t.popper,open:!!r,anchorEl:r},i.a.createElement(Xe.a,{onClickAway:function(e){r.contains(e.target)||c(void 0)}},i.a.createElement(W.a,{className:t.paper},i.a.createElement(wt.a,{className:t.slider,value:Number(s),min:-12,max:12,step:1,marks:!0,onChange:function(t,a){return Pt(e,h,String(a),"0")}})))))};function Rt(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ft,{youTubeId:e.youTubeId}),i.a.createElement(Ht,e),i.a.createElement(Dt,e))}var Mt=a(193),Vt=a.n(Mt),Bt=a(194),Wt=a.n(Bt),Lt=a(480),Ut=a(464),_t=a(191),$t=a.n(_t),zt=Object(U.a)((function(e){return{reactRouterHoverInherit:e.reactRouterHoverInherit,paper:{padding:"".concat(e.spacing(1),"px")},grow:{flexGrow:1},filter:{filter:"dark"===e.palette.type?"invert(100%)":""}}})),Jt=function(e){var t=e.match;return i.a.createElement(Me.a,{title:"Song List View"},i.a.createElement(ve.a,{component:P.b,to:"/repos/".concat(t.params.repo,"/browser/").concat(t.params.branch,"/")},i.a.createElement($t.a,null)))},qt=function(e){var t=e.match;return i.a.createElement(Me.a,{title:"Edit Song"},i.a.createElement("span",null,i.a.createElement(ve.a,{component:P.b,to:"/repos/".concat(t.params.repo,"/editor/").concat(t.params.branch,"/").concat(t.params.path)},i.a.createElement(Ze.a,null))))},Yt=function(e){var t=e.match;return i.a.createElement(Me.a,{title:"Markdown View"},i.a.createElement(ve.a,{component:P.b,to:"/repos/".concat(t.params.repo,"/viewer/").concat(t.params.branch,"/").concat(t.params.path)},i.a.createElement(ie.a,null)))},Kt=function(){return i.a.createElement(ve.a,null,i.a.createElement(Vt.a,null))};function Xt(){var e=zt(),t=F(),a=Object(l.useState)(!1),n=Object(o.a)(a,2),r=n[0],c=n[1],s=Object(l.useState)(!1),u=Object(o.a)(s,2),m=u[0],p=u[1],h=Object(l.useState)(),b=Object(o.a)(h,2),f=b[0],E=b[1],g=function(){p(!m)};return i.a.createElement(Ye.a,{position:"sticky",key:"top-navbar"},i.a.createElement(Ut.a,null,i.a.createElement(Ke.a,{className:e.reactRouterHoverInherit,component:P.b,to:"/"},i.a.createElement("img",{className:e.filter,src:"music-markdown.svg",width:50,alt:"Music Markdown"})),i.a.createElement("div",{className:e.grow}),i.a.createElement(D.b,{path:"".concat(d,"/:mode/:branch/:path*"),component:Kt}),i.a.createElement(D.b,{path:["/sandbox","".concat(d,"/:mode(viewer|editor)/:branch/:path*")],component:Rt}),i.a.createElement(D.b,{path:"".concat(d,"/:mode(viewer|editor)/:branch/:path*"),component:Jt}),i.a.createElement(D.b,{path:"".concat(d,"/viewer/:branch/:path*"),component:qt}),i.a.createElement(D.b,{path:"".concat(d,"/editor/:branch/:path*"),component:Yt}),i.a.createElement(ve.a,{onClick:g,buttonRef:E},i.a.createElement(Wt.a,null)),i.a.createElement(yt.a,{id:"settings-popper",open:m,anchorEl:f,placement:"bottom-end"},i.a.createElement(W.a,{className:e.paper},i.a.createElement(Xe.a,{onClickAway:g},i.a.createElement(ft.a,null,i.a.createElement(bt.a,null,i.a.createElement(et.a,{control:i.a.createElement(Lt.a,{defaultChecked:t.isDarkTheme(),onChange:function(){t.toggleTheme()},value:"darkTheme"}),label:"Toggle Dark Mode?"})),i.a.createElement(bt.a,{onClick:function(){c(!0),p(!1)}},"Set GitHub Token")))))),i.a.createElement(ht,{open:r,handleClose:function(){c(!1),p(!1)}}))}var Qt=a(92),Zt=a.n(Qt),ea=Object(U.a)((function(e){return{grid:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function ta(e){var t=e.handleAddRepository,a=ea(),n=Object(l.useState)(!1),r=Object(o.a)(n,2),c=r[0],s=r[1],m=Object(l.useState)(""),p=Object(o.a)(m,2),d=p[0],h=p[1],b=Object(l.useState)(""),f=Object(o.a)(b,2),E=f[0],g=f[1],v=Object(l.useState)(null),y=Object(o.a)(v,2),w=y[0],k=y[1],O=Object(l.useState)(!1),j=Object(o.a)(O,2),x=j[0],C=j[1],S=function(){s(!1),h(""),g(""),C(!1)},T=function(e){k(e),C(!0)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(pe.a,{container:!0,className:a.grid,direction:"row",justify:"flex-end",alignItems:"flex-end"},i.a.createElement(se.a,{"aria-label":"Add",onClick:function(){s(!0)}},i.a.createElement(Zt.a,null)),i.a.createElement(tt.a,{open:c,"aria-labelledby":"add-repository-dialog"},i.a.createElement(rt.a,{id:"add-repository-dialog-title"},"Add Repository"),i.a.createElement(nt.a,null,i.a.createElement(ut.a,{autoFocus:!0,margin:"dense",id:"owner",label:"Repository Owner",value:E,onChange:function(e){g(e.target.value)},fullWidth:!0}),i.a.createElement(ut.a,{margin:"dense",id:"name",label:"Repository Name",value:d,onChange:function(e){h(e.target.value)},fullWidth:!0})),i.a.createElement(at.a,null,i.a.createElement(Ke.a,{onClick:S},"Cancel"),i.a.createElement(Ke.a,{onClick:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.awrap(t("".concat(E,"/").concat(d)));case 3:S(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),T(e.t0.message);case 9:case"end":return e.stop()}}),null,null,[[0,6]])}},"Add")))),i.a.createElement(xe,{message:w,open:x,handleClose:function(e,t){"clickaway"!==t&&C(!1)}}))}var aa=a(195),na=a.n(aa),ra=a(196),ca=a.n(ra),oa=a(467),la=Object(U.a)({root:{flexGrow:1,padding:8}});function ia(){var e=la(),t=Object(l.useState)([]),a=Object(o.a)(t,2),n=a[0],r=a[1],c=JSON.stringify(n);Object(l.useEffect)((function(){m()}),[c]);var s=function(e){!function(e){var t=y().filter((function(t){return t!==e}));localStorage.setItem(f,JSON.stringify(t))}(e),m()},m=function(){r(y())};return i.a.createElement("div",{className:e.root},i.a.createElement(J.a,null,n.map((function(e){return i.a.createElement(q.a,{button:!0,key:"repo-item-".concat(e),component:P.b,to:"/repos/".concat(e,"/")},i.a.createElement(Y.a,null,i.a.createElement(H.a,null,i.a.createElement(na.a,null))),i.a.createElement(K.a,{primary:e}),i.a.createElement(oa.a,null,i.a.createElement(ve.a,{"aria-label":"Delete",onClick:function(){return s(e)}},i.a.createElement(ca.a,null))))}))),i.a.createElement(ta,{handleAddRepository:function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(O(e));case 2:m();case 3:case"end":return t.stop()}}))}}))}var sa=a(468),ua=a(469),ma=a(470),pa=Object(U.a)((function(e){return{whitespacePre:{whiteSpace:"pre-line",fontFamily:"monospace"},grid:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function da(e){var t=e.match,a=pa(),n=F(),r=Object(l.useState)(""),c=Object(o.a)(r,2),s=c[0],m=c[1],p=Object(l.useState)(!1),d=Object(o.a)(p,2),h=d[0],b=d[1],f=Object(l.useState)(!1),E=Object(o.a)(f,2),g=E[0],y=E[1],w=Object(l.useState)(""),k=Object(o.a)(w,2),O=k[0],j=k[1],x=Object(l.useState)(!1),C=Object(o.a)(x,2),S=C[0],T=C[1],N=function(e){j(e),T(!0)},A=function(){return!!s.match(/^[^<>:"/\\|?*]+$/)},G=function(){return"---\n---\n\n# ".concat(s)},I=function(){return t.params.path?"".concat(t.params.path,"/").concat(s,".md"):"".concat(s,".md")},P=t.params,H=P.repo,R=P.branch;return g?i.a.createElement(D.a,{to:"/repos/".concat(H,"/editor/").concat(R,"/").concat(I())}):i.a.createElement(i.a.Fragment,null,i.a.createElement(pe.a,{container:!0,className:a.grid,direction:"row",justify:"flex-end",alignItems:"flex-end"},i.a.createElement(Me.a,{title:n.isValidGithubToken()?"Add Song":"Add a GitHub Token to Enable Editing"},i.a.createElement("span",null,i.a.createElement(se.a,{"aria-label":"Add",disabled:!n.isValidGithubToken(),onClick:function(){b(!0)}},i.a.createElement(Zt.a,null)))),i.a.createElement(tt.a,{open:h,"aria-labelledby":"add-new-file-dialog",fullWidth:!0},i.a.createElement(rt.a,{id:"add-new-file-dialog-title"},"Create New Music Markdown File"),i.a.createElement(nt.a,null,i.a.createElement(sa.a,{className:a.previewCard},i.a.createElement(ua.a,null,i.a.createElement(L.a,{variant:"caption",color:"textSecondary",gutterBottom:!0},"Preview"),i.a.createElement(L.a,{variant:"body1",color:"textPrimary",className:a.whitespacePre},G()))),i.a.createElement(ut.a,{autoFocus:!0,margin:"dense",id:"owner",label:"Music Markdown File Name",value:s,onChange:function(e){m(e.target.value)},fullWidth:!0,error:!A(),helperText:A()?i.a.createElement(i.a.Fragment,null,H,"/",R,"/",I()):"Invalid file name",InputProps:{endAdornment:i.a.createElement(ma.a,{position:"end"},".md")}})),i.a.createElement(at.a,null,i.a.createElement(Ke.a,{onClick:function(){b(!1),m("")},color:"secondary"},"Cancel"),i.a.createElement(Ke.a,{onClick:function(){var e,a,n,r,c,o;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=t.params,a=e.repo,n=e.branch,r=I(),c=G(),l.next=5,u.a.awrap(v(a,r,c,void 0,n));case 5:if(201===(o=l.sent).status){l.next=9;break}return N("".concat(o.status,": ").concat(o.statusText)),l.abrupt("return");case 9:y(!0);case 10:case"end":return l.stop()}}))},color:"primary",disabled:!A()},"Create")))),i.a.createElement(xe,{message:O,open:S,handleClose:function(e,t){"clickaway"!==t&&T(!1)}}))}var ha=a(198),ba=a.n(ha),fa=a(197),Ea=a.n(fa),ga=Object(U.a)({root:{flexGrow:1,padding:8}});function va(e){e.sort((function(e,t){return"file"===e.type?"file"===t.type?e.name-t.name:1:"file"===t.type?-1:e.name-t.name}))}function ya(e){var t=e.match,a=e.location,n=ga(),r=Object(l.useState)([]),c=Object(o.a)(r,2),s=c[0],m=c[1],p=Object(l.useState)(!1),d=Object(o.a)(p,2),h=d[0],b=d[1];Object(l.useEffect)((function(){!function(){var e,a,n,r,c;u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.params,a=e.repo,n=e.path,r=e.branch,o.next=3,u.a.awrap(g(a,n,r));case 3:va(c=o.sent),m(c),b(!0);case 7:case"end":return o.stop()}}))}()}),[t.params]);var f=t.params,E=f.repo,v=f.branch;return h?i.a.createElement(i.a.Fragment,null,i.a.createElement($,{pathname:a.pathname}),i.a.createElement("div",{className:n.root},i.a.createElement(J.a,{key:"repo-navigation-list"},s.map((function(e){return i.a.createElement(q.a,{button:!0,component:P.b,key:"list-group-item-".concat(e.name),to:"dir"===e.type?"/repos/".concat(E,"/browser/").concat(v,"/").concat(e.path,"/"):"/repos/".concat(E,"/viewer/").concat(v,"/").concat(e.path)},i.a.createElement(Y.a,null,i.a.createElement(H.a,null,"dir"===e.type?i.a.createElement(Ea.a,null):i.a.createElement(ba.a,null))),"dir"===e.type?i.a.createElement(K.a,{secondary:e.name}):i.a.createElement(K.a,{primary:e.name}))}))),i.a.createElement(da,{location:a,match:t}))):i.a.createElement(z.a,null)}var wa="app-container";function ka(e){return i.a.createElement(pe.a,{key:wa},e.children)}var Oa=a(88),ja=a(116),xa=Object(U.a)((function(e){return{root:{flexGrow:1,padding:8},chordSourcePaper:{margin:e.spacing(1),padding:e.spacing(2)},chordCategoryPaper:{margin:e.spacing(1),textAlign:"center"},chordCategoryTypography:{color:e.palette.text.primary,textAlign:"center"},chordVariantPaper:{display:"inline-block",margin:e.spacing(1),textAlign:"center"},chordVariantTypography:{color:e.palette.text.secondary},chordDiagram:{filter:"dark"===e.palette.type?"invert(100%)":""}}}));function Ca(e){var t=e.location,a=e.match,n=xa();return i.a.createElement("div",{className:n.root},i.a.createElement(L.a,{variant:"h2"},"Sandbox"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(P.b,{to:"".concat(a.url,"/all-features-in-one-place")},"All the Features in One Place")),i.a.createElement("li",null,i.a.createElement(P.b,{to:"".concat(a.url,"/guitar-chordbook")},"Guitar Chordbook"))),i.a.createElement(D.b,{path:"".concat(a.path,"/all-features-in-one-place"),component:function(){return i.a.createElement(Sa,{location:t,source:Ia})}}),i.a.createElement(D.b,{path:"".concat(a.path,"/guitar-chordbook"),component:Aa}))}var Sa=function(e){var t=e.source,a=e.location,n=$e.a.parse(a.search),r=n[p]||"1",c=Number(n[h])||0;return i.a.createElement(Ie,{source:t,columnCount:r,transposeAmount:c})},Ta=["C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb","B"],Na=["","m","6","m6","7","maj7","m7","9","dim","aug","sus2","7sus2","sus4","7sus4","5","dim5","dim7","7b5","m7b5","7#5","7b9","7#9","7b9#5","7/6","9b5","9#5","maj9","m9","9/6","m9/6","add9","11","m11","11aug","13","13b9","13b9b5"],Aa=function(e){var t=e.location,a=xa();return i.a.createElement(i.a.Fragment,null,i.a.createElement(L.a,{variant:"h3"},"Guitar Chordbook"),i.a.createElement(W.a,{className:a.chordSourcePaper},i.a.createElement(Sa,{source:Fa,location:t})),Ta.map((function(e,t){return i.a.createElement(W.a,{key:"category-".concat(t),className:a.chordCategoryPaper},i.a.createElement(L.a,{className:a.chordCategoryTypography,variant:"h4"},e," Chords"),i.a.createElement(Ga,{category:e}))})))},Ga=function(e){var t=e.category,a=xa();return Array.from(Oa.guitarChordbook.keys()).filter((function(e){return e.match(/^[CDEFGAB](?:#|b)?|N\.C\./)[0]===t})).map((function(e,t){return i.a.createElement(W.a,{key:"chord-".concat(t),className:a.chordVariantPaper},Oa.guitarChordbook.get(e).map((function(e,t){return i.a.createElement("span",{className:a.chordDiagram,key:"variant-".concat(t),dangerouslySetInnerHTML:{__html:Object(ja.renderChordDiagram)(e)}})})),i.a.createElement(L.a,{className:a.chordVariantTypography,variant:"h5"},e))}))},Fa="---\n---\n".concat(Ta.map((function(e){return"## ".concat(e," Chords\nc1: ").concat(Na.map((function(t){return e+t})).join(" "))})).join("\n\n"),"\n"),Ia='---\nyouTubeId: dN3GbF9Bx6E\n---\n\n# All the Features in One Place\n\n## Chord and Lyrics\nc1: Em               D           Em\nl1: Are you goin\' to Scarborough Fair?\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\n\nc1: Em       G                   D\nl1: Remember me to one who lives there\n\nc1: Em       D                  Em\nl1: She once was a true love of mine\n\n## Multiple Overlapping Voices\nc1: Em                         D         Em\nl1: Tell her to make me a      cambric   shirt\nl2:                     On the side of a hill in the deep forest green\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\nl2:                              Tracing a sparrow on snow-crested ground\n\nc1: Em         G               D\nl1: Without no seams nor needlework\nl2:                      Blankets and bedclothes the child of the mountain\n\nc1: Em          D                 Em\nl1: Then she\'ll be a true love of mine\nl2:                               Sleeps unaware of the clarion call\n\n## VexTab\n\n:::vextab\noptions space=20\n\ntabstave\n  notation=true\n  key=A time=4/4\n\n  notes :q =|: (5/2.5/3.7/4) :8 7-5h6/3 ^3^ 5h6-7/5 ^3^ :q 7V/4 |\n  notes :8 t12p7/4 s5s3/4 :8 3s:16:5-7/5 :h p5/4\n  text :w, |#segno, ,|, :hd, , #tr\n\n\noptions space=25\n\ntabstave\n  notation=true\n\n  notes :q (5/4.5/5) (7/4.7/5)s(5/4.5/5) ^3^\n  notes :8 7-5/4 $.a./b.$ (5/4.5/5)h(7/5) =:|\n  notes :8 (12/5.12/4)ds(5/5.5/4)u 3b4/5\n  notes :h (5V/6.5/4.6/3.7/2) $.italic.let ring$ =|=\n\n  text :h, ,.font=Times-12-italic, D.S. al coda, |#coda\n  text :h, ,.-1, .font=Arial-14-bold,A13\n  text ++, .23, #f\n :::\n\n## ABC\n\n:::abc\nX: 1\nM: 4/4\nL: 1/16\nK: Amin\n"Am" (C16 | C4) B,2C2 D6 CB, | (C16 | C4) B,2C2 "F" D6 CA, |\n"C" G,8 "E" _A,8 | "Am" =A,8 "F" (3F4 F4 F4 | "E" F2 (E6 E8) | z6 ^A2 B4 e4 |\n"Am" e2d2c2(d2 "G" d4) .=A4 | "F" e2d2c2(d2 "G" d4) .A4 |\n"Esus4" e4 e4 e2d2B2d2 | "E" e4 e4 e2g2e2d2 |\n"Am" .e4 c2 "G" .d4 c2 e4 | "F" z2 c2 e2 "G" d6 c2d2 |\n"Esus4" e2e2e2d2 d2B2B2_A2 | "E" _A2F2F2E2 =A2B2A2G2 |\n:::\n\n',Pa=a(199),Da=a.n(Pa),Ha=function(){var e=F();return i.a.createElement(qe.a,{theme:Da()(e.data.theme)},i.a.createElement(Z.a,null),i.a.createElement(ka,null,[Ra()]))},Ra=function(){return i.a.createElement(P.a,{key:"home-router"},i.a.createElement(i.a.Fragment,null,i.a.createElement(D.b,{component:Xt}),i.a.createElement(D.d,null,i.a.createElement(D.b,{path:"".concat(d,"/viewer/:branch/:path+"),component:Je}),i.a.createElement(D.b,{path:"".concat(d,"/browser/:branch/:path*"),component:ya}),i.a.createElement(D.b,{path:"".concat(d,"/editor/:branch/:path*"),component:Ue}),i.a.createElement(D.b,{path:d,component:Q}),i.a.createElement(D.b,{path:"/sandbox",component:Ca}),i.a.createElement(D.b,{path:"/",component:ia}))))},Ma=function(){return i.a.createElement(I,null,i.a.createElement(Ha,null))},Va=a(13);a.n(Va).a.render(i.a.createElement(Ma,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");n?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):r(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):r(t,e)}))}}()}},[[211,1,2]]]);
//# sourceMappingURL=main.3ffabf1c.chunk.js.map