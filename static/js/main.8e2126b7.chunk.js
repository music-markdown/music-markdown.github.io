(this["webpackJsonpmusic-markdown"]=this["webpackJsonpmusic-markdown"]||[]).push([[0],{206:function(e,t,n){"use strict";(function(e,c,a){const{isChord:o}=n(91),s=1,r=2,i=3;function l(e){return e.endsWith(":")?"## ".concat(e.slice(0,-1)):e.startsWith("[")&&e.endsWith("]")?"## ".concat(e.slice(1,-1)):null}function j(e){const t=e.trim().split(/\s+/);for(const n of t)if(!o(n))return null;return"c1: ".concat(e)}function b(e){let t=s,n=1;const c=e.split(/\n/),a=[];for(const o of c)if(o.startsWith(":::"))t=i,a.push(o);else if(t!==s)if(t!==r)t!==i||(":::"===o&&(t=s),a.push(o));else{const e=l(o);if(e){t=s,a.push(""),a.push(e);continue}const c=j(o);if(c){a.push(""),a.push(c),n=1;continue}if(""===o.trim())continue;a.push("l".concat(n,": ").concat(o)),n+=1}else{const e=l(o);if(e){a.push(e);continue}const c=j(o);if(c){t=r,a.push(c),n=1;continue}a.push(o)}return a.join("\n")}n.c[n.s]===a&&async function(){console.log(b(await async function(t){let n=e.alloc(0);for await(const c of t)n=e.concat([n,c]);return n.toString("utf8")}(c.stdin)))}(),t.a=b}).call(this,n(161).Buffer,n(268),n(269)(e))},392:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(44),s=n.n(o),r=n(19),i=n(12),l=n(98);async function j(e,t,n,c,a,o){const s={message:"Music Markdown published ".concat(t),content:l.a.encode(n),branch:a};return c&&(s.sha=c),d("/repos/".concat(e,"/contents/").concat(t),{method:"PUT",mode:"cors",body:JSON.stringify(s),gitHubToken:o})}function b(e){return!!e&&(!!e.match(/^[0-9a-f]{40}$/)||!!e.match(/^ghp_[a-zA-Z0-9]{36}$/))}async function d(e,{gitHubToken:t,...n}){const c=new URL(e,"https://api.github.com");return t&&(n={...n,headers:{Authorization:"token ".concat(t)}}),fetch(new Request(c,n))}function h(e,t){const[n,a]=Object(c.useState)((()=>{try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.log(n),t}}));return[n,t=>{try{const c=t instanceof Function?t(n):t;a(c),t?localStorage.setItem(e,JSON.stringify(c)):localStorage.removeItem(e)}catch(c){console.log(c)}}]}var u=n(0);const O=Object(c.createContext)(),p=()=>Object(c.useContext)(O);function x({children:e}){const[t,n]=h("gitHubToken","");return Object(u.jsx)(O.Provider,{value:{gitHubToken:t,setGitHubToken:e=>{if(e&&!b(e))throw new Error('"'.concat(e,'" is not valid.'));n(e)}},children:e})}function m(e,t){const{gitHubToken:n}=p(),[a,o]=Object(c.useState)(!0),[s,r]=Object(c.useState)(t);return Object(c.useEffect)((()=>{o(!0);(async()=>{const t=await d(e,{gitHubToken:n,cache:"no-cache"});r(await t.json()),o(!1)})()}),[e,n]),{loading:a,value:s}}function g(e,t,n){const{loading:c,value:a}=m("/repos/".concat(e,"/contents/").concat(t||"","?ref=").concat(n));return{loading:c,value:a,content:(null===a||void 0===a?void 0:a.content)?l.a.decode(a.content):""}}const f=Object(c.createContext)(),v=()=>Object(c.useContext)(f);function w(){const[e,t]=Object(c.useState)([]),{repos:n}=v(),{gitHubToken:a}=p();return Object(c.useEffect)((()=>{(async()=>{t(await async function(e,{gitHubToken:t}){return Promise.all(e.map((async e=>(await d("/repos/".concat(e),{gitHubToken:t})).json())))}(n,{gitHubToken:a}))})()}),[n,a]),e}function y({children:e}){const[t,n]=h("repos",[]),{gitHubToken:c}=p();return Object(u.jsx)(f.Provider,{value:{repos:t,setRepos:n,addRepo:async e=>{if(t.includes(e))throw new Error('"'.concat(e,'" is already registered.'));await async function(e,{gitHubToken:t}){if(404===(await d("/repos/".concat(e),{gitHubToken:t})).status)throw new Error('"'.concat(e,'" not found on GitHub.'))}(e,{gitHubToken:c}),n([...t,e])},deleteRepo:e=>{n(t.filter((t=>t!==e)))}},children:e})}var k=n(490),C=n(469);const S=Object(c.createContext)();function T({children:e}){const[t,n]=Object(c.useState)(!1),[a,o]=Object(c.useState)(""),s=()=>n(!1);return Object(u.jsxs)(S.Provider,{value:{showSnackbar:e=>{o(e),n(!0)}},children:[e,Object(u.jsx)(k.a,{open:t,autoHideDuration:6e3,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(u.jsx)(C.a,{onClose:s,severity:"success",children:a})})]})}var N=n(454),A=n(456),E=n(455),H=n(492),G=n(214);const F={light:{palette:{mode:"light"}},dark:{palette:{mode:"dark"}}},I=Object(c.createContext)();function P({children:e}){const t=Object(N.a)("(prefers-color-scheme: dark)"),[n,c]=h("themeName","system"),a=()=>F["system"===n?t?"dark":"light":n];return Object(u.jsx)(I.Provider,{value:{themeName:n,setThemeName:c,getTheme:a},children:Object(u.jsx)(E.a,{injectFirst:!0,children:Object(u.jsxs)(H.a,{theme:Object(G.a)(a()),children:[Object(u.jsx)(A.a,{}),e]})})})}const R=Object(c.createContext)(),W=()=>Object(c.useContext)(R);function M({children:e}){const[t,n]=Object(c.useState)(null);return Object(u.jsx)(R.Provider,{value:{youTubeId:t,setYouTubeId:n},children:e})}const B="columns",D="/repos/:repo([^/]+/[^/]+)";var z=n(501),L=n(483),_=n(493),V=n(477),U=n(457);const $=Object(U.a)("img")((({theme:e})=>({filter:"dark"===e.palette.mode?"invert(100%)":""})));function J(){return Object(u.jsx)(V.a,{component:r.b,to:"/",children:Object(u.jsx)($,{src:"music-markdown.svg",width:50,alt:"Music Markdown"})})}var q=n(197),Y=n.n(q),K=n(473),X=n(481),Z=n(453),Q=n(464),ee=n(480),te=n(463),ne=n(403),ce=n(494),ae=n(478),oe=n(27),se=n.n(oe);function re(){const e=Object(i.h)(),t=Object(i.g)(),n=se.a.parse(e.search).columns||"1";return Object(u.jsxs)(_.a,{children:[Object(u.jsx)(ne.a,{variant:"subtitle1",children:"Columns"}),Object(u.jsx)(ae.a,{fullWidth:!0,value:n,exclusive:!0,onChange:(n,c)=>((n,c,a)=>{const o=se.a.parse(e.search);c===a?delete o[n]:o[n]=c,t.replace({search:se.a.stringify(o)})})(B,c,"1"),children:["1","2","3","4","5","6","7","8"].map((e=>Object(u.jsx)(ce.a,{value:e,children:e},e)))})]})}var ie=n(71),le=n.n(ie),je=n(187),be=n.n(je),de=n(471),he=n(495),ue=n(496),Oe=n(497),pe=n(499),xe=n(498),me=n(462),ge=n(465),fe=n(506);const ve=Object(fe.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)"}})(he.a),we=()=>Object(u.jsxs)(de.a,{children:[Object(u.jsx)(ue.a,{expandIcon:Object(u.jsx)(be.a,{}),children:Object(u.jsxs)(ne.a,{children:["Set a ",Object(u.jsx)("b",{children:"GitHub Token"})," to create or change Music Markdown files in GitHub."]})}),Object(u.jsx)(ve,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"How to Create a New Token"}),Object(u.jsx)("p",{children:"These instructions will help you create a new GitHub token, and add it to Music Markdown so that you can use the Music Markdown editor."}),Object(u.jsxs)("ol",{children:[Object(u.jsxs)("li",{children:["Open your"," ",Object(u.jsx)("a",{href:"https://github.com/settings/tokens",rel:"noreferrer",target:"_blank",children:"Personal access tokens"})," ","page in GitHub."]}),Object(u.jsxs)("li",{children:["Click ",Object(u.jsx)("b",{children:"Generate new token"}),"."]}),Object(u.jsxs)("li",{children:["Under ",Object(u.jsx)("b",{children:"Note"})," type ",Object(u.jsx)("b",{children:"Music Markdown"}),"."]}),Object(u.jsxs)("li",{children:["Under ",Object(u.jsx)("b",{children:"scopes"})," grant ",Object(u.jsx)("b",{children:"repo"})," permissions."]}),Object(u.jsxs)("li",{children:["Scroll to the bottom and click ",Object(u.jsx)("b",{children:"Generate token"}),"."]}),Object(u.jsx)("li",{children:"Copy the newly generated token and paste it below."})]})]})})]});function ye({open:e,handleClose:t}){const{gitHubToken:n,setGitHubToken:a}=p(),[o,s]=Object(c.useState)(n),r=e=>""===e||b(e),i=()=>{s(n),t()};return Object(u.jsxs)(Oe.a,{open:e,onClose:i,children:[Object(u.jsx)(me.a,{id:"set-github-api-key",children:"Set GitHub Token"}),Object(u.jsx)(xe.a,{children:Object(u.jsx)(we,{})}),Object(u.jsx)(xe.a,{children:Object(u.jsx)(ge.a,{autoFocus:!0,margin:"dense",label:"GitHub Token",fullWidth:!0,value:o||"",onChange:e=>s(e.target.value),error:!r(o),helperText:"Warning: GitHub tokens are very sensitive. Anyone who  gains access to this token will have access to your GitHub account. Please proceed with caution."})}),Object(u.jsxs)(pe.a,{children:[Object(u.jsx)(V.a,{onClick:i,color:"secondary",children:"Cancel"}),Object(u.jsx)(V.a,{onClick:()=>{r(o)&&(a(o),t())},color:"primary",disabled:!r(o),children:""===o?"Clear":"Save"})]})]})}function ke(){const[e,t]=Object(c.useState)(!1);return Object(u.jsxs)(_.a,{children:[Object(u.jsx)(ne.a,{variant:"subtitle1",children:"GitHub Token"}),Object(u.jsx)(V.a,{fullWidth:!0,variant:"outlined",onClick:()=>{t(!0)},startIcon:Object(u.jsx)(le.a,{}),children:"Set GitHub Token"}),Object(u.jsx)(ye,{open:e,handleClose:()=>{t(!1)}})]})}var Ce=n(189),Se=n.n(Ce),Te=n(106),Ne=n.n(Te),Ae=n(188),Ee=n.n(Ae),He=n(190),Ge=n.n(He);const Fe=({close:e})=>{const{showSnackbar:t}=Object(c.useContext)(S);return Object(u.jsx)(V.a,{variant:"outlined",startIcon:Object(u.jsx)(Ee.a,{}),onClick:()=>{navigator.clipboard.writeText(window.location.href),t("Song URL copied to the clipboard!"),e()},children:"Share song URL"})},Ie=({close:e})=>{const t=Object(i.g)(),{repo:n,mode:c,branch:a,path:o}=Object(i.i)(),s=()=>{e(),t.push("/repos/".concat(n,"/editor/").concat(a,"/").concat(o))},r=()=>{e(),t.push("/repos/".concat(n,"/viewer/").concat(a,"/").concat(o))};return"viewer"===c?Object(u.jsx)(V.a,{variant:"outlined",startIcon:Object(u.jsx)(Se.a,{}),onClick:s,children:"Edit inline"}):"editor"===c?Object(u.jsx)(V.a,{variant:"outlined",startIcon:Object(u.jsx)(Ne.a,{}),onClick:r,children:"Exit to viewer"}):null},Pe=({close:e})=>{const t=Object(i.g)(),{repo:n,branch:c,path:a}=Object(i.i)(),o=a.split("/").slice(0,-1).join("/");return Object(u.jsx)(V.a,{variant:"outlined",startIcon:Object(u.jsx)(Ge.a,{}),onClick:()=>{e(),t.push("/repos/".concat(n,"/browser/").concat(c,"/").concat(o))},children:"Back to song list"})},Re=()=>{const{repo:e,branch:t,path:n}=Object(i.i)(),c="https://github.com/".concat(e,"/blob/").concat(t,"/").concat(n);return Object(u.jsx)(V.a,{href:c,variant:"outlined",startIcon:Object(u.jsx)(le.a,{}),children:"Show on GitHub"})};function We({close:e}){return Object(u.jsxs)(_.a,{children:[Object(u.jsx)(ne.a,{variant:"subtitle1",children:"Song Actions"}),Object(u.jsxs)(te.a,{direction:"column",spacing:1,children:[Object(u.jsx)(Fe,{close:e}),Object(u.jsx)(Ie,{close:e}),Object(u.jsx)(Pe,{close:e}),Object(u.jsx)(Re,{})]})]})}var Me=n(193),Be=n.n(Me),De=n(191),ze=n.n(De),Le=n(192),_e=n.n(Le);function Ve(){const{themeName:e,setThemeName:t}=Object(c.useContext)(I);return Object(u.jsxs)(_.a,{children:[Object(u.jsx)(ne.a,{variant:"subtitle1",children:"Theme"}),Object(u.jsxs)(ae.a,{value:e,fullWidth:!0,exclusive:!0,onChange:(e,n)=>t(n),children:[Object(u.jsx)(ce.a,{value:"light",children:Object(u.jsxs)(te.a,{spacing:1,direction:"row",children:[Object(u.jsx)(ze.a,{}),Object(u.jsx)(ne.a,{variant:"button",children:"Light"})]})}),Object(u.jsx)(ce.a,{value:"system",children:Object(u.jsxs)(te.a,{spacing:1,direction:"row",children:[Object(u.jsx)(_e.a,{}),Object(u.jsx)(ne.a,{variant:"button",children:"System"})]})}),Object(u.jsx)(ce.a,{value:"dark",children:Object(u.jsxs)(te.a,{spacing:1,direction:"row",children:[Object(u.jsx)(Be.a,{}),Object(u.jsx)(ne.a,{variant:"button",children:"Dark"})]})})]})]})}var Ue=n(194),$e=n.n(Ue),Je=n(195),qe=n.n(Je),Ye=n(196),Ke=n.n(Ye),Xe=n(500);function Ze(){const e=Object(i.h)(),t=Object(i.g)(),n=se.a.parse(e.search),c=Number(n.transpose||"0"),a=n=>{const c=se.a.parse(e.search);0===n?delete c.transpose:c.transpose=String(n),t.replace({search:se.a.stringify(c)})};return Object(u.jsxs)(_.a,{children:[Object(u.jsx)(ne.a,{variant:"subtitle1",children:"Transpose"}),Object(u.jsxs)(te.a,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center",children:[Object(u.jsx)(X.a,{"aria-label":"Transpose down",color:"primary",onClick:()=>a(c-1),children:Object(u.jsx)($e.a,{})}),Object(u.jsx)(ne.a,{variant:"body1",children:c}),Object(u.jsx)(X.a,{"aria-label":"Transpose up",color:"primary",onClick:()=>a(c+1),children:Object(u.jsx)(qe.a,{})}),Object(u.jsx)(Xe.a,{orientation:"vertical"}),Object(u.jsx)(V.a,{variant:"outlined",startIcon:Object(u.jsx)(Ke.a,{}),onClick:()=>a(0),children:"Reset"})]})]})}function Qe({open:e,close:t,anchorEl:n}){return Object(u.jsx)(Q.a,{anchor:"right",open:e,anchorEl:n,children:Object(u.jsx)(ee.a,{children:Object(u.jsx)(_.a,{maxHeight:"calc(100vh - 7em)",overflow:"auto",sx:{padding:2},children:Object(u.jsxs)(te.a,{spacing:2,children:[Object(u.jsx)(i.b,{path:"".concat(D,"/:mode(viewer|editor)/:branch/:path*"),render:()=>Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(We,{close:t}),Object(u.jsx)(Ze,{}),Object(u.jsx)(re,{})]})}),Object(u.jsx)(Ve,{}),Object(u.jsx)(ke,{})]})})})})}function et(){const[e,t]=Object(c.useState)(null),n=Boolean(e),a=()=>{t(null)};return Object(u.jsx)(_.a,{children:Object(u.jsx)(Z.a,{onClickAway:a,children:Object(u.jsxs)(_.a,{children:[Object(u.jsx)(K.a,{title:"More",children:Object(u.jsx)(X.a,{onClick:e=>{t(n?null:e.currentTarget)},size:"large",children:Object(u.jsx)(Y.a,{})})}),Object(u.jsx)(Qe,{open:n,close:a,anchorEl:e})]})})})}var tt=n(467);function nt(){const{repo:e,branch:t}=Object(i.i)(),n=Object(i.g)(),{loading:c,value:a}=m("/repos/".concat(e,"/git/trees/").concat(t,"?recursive=1"),{tree:[]}),o=a.tree.map((e=>e.path));return Object(u.jsx)(tt.a,{fullWidth:!0,disabled:c,size:"small",options:o||[],renderInput:e=>Object(u.jsx)(ge.a,{...e,label:c?"Loading\u2026":"Jump to\u2026"}),onChange:(c,a,o)=>{"selectOption"===o&&n.push("/repos/".concat(e,"/viewer/").concat(t,"/").concat(a))}})}var ct=n(199),at=n.n(ct),ot=n(466),st=n(198),rt=n.n(st);const it=Object(ot.a)((e=>({paper:{position:"fixed",bottom:e.spacing(1),right:e.spacing(1),padding:e.spacing(2),cursor:"move"}})));function lt({youTubeId:e,visible:t}){const n=it(),a=Object(c.useRef)();return t&&e?Object(u.jsx)(rt.a,{nodeRef:a,children:Object(u.jsx)(ee.a,{ref:a,className:n.paper,children:Object(u.jsx)("iframe",{title:"YouTube",style:{border:0},src:"https://www.youtube.com/embed/".concat(e,"?autoplay=1&modestbranding=1"),allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}):null}function jt(){const{youTubeId:e}=W(),[t,n]=Object(c.useState)(!1);Object(c.useEffect)((()=>{n(!e)}),[e]);return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(K.a,{title:"Show / Hide YouTube Player",children:Object(u.jsx)(X.a,{color:t?"secondary":"default",onClick:()=>{n(!t)},size:"large",children:Object(u.jsx)(at.a,{})})}),Object(u.jsx)(lt,{visible:t,youTubeId:e})]}):null}function bt(){return Object(u.jsx)(z.a,{position:"sticky",children:Object(u.jsxs)(L.a,{children:[Object(u.jsx)(J,{}),Object(u.jsx)(i.b,{path:"".concat(D,"/:mode/:branch/:path*"),component:nt}),Object(u.jsx)(_.a,{sx:{flexGrow:1}}),Object(u.jsx)(i.b,{path:"".concat(D,"/:mode(viewer|editor)/:branch/:path*"),render:()=>Object(u.jsx)(jt,{})}),Object(u.jsx)(et,{})]})},"top-navbar")}var dt=n(200),ht=n.n(dt),ut=n(475),Ot=n(484),pt=n(482),xt=n(474),mt=n(486),gt=n(487),ft=n(472),vt=n(502);const wt=Object(ot.a)((e=>({paper:{padding:e.spacing(1)},reactRouterHoverInherit:e.reactRouterHoverInherit})));function yt(){const{pathname:e}=Object(i.h)(),t=wt(),n=e.split("/").filter((e=>!!e));n[3]="browser";const c=function(e,t){const n=[],c=[0,3],a="breadcrumb-item-";let o="";for(let s=0;s<e.length;s++){const i=e[s];o=o.concat("/",i),-1===c.indexOf(s)&&(s===e.length-1?n.push(Object(u.jsx)(ne.a,{role:"breadcrumb",color:"textPrimary",children:i},"".concat(a).concat(s))):n.push(Object(u.jsx)(vt.a,{role:"breadcrumb",component:r.b,to:"".concat(o,"/"),color:"inherit",className:t.reactRouterHoverInherit,children:i},"".concat(a).concat(s))))}return n}(n,t);return Object(u.jsx)(ee.a,{className:t.paper,children:Object(u.jsxs)(ft.a,{children:[Object(u.jsx)(vt.a,{role:"breadcrumb",component:r.b,to:"/",color:"inherit",className:t.reactRouterHoverInherit,children:"Home"},"".concat("breadcrumb-item-","Home")),c]})})}const kt=Object(ot.a)({root:{flexGrow:1,padding:8}});function Ct({location:e}){const t=kt(),{repo:n}=Object(i.i)(),{loading:c,value:a}=m("/repos/".concat(n,"/branches"));return c?Object(u.jsx)(Ot.a,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(yt,{pathname:e.pathname}),Object(u.jsx)("div",{className:t.root,children:Object(u.jsx)(pt.a,{children:a.map((e=>Object(u.jsxs)(xt.a,{button:!0,component:r.b,to:"/repos/".concat(n,"/browser/").concat(e.name,"/"),children:[Object(u.jsx)(mt.a,{children:Object(u.jsx)(ut.a,{children:Object(u.jsx)(ht.a,{})})}),Object(u.jsx)(gt.a,{primary:e.name})]},"list-group-item-".concat(e.name))))})})]})}var St=n(204),Tt=n.n(St),Nt=n(203),At=n.n(Nt),Et=n(108),Ht=n.n(Et),Gt=n(503),Ft=n(504),It=n(488),Pt=n(476),Rt=n(505),Wt=n(202),Mt=n.n(Wt),Bt=n(201),Dt=n.n(Bt),zt=n(491),Lt=n(107),_t=n.n(Lt);const Vt=Object(ot.a)((e=>({error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"},margin:{margin:e.spacing(1)}})));function Ut({open:e,handleClose:t,message:n}){const c=Vt();return Object(u.jsx)(k.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e,autoHideDuration:6e3,onClose:t,children:Object(u.jsx)(zt.a,{className:c.error,"aria-describedby":"client-snackbar",message:Object(u.jsxs)("span",{id:"client-snackbar",className:c.message,children:[Object(u.jsx)(Dt.a,{className:_t()(c.icon,c.iconVariant)}),n]}),action:[Object(u.jsx)(X.a,{"aria-label":"Close",color:"inherit",className:c.close,onClick:t,size:"large",children:Object(u.jsx)(Mt.a,{className:c.icon})},"close")]})})}const $t=Object(ot.a)((e=>({whitespacePre:{whiteSpace:"pre-line",fontFamily:"monospace"},grid:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})));function Jt(){const e=$t(),{repo:t,path:n,branch:a}=Object(i.i)(),{gitHubToken:o}=p(),[s,r]=Object(c.useState)(""),[l,b]=Object(c.useState)(!1),[d,h]=Object(c.useState)(!1),[O,x]=Object(c.useState)(""),[m,g]=Object(c.useState)(!1),f=e=>{x(e),g(!0)},v=()=>!!s.match(/^[^<>:"/\\|?*]+$/),w=()=>"---\n---\n\n# ".concat(s),y=()=>n?"".concat(n,"/").concat(s,".md"):"".concat(s,".md");return d?Object(u.jsx)(i.a,{to:"/repos/".concat(t,"/editor/").concat(a,"/").concat(y())}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(Pt.a,{container:!0,className:e.grid,direction:"row",justifyContent:"flex-end",alignItems:"flex-end",children:[Object(u.jsx)(K.a,{title:o?"Add Song":"Add a GitHub Token to Enable Editing",children:Object(u.jsx)("span",{children:Object(u.jsx)(It.a,{"aria-label":"Add",disabled:!o,onClick:()=>{b(!0)},children:Object(u.jsx)(Ht.a,{})})})}),Object(u.jsxs)(Oe.a,{open:l,"aria-labelledby":"add-new-file-dialog",fullWidth:!0,children:[Object(u.jsx)(me.a,{id:"add-new-file-dialog-title",children:"Create New Music Markdown File"}),Object(u.jsxs)(xe.a,{children:[Object(u.jsx)(Gt.a,{className:e.previewCard,children:Object(u.jsxs)(Ft.a,{children:[Object(u.jsx)(ne.a,{variant:"caption",color:"textSecondary",gutterBottom:!0,children:"Preview"}),Object(u.jsx)(ne.a,{variant:"body1",color:"textPrimary",className:e.whitespacePre,children:w()})]})}),Object(u.jsx)(ge.a,{autoFocus:!0,margin:"dense",id:"owner",label:"Music Markdown File Name",value:s,onChange:e=>{r(e.target.value)},fullWidth:!0,error:!v(),helperText:v()?Object(u.jsxs)(u.Fragment,{children:[t,"/",a,"/",y()]}):"Invalid file name",InputProps:{endAdornment:Object(u.jsx)(Rt.a,{position:"end",children:".md"})}})]}),Object(u.jsxs)(pe.a,{children:[Object(u.jsx)(V.a,{onClick:()=>{b(!1),r("")},color:"secondary",children:"Cancel"}),Object(u.jsx)(V.a,{onClick:async()=>{const e=y(),n=w(),c=await j(t,e,n,void 0,a,o);201===c.status?h(!0):f("".concat(c.status,": ").concat(c.statusText))},color:"primary",disabled:!v(),children:"Create"})]})]})]}),Object(u.jsx)(Ut,{message:O,open:m,handleClose:(e,t)=>{"clickaway"!==t&&g(!1)}})]})}const qt=Object(ot.a)({root:{flexGrow:1,padding:8}});function Yt(){const e=qt(),{repo:t,path:n,branch:c}=Object(i.i)(),{loading:a,value:o}=g(t,n,c);if(a)return Object(u.jsx)(Ot.a,{});const s=function(e){return[...e].sort(((e,t)=>"file"===e.type?"file"===t.type?e.name-t.name:1:"file"===t.type?-1:e.name-t.name))}(o);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(yt,{}),Object(u.jsxs)("div",{className:e.root,children:[Object(u.jsx)(pt.a,{children:s.map((e=>Object(u.jsxs)(xt.a,{button:!0,component:r.b,to:"dir"===e.type?"/repos/".concat(t,"/browser/").concat(c,"/").concat(e.path,"/"):"/repos/".concat(t,"/viewer/").concat(c,"/").concat(e.path),children:[Object(u.jsx)(mt.a,{children:Object(u.jsx)(ut.a,{children:"dir"===e.type?Object(u.jsx)(At.a,{}):Object(u.jsx)(Tt.a,{})})}),"dir"===e.type?Object(u.jsx)(gt.a,{secondary:e.name}):Object(u.jsx)(gt.a,{primary:e.name})]},"list-group-item-".concat(e.name))))},"repo-navigation-list"),Object(u.jsx)(Jt,{})]})]})}var Kt=n(209),Xt=n.n(Kt),Zt=n(211),Qt=n.n(Zt),en=n(210),tn=n.n(en),nn=n(489),cn=n(65),an=n(26),on=n(205),sn=n.n(on),rn=n(206),ln=n(207),jn=n.n(ln),bn=n(208),dn=n.n(bn);const hn=Object(ot.a)((e=>({columns:{columnGap:"".concat(20,"px"),columnRuleWidth:"1px",columnRuleStyle:"dashed",columnRuleColor:e.palette.text.secondary}}))),un=({source:e,width:t,columnCount:n,transposeAmount:a})=>{const o=Object(an.a)(),{setYouTubeId:s}=W(),[r,i]=Object(c.useState)(""),[l,j]=Object(c.useState)(),[b,d]=Object(c.useState)(!1);Object(c.useEffect)((()=>{const c=new jn.a({html:!0}).use(dn.a);c.setTranspose(a),c.setTheme(o.palette.mode),c.setMaxWidth((t-20*(n-1))/n);try{i(c.render(e)),d(!1),s(c.meta.youTubeId)}catch(r){console.log(r),i("<pre>".concat(e,"</pre>")),j(r.message),d(!0)}}),[s,e,t,n,a,o.palette.mode]);var h=/<script>([.\s\S]*)<\/script>/gm.exec(r);return h&&window.eval(h[1]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mmd-".concat(o.palette.mode),dangerouslySetInnerHTML:{__html:r}}),Object(u.jsx)(Ut,{message:l,open:b,handleClose:(e,t)=>{"clickaway"!==t&&d(!1)}})]})};function On(e){const t=hn(),n=Object(c.useRef)(),{width:a}=function(e){const[t,n]=Object(c.useState)({width:0,height:0});return Object(c.useEffect)((()=>{const t=()=>{n({width:e.current.offsetWidth,height:e.current.offsetHeight})};return(null===e||void 0===e?void 0:e.current)&&t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[e]),t}(n);return Object(u.jsx)("div",{className:t.columns,style:{columnCount:e.columnCount},ref:n,children:Object(u.jsx)(un,{width:a,...e})})}n(389),n(390),n(391);const pn=Object(ot.a)((e=>({root:{flexGrow:1,padding:8},fabProgress:{color:cn.a[500],position:"absolute",top:-6,left:-6,zIndex:1},editor:{marginLeft:e.spacing(1),marginRight:e.spacing(1),height:"100%",width:"100%"},fab:{margin:e.spacing(1)},toolbar:{display:"flex",padding:e.spacing(1)},paper:{padding:e.spacing(2),height:"100%"},buttonSuccess:{backgroundColor:cn.a[500],"&:hover":{backgroundColor:cn.a[700]}}})));function xn({location:e}){const t=pn(),n=Object(an.a)(),{gitHubToken:a}=p(),[o,s]=Object(c.useState)(""),l=function(e,t){const[n,a]=Object(c.useState)("");return Object(c.useEffect)((()=>{const n=setTimeout((()=>a(e)),t);return()=>clearTimeout(n)}),[e,t]),n}(o,250),[b,d]=Object(c.useState)(),[h,O]=Object(c.useState)(!1),[x,m]=Object(c.useState)(!1),[f,v]=Object(c.useState)(!1),{repo:w,path:y,branch:k}=Object(i.i)(),{loading:C,value:S,content:T}=g(w,y,k);Object(c.useEffect)((()=>{S&&(s(T),d(S.sha))}),[T,S]);const N=se.a.parse(e.search),A=N.columns||"1",E=Number(N.transpose)||0,H=_t()({[t.buttonSuccess]:x}),G=e.pathname.split("/");G[4]="viewer";const F=G.join("/"),I=[G[2],G[3],"blob"].concat(G.slice(5)),P="https://github.com/".concat(I.join("/"));return C?Object(u.jsx)(Ot.a,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(yt,{pathname:e.pathname}),Object(u.jsx)("div",{className:t.root,children:Object(u.jsxs)(Pt.a,{container:!0,spacing:1,children:[Object(u.jsx)(Pt.a,{item:!0,xs:12,children:Object(u.jsxs)(ee.a,{className:t.toolbar,children:[Object(u.jsx)(K.a,{title:a?"Save":"Add a GitHub Token to Enable Saving",children:Object(u.jsx)("span",{children:Object(u.jsxs)(It.a,{disabled:!f||!a,className:"".concat(H," ").concat(t.fab),onClick:async()=>{if(!h){m(!1),O(!0);const e=await j(w,y,o,b,k,a),t=await e.json();200===e.status?(m(!0),O(!1),d(t.content.sha)):(m(!1),O(!1))}},children:[x?Object(u.jsx)(Xt.a,{}):Object(u.jsx)(tn.a,{}),h&&Object(u.jsx)(nn.a,{size:68,className:t.fabProgress})]})})}),Object(u.jsx)(K.a,{title:"Auto Format",children:Object(u.jsx)(It.a,{className:t.fab,onClick:()=>{s(Object(rn.a)(o))},children:Object(u.jsx)(Qt.a,{})})}),Object(u.jsx)(K.a,{title:"Return to Markdown View",children:Object(u.jsx)(It.a,{component:r.b,to:F,className:t.fab,children:Object(u.jsx)(Ne.a,{})})}),Object(u.jsx)(K.a,{title:"Open in GitHub",children:Object(u.jsx)(It.a,{href:P,target:"_blank",className:t.fab,children:Object(u.jsx)(le.a,{})})})]})}),Object(u.jsx)(Pt.a,{item:!0,xs:6,children:Object(u.jsx)(ee.a,{className:t.paper,children:Object(u.jsx)(sn.a,{mode:"markdown",theme:"dark"===n.palette.mode?"twilight":"textmate",width:"100%",maxLines:1/0,className:t.editor,onChange:e=>{s(e),v(!0),m(!1)},value:o,editorProps:{$blockScrolling:!0}})})}),Object(u.jsx)(Pt.a,{item:!0,xs:6,children:Object(u.jsx)(ee.a,{className:t.paper,children:Object(u.jsx)(On,{source:l,columnCount:A,transposeAmount:E})})})]})})]})}const mn=Object(ot.a)({root:{flexGrow:1,padding:8}});function gn({location:e}){const t=mn(),{repo:n,path:c,branch:a}=Object(i.i)(),{loading:o,content:s}=g(n,c,a),r=se.a.parse(e.search),l=r.columns||"1",j=Number(r.transpose)||0;return o?Object(u.jsx)(Ot.a,{}):Object(u.jsx)("div",{className:t.root,children:Object(u.jsx)(On,{source:s,columnCount:l,transposeAmount:j})})}var fn=n(212),vn=n.n(fn),wn=n(213),yn=n.n(wn),kn=n(485);const Cn=Object(ot.a)((e=>({grid:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})));function Sn({handleAddRepository:e}){const t=Cn(),[n,a]=Object(c.useState)(!1),[o,s]=Object(c.useState)(""),[r,i]=Object(c.useState)(""),[l,j]=Object(c.useState)(null),[b,d]=Object(c.useState)(!1),h=()=>{a(!1),s(""),i(""),d(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(Pt.a,{container:!0,className:t.grid,direction:"row",justifyContent:"flex-end",alignItems:"flex-end",children:[Object(u.jsx)(It.a,{"aria-label":"Add",onClick:()=>{a(!0)},children:Object(u.jsx)(Ht.a,{})}),Object(u.jsxs)(Oe.a,{open:n,"aria-labelledby":"add-repository-dialog",children:[Object(u.jsx)(me.a,{id:"add-repository-dialog-title",children:"Add Repository"}),Object(u.jsxs)(xe.a,{children:[Object(u.jsx)(ge.a,{autoFocus:!0,margin:"dense",id:"owner",label:"Repository Owner",value:r,onChange:e=>{i(e.target.value)},fullWidth:!0}),Object(u.jsx)(ge.a,{margin:"dense",id:"name",label:"Repository Name",value:o,onChange:e=>{s(e.target.value)},fullWidth:!0})]}),Object(u.jsxs)(pe.a,{children:[Object(u.jsx)(V.a,{onClick:h,children:"Cancel"}),Object(u.jsx)(V.a,{onClick:async()=>{try{await e("".concat(r,"/").concat(o)),h()}catch(t){(e=>{j(e),d(!0)})(t.message)}},children:"Add"})]})]})]}),Object(u.jsx)(Ut,{message:l,open:b,handleClose:(e,t)=>{"clickaway"!==t&&d(!1)}})]})}const Tn=Object(ot.a)({root:{flexGrow:1,padding:8}});function Nn(){const e=Tn(),t=w(),{addRepo:n,deleteRepo:c}=v();return Object(u.jsxs)("div",{className:e.root,children:[Object(u.jsx)(pt.a,{children:t.map((e=>Object(u.jsxs)(xt.a,{button:!0,component:r.b,to:"/repos/".concat(e.full_name,"/browser/").concat(e.default_branch),children:[Object(u.jsx)(mt.a,{children:Object(u.jsx)(ut.a,{children:Object(u.jsx)(vn.a,{})})}),Object(u.jsx)(gt.a,{primary:e.full_name}),Object(u.jsx)(kn.a,{children:Object(u.jsx)(X.a,{"aria-label":"Delete",onClick:()=>c(e.full_name),size:"large",children:Object(u.jsx)(yn.a,{})})})]},"repo-item-".concat(e.full_name))))}),Object(u.jsx)(Sn,{handleAddRepository:n})]})}var An=n(81),En=n(134);const Hn=Object(ot.a)((e=>({root:{flexGrow:1,padding:8},chordSourcePaper:{margin:e.spacing(1),padding:e.spacing(2)},chordCategoryPaper:{margin:e.spacing(1),textAlign:"center"},chordCategoryTypography:{color:e.palette.text.primary,textAlign:"center"},chordVariantPaper:{display:"inline-block",margin:e.spacing(1),textAlign:"center"},chordVariantTypography:{color:e.palette.text.secondary},chordDiagram:{filter:"dark"===e.palette.mode?"invert(100%)":""}})));function Gn({location:e,match:t}){const n=Hn();return Object(u.jsxs)("div",{className:n.root,children:[Object(u.jsx)(ne.a,{variant:"h2",children:"Sandbox"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(r.b,{to:"".concat(t.url,"/all-features-in-one-place"),children:"All the Features in One Place"})}),Object(u.jsx)("li",{children:Object(u.jsx)(r.b,{to:"".concat(t.url,"/guitar-chordbook"),children:"Guitar Chordbook"})})]}),Object(u.jsx)(i.b,{path:"".concat(t.path,"/all-features-in-one-place"),component:()=>Object(u.jsx)(Fn,{location:e,source:Bn})}),Object(u.jsx)(i.b,{path:"".concat(t.path,"/guitar-chordbook"),component:Rn})]})}const Fn=({source:e,location:t})=>{const n=se.a.parse(t.search),c=n.columns||"1",a=Number(n.transpose)||0;return Object(u.jsx)(On,{source:e,columnCount:c,transposeAmount:a})},In=["C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb","B"],Pn=["","m","6","m6","7","maj7","m7","9","dim","aug","sus2","7sus2","sus4","7sus4","5","dim5","dim7","7b5","m7b5","7#5","7b9","7#9","7b9#5","7/6","9b5","9#5","maj9","m9","9/6","m9/6","add9","11","m11","11aug","13","13b9","13b9b5"],Rn=({location:e})=>{const t=Hn();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ne.a,{variant:"h3",children:"Guitar Chordbook"}),Object(u.jsx)(ee.a,{className:t.chordSourcePaper,children:Object(u.jsx)(Fn,{source:Mn,location:e})}),In.map(((e,n)=>Object(u.jsxs)(ee.a,{className:t.chordCategoryPaper,children:[Object(u.jsxs)(ne.a,{className:t.chordCategoryTypography,variant:"h4",children:[e," Chords"]}),Object(u.jsx)(Wn,{category:e})]},"category-".concat(n))))]})},Wn=({category:e})=>{const t=Hn();return Array.from(An.guitarChordbook.keys()).filter((t=>t.match(/^[CDEFGAB](?:#|b)?|N\.C\./)[0]===e)).map(((e,n)=>Object(u.jsxs)(ee.a,{className:t.chordVariantPaper,children:[An.guitarChordbook.get(e).map(((e,n)=>Object(u.jsx)("span",{className:t.chordDiagram,dangerouslySetInnerHTML:{__html:Object(En.renderChordDiagram)(e)}},"variant-".concat(n)))),Object(u.jsx)(ne.a,{className:t.chordVariantTypography,variant:"h5",children:e})]},"chord-".concat(n))))},Mn="---\n---\n".concat(In.map((e=>"## ".concat(e," Chords\nc1: ").concat(Pn.map((t=>e+t)).join(" ")))).join("\n\n"),"\n"),Bn='---\nyouTubeId: dN3GbF9Bx6E\n---\n\n# All the Features in One Place\n\n## Chord and Lyrics\nc1: Em               D           Em\nl1: Are you goin\' to Scarborough Fair?\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\n\nc1: Em       G                   D\nl1: Remember me to one who lives there\n\nc1: Em       D                  Em\nl1: She once was a true love of mine\n\n## Multiple Overlapping Voices\nc1: Em                         D         Em\nl1: Tell her to make me a      cambric   shirt\nl2:                     On the side of a hill in the deep forest green\n\nc1: G        Em        G A       Em\nl1: Parsley, sage, rosemary, and thyme\nl2:                              Tracing a sparrow on snow-crested ground\n\nc1: Em         G               D\nl1: Without no seams nor needlework\nl2:                      Blankets and bedclothes the child of the mountain\n\nc1: Em          D                 Em\nl1: Then she\'ll be a true love of mine\nl2:                               Sleeps unaware of the clarion call\n\n## VexTab\n\n:::vextab\noptions space=20\n\ntabstave\n  notation=true\n  key=A time=4/4\n\n  notes :q =|: (5/2.5/3.7/4) :8 7-5h6/3 ^3^ 5h6-7/5 ^3^ :q 7V/4 |\n  notes :8 t12p7/4 s5s3/4 :8 3s:16:5-7/5 :h p5/4\n  text :w, |#segno, ,|, :hd, , #tr\n\n\noptions space=25\n\ntabstave\n  notation=true\n\n  notes :q (5/4.5/5) (7/4.7/5)s(5/4.5/5) ^3^\n  notes :8 7-5/4 $.a./b.$ (5/4.5/5)h(7/5) =:|\n  notes :8 (12/5.12/4)ds(5/5.5/4)u 3b4/5\n  notes :h (5V/6.5/4.6/3.7/2) $.italic.let ring$ =|=\n\n  text :h, ,.font=Times-12-italic, D.S. al coda, |#coda\n  text :h, ,.-1, .font=Arial-14-bold,A13\n  text ++, .23, #f\n :::\n\n## ABC\n\n:::abc\nX: 1\nM: 4/4\nL: 1/16\nK: Amin\n"Am" (C16 | C4) B,2C2 D6 CB, | (C16 | C4) B,2C2 "F" D6 CA, |\n"C" G,8 "E" _A,8 | "Am" =A,8 "F" (3F4 F4 F4 | "E" F2 (E6 E8) | z6 ^A2 B4 e4 |\n"Am" e2d2c2(d2 "G" d4) .=A4 | "F" e2d2c2(d2 "G" d4) .A4 |\n"Esus4" e4 e4 e2d2B2d2 | "E" e4 e4 e2g2e2d2 |\n"Am" .e4 c2 "G" .d4 c2 e4 | "F" z2 c2 e2 "G" d6 c2d2 |\n"Esus4" e2e2e2d2 d2B2B2_A2 | "E" _A2F2F2E2 =A2B2A2G2 |\n:::\n\n',Dn=()=>Object(u.jsxs)(r.a,{children:[Object(u.jsx)(i.b,{component:bt}),Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"".concat(D,"/viewer/:branch/:path+"),component:gn}),Object(u.jsx)(i.b,{path:"".concat(D,"/browser/:branch/:path*"),component:Yt}),Object(u.jsx)(i.b,{path:"".concat(D,"/editor/:branch/:path*"),component:xn}),Object(u.jsx)(i.b,{path:D,component:Ct}),Object(u.jsx)(i.b,{path:"/sandbox",component:Gn}),Object(u.jsx)(i.b,{path:"/",component:Nn})]})]},"home-router");var zn=()=>Object(u.jsx)(M,{children:Object(u.jsx)(x,{children:Object(u.jsx)(y,{children:Object(u.jsx)(P,{children:Object(u.jsx)(T,{children:Object(u.jsx)(Dn,{})})})})})});const Ln=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _n(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(zn,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("","/service-worker.js");Ln?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((n=>{const c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):_n(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):_n(t,e)}))}}()}},[[392,1,2]]]);
//# sourceMappingURL=main.8e2126b7.chunk.js.map