(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,a){e.exports=a(322)},320:function(e,t,a){},322:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),c=a.n(o),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var l=a(119),u=a(58),p=a(64),m=a(38),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TRANSPOSE":return t.payload.transposeAmount;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_COLUMN_COUNT":return t.payload.columnCount;default:return e}},v=Object(m.b)({transpose:h,columnCount:d}),y=Object(m.c)(v),f=a(23),b=a.n(f),E=a(30),g=a(18),k=a(19),w=a(21),C=a(20),O=a(22),j=a(15),x=a(13),S=a(122),T=a.n(S),L=a(123),M=a.n(L),I=a(124),N=a.n(I),q=a(125),P=a(126),U=function(e){var t=e.youTubeId;return r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement("iframe",{title:t,className:"embed-responsive-item",src:"https://www.youtube.com/embed/".concat(t),allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))},A=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(w.a)(this,Object(C.a)(t).call(this,e))).state={visible:!1},a.handleToggle=a.handleToggle.bind(Object(j.a)(Object(j.a)(a))),a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"handleToggle",value:function(){this.setState(function(e){return{visible:!e.visible}})}},{key:"render",value:function(){return this.props.youTubeId?r.a.createElement("div",null,r.a.createElement(q.a,{icon:P.a,size:"2x",onClick:this.handleToggle}),this.state.visible?r.a.createElement(U,{youTubeId:this.props.youTubeId}):""):r.a.createElement("div",null)}}]),t}(r.a.Component),_=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(w.a)(this,Object(C.a)(t).call(this,e))).md=(new M.a).use(N.a),a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){this.md.setTranspose(this.props.transpose),this.md.setMaxWidth(this.props.width);var e=this.md.render(this.props.source);return r.a.createElement("div",null,r.a.createElement(A,{youTubeId:this.md.meta.youTubeId}),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e}}))}}]),t}(r.a.Component),D=function(e){var t=e.source,a=e.transpose;return r.a.createElement(T.a,null,r.a.createElement(_,{source:t,transpose:a}))},R=a(26),F=a.n(R),K="".concat("music-markdown",":repositories"),W="".concat("music-markdown",":github_token"),G="https://api.github.com",H="/repo";function J(e,t,a){return B.apply(this,arguments)}function B(){return(B=Object(E.a)(b.a.mark(function e(t,a,n){var r,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Q("/repos/".concat(t,"/").concat(a,"/contents/").concat(n)),e.next=3,fetch(r);case 3:return o=e.sent,void 0!==n&&0!==n.length&&"/"!==n||(n=""),e.abrupt("return",o.json());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(){var e=localStorage.getItem(K);return e?JSON.parse(e):[]}function Q(e){e=new URL(e,G);var t=localStorage.getItem(W);return t&&e.searchParams.set("access_token",t),e}var $=Object(x.a)(),V=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(w.a)(this,Object(C.a)(t).call(this,e))).arrowUpKeyCode=38,a.arrowDownKeyCode=40,a.queryParams=F.a.parse(a.props.location.search),a.state={isLoaded:!1,markdown:null,transpose:parseInt(a.queryParams.transpose,10)||0,repos:a.queryParams.repos,path:a.queryParams.path},a.handleKeyUpEvent=a.handleKeyUpEvent.bind(Object(j.a)(Object(j.a)(a))),a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(b.a.mark(function e(){var t,a,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.queryParams.owner,a=this.queryParams.repo,n=this.queryParams.path,e.next=5,J(t,a,n);case 5:r=e.sent,this.setState({isLoaded:!0,markdown:atob(r.content)});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleKeyUpEvent",value:function(e){e.keyCode===this.arrowUpKeyCode?this.setState({transpose:this.state.transpose+1}):e.keyCode===this.arrowDownKeyCode&&this.setState({transpose:this.state.transpose-1}),this.queryParams.transpose=this.state.transpose+1,$.push("#".concat(this.props.location.pathname,"?").concat(F.a.stringify(this.queryParams)))}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.markdown,n=e.transpose;return t?r.a.createElement("div",{className:"Markdown",tabIndex:"0",onKeyUp:this.handleKeyUpEvent},r.a.createElement(D,{source:a,transpose:n})):r.a.createElement("div",{className:"Markdown"},"Loading...")}}]),t}(r.a.Component),X=a(50),Y=a.n(X),Z=a(65),ee=a.n(Z),te=a(127),ae=a.n(te),ne=a(115),re=function(){var e=[],t=z();return t.length>0&&t.forEach(function(t){var a="".concat(t.owner,"/").concat(t.repo).concat(t.path),n={owner:t.owner,repo:t.repo,path:t.path},o="/repo?".concat(F.a.stringify(n));e.push(r.a.createElement(ne.a,{to:o,key:"dropdown-item-".concat(a),className:"dropdown-item"},a))}),r.a.createElement(ee.a,{title:"Music Repositories"},r.a.createElement(ee.a.Item,null,r.a.createElement("b",null,"Edit Repositories")),r.a.createElement(ee.a.Divider,null),e)},oe=function(){return localStorage.getItem(K)||function(e,t,a){var n={owner:e,repo:t,path:a},r=z(),o=r.length>0?r:[];o.push(n),localStorage.setItem(K,JSON.stringify(o))}("music-markdown","almost-in-time","/"),r.a.createElement(Y.a,{bg:"dark",expand:"lg",variant:"dark",key:"top-navbar"},r.a.createElement(Y.a.Brand,{href:"/"},"Music Markdown"),r.a.createElement(Y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(Y.a.Collapse,null,r.a.createElement(ae.a,{className:"mr-auto"},r.a.createElement(re,null),r.a.createElement(ne.a,{to:"/sandbox",className:"nav-link",activeClassName:"active"},"Sandbox"))))},ce=a(129),ie=a.n(ce),se="app-container";var le=function(e){return r.a.createElement(ie.a,{key:se},e.children)},ue=a(84),pe=a(51),me=a.n(pe),he=a(131),de=a.n(he),ve=a(63),ye=a.n(ve),fe=a(42);var be=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(w.a)(this,Object(C.a)(t).call(this,e))).state={repository:{isLoaded:!1,contents:[]}},a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(b.a.mark(function e(){var t,a,n,r,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=F.a.parse(this.props.location.search),a=t.owner,n=t.repo,r=t.path,e.next=6,J(a,n,r);case 6:o=e.sent,this.setState({repository:{isLoaded:!0,queryStringMap:t,contents:o}});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(E.a)(b.a.mark(function e(t){var a,n,r,o,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=F.a.parse(t.location.search),n=this.state.repository.queryStringMap.owner,r=this.state.repository.queryStringMap.repo,o=a.path,a===this.state.repository.queryStringMap){e.next=9;break}return e.next=7,J(n,r,o);case 7:c=e.sent,this.setState({repository:{isLoaded:!0,queryStringMap:a,contents:c}});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.repository.isLoaded){var e=[],t=this.state.repository.contents,a=this.state.repository.queryStringMap;t.forEach(function(t){var n=Object(ue.a)({},a),o="list-group-item-".concat(t.name);n.path="/".concat(t.path);var c=F.a.stringify(n);e.push("dir"===t.type?r.a.createElement(fe.LinkContainer,{to:"".concat(H,"?").concat(c),key:o},r.a.createElement(ye.a,{action:!0},r.a.createElement("i",null,"/".concat(t.name)))):"file"===t.type?r.a.createElement(fe.LinkContainer,{to:"".concat("/render","?").concat(c),key:o},r.a.createElement(ye.a,{action:!0},t.name)):r.a.createElement("div",null,"File type ",t.type," not supported"))});var n=function(e){var t=[],a="".concat(H),n="breadcrumb-item-",o=e.path.split("/");""===o[1]&&o.shift();for(var c=0;c<o.length;c++){var i=o[c],s=Object(ue.a)({},e);s.path="".concat("/",i);var l="".concat(a,"?").concat(F.a.stringify(s));switch(c){case 0:t.push(r.a.createElement(fe.LinkContainer,{to:l,key:"".concat(n).concat(c)},r.a.createElement(me.a.Item,null,"home")));break;case o.length-1:t.push(r.a.createElement(fe.LinkContainer,{to:l,key:"".concat(n).concat(c)},r.a.createElement(me.a.Item,{active:!0},i)));break;default:t.push(r.a.createElement(fe.LinkContainer,{to:l,key:"".concat(n).concat(c)},r.a.createElement(me.a.Item,null,i)))}}return r.a.createElement(me.a,null,t)}(this.state.repository.queryStringMap);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Repository Contents"),n,r.a.createElement(de.a,null,e))}return r.a.createElement("div",{className:"Markdown"},"Loading...")}}]),t}(r.a.Component),Ee=a(59),ge=a(60),ke=a(132),we=a.n(ke),Ce=a(83),Oe=a.n(Ce),je=a(41),xe=a.n(je),Se=0,Te=1,Le=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(w.a)(this,Object(C.a)(t).call(this,e))).handleTransposeClick=a.handleTransposeClick.bind(Object(j.a)(Object(j.a)(a))),a.handleColumnClick=a.handleColumnClick.bind(Object(j.a)(Object(j.a)(a))),a.increase="+1",a.decrease="-1",a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"handleTransposeClick",value:function(e){this.props.transpose(e.target.textContent===this.increase)}},{key:"handleColumnClick",value:function(e){this.props.updateColumnCount(e.target.textContent===this.increase)}},{key:"render",value:function(){return r.a.createElement(we.a,{className:"border justify-content-center bg-dark"},r.a.createElement("span",{className:"padding bg-dark text-light my-auto"},"Transpose"),r.a.createElement(Oe.a,null,r.a.createElement(xe.a,{variant:"dark",onClick:this.handleTransposeClick},this.decrease),r.a.createElement(xe.a,{variant:"dark",onClick:this.handleTransposeClick},this.increase)),r.a.createElement("span",{className:"padding bg-dark text-light my-auto"},"Columns"),r.a.createElement(Oe.a,null,r.a.createElement(xe.a,{variant:"dark",onClick:this.handleColumnClick},this.decrease),r.a.createElement(xe.a,{variant:"dark",onClick:this.handleColumnClick},this.increase)))}}]),t}(r.a.Component),Me=Object(p.b)(void 0,{transpose:function(e){return{type:"TRANSPOSE",payload:{transposeAmount:e?++Se:--Se}}},updateColumnCount:function(e){return{type:"UPDATE_COLUMN_COUNT",payload:{columnCount:e?++Te:--Te}}}})(Le),Ie=function(e){function t(e){var a;Object(g.a)(this,t);return(a=Object(w.a)(this,Object(C.a)(t).call(this,e))).state={value:"```chords\nc1:                    Am     G  F          G      Esus4  E\nv1: All the leaves are brown        and the sky is gray\n\nc1: F               C     E  Am       F        Esus4  E\nv1: I've been for a walk         on a winter's day\n\nc1:                 Am    G  F       G      Esus4  E\nv1: I'd be safe and warm        if I was in L.A.\n\nc1:            Am        G  F     G               Esus4  E\nv1: California dreamin'        on such a winter's day\n```"},a.handleChange=a.handleChange.bind(Object(j.a)(Object(j.a)(a))),a}return Object(O.a)(t,e),Object(k.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e={minHeight:"500px",width:"50%",marginRight:"20px",fontFamily:"monospace",whiteSpace:"pre"};return r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement("textarea",{value:this.state.value,onChange:this.handleChange,style:e}),r.a.createElement("div",{style:e},r.a.createElement(D,{source:this.state.value})))}}]),t}(r.a.Component),Ne=function(){return Array.from(ge.guitarChordLibrary.keys()).map(function(e,t){return r.a.createElement("div",{key:t,align:"center",style:{display:"inline-block"}},ge.guitarChordLibrary.get(e).map(function(e,t){return r.a.createElement("span",{key:t,dangerouslySetInnerHTML:{__html:Object(Ee.renderChordDiagram)(e)}})}),r.a.createElement("h5",null,e))})},qe=function(){return r.a.createElement("div",null,r.a.createElement(Me,null),r.a.createElement("h1",null,"Music Markdown Sandbox"),r.a.createElement("p",null,"This page exercises various subcomponents of music-markdown and markdown-it-music."),r.a.createElement("h2",null,"Markdown Editor"),r.a.createElement(Ie,null),r.a.createElement("h2",null,"Chord Diagram Renderer"),r.a.createElement("p",null,"This section exercises the Chord Diagram Renderer."),r.a.createElement("h3",null,"Esus4 (200x200)"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(Ee.renderChordDiagram)("o2 m1 m2 n3,2 n4,4 b5,6,5",200,200)}}),r.a.createElement("h2",null,"Entire Chord Library"),r.a.createElement(Ne,null))},Pe=(a(320),a(321),function(){return r.a.createElement(p.a,{key:"home-provider",store:y},r.a.createElement(l.a,{key:"home-router"},r.a.createElement("div",null,r.a.createElement(u.a,{component:oe}),r.a.createElement(u.a,{exact:!0,path:"/",component:Ue}),r.a.createElement(u.a,{exact:!0,path:H,component:be}),r.a.createElement(u.a,{path:"/sandbox",component:qe}),r.a.createElement(u.a,{path:"/render",component:V}))))}),Ue=function(){return r.a.createElement("h1",null,"Welcome to Music Markdown!")},Ae=function(){return r.a.createElement(le,{children:[Pe()]})};c.a.render(r.a.createElement(Ae,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");i?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):s(e)})}}()}},[[133,1,2]]]);
//# sourceMappingURL=main.6da48baa.chunk.js.map